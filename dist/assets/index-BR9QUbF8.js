function _h(e,n){for(var o=0;o<n.length;o++){const a=n[o];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();var ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p0={exports:{}},ml={},x0={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo=Symbol.for("react.element"),Rh=Symbol.for("react.portal"),Dh=Symbol.for("react.fragment"),Lh=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),kh=Symbol.for("react.provider"),Bh=Symbol.for("react.context"),Ph=Symbol.for("react.forward_ref"),Fh=Symbol.for("react.suspense"),Uh=Symbol.for("react.memo"),zh=Symbol.for("react.lazy"),Wc=Symbol.iterator;function jh(e){return e===null||typeof e!="object"?null:(e=Wc&&e[Wc]||e["@@iterator"],typeof e=="function"?e:null)}var m0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w0=Object.assign,E0={};function zi(e,n,o){this.props=e,this.context=n,this.refs=E0,this.updater=o||m0}zi.prototype.isReactComponent={};zi.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y0(){}y0.prototype=zi.prototype;function Iu(e,n,o){this.props=e,this.context=n,this.refs=E0,this.updater=o||m0}var Tu=Iu.prototype=new y0;Tu.constructor=Iu;w0(Tu,zi.prototype);Tu.isPureReactComponent=!0;var Gc=Array.isArray,C0=Object.prototype.hasOwnProperty,vu={current:null},A0={key:!0,ref:!0,__self:!0,__source:!0};function S0(e,n,o){var a,c={},d=null,p=null;if(n!=null)for(a in n.ref!==void 0&&(p=n.ref),n.key!==void 0&&(d=""+n.key),n)C0.call(n,a)&&!A0.hasOwnProperty(a)&&(c[a]=n[a]);var E=arguments.length-2;if(E===1)c.children=o;else if(1<E){for(var m=Array(E),w=0;w<E;w++)m[w]=arguments[w+2];c.children=m}if(e&&e.defaultProps)for(a in E=e.defaultProps,E)c[a]===void 0&&(c[a]=E[a]);return{$$typeof:Yo,type:e,key:d,ref:p,props:c,_owner:vu.current}}function Hh(e,n){return{$$typeof:Yo,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Nu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yo}function Vh(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(o){return n[o]})}var Yc=/\/+/g;function ea(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Vh(""+e.key):n.toString(36)}function Rs(e,n,o,a,c){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(d){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case Yo:case Rh:p=!0}}if(p)return p=e,c=c(p),e=a===""?"."+ea(p,0):a,Gc(c)?(o="",e!=null&&(o=e.replace(Yc,"$&/")+"/"),Rs(c,n,o,"",function(w){return w})):c!=null&&(Nu(c)&&(c=Hh(c,o+(!c.key||p&&p.key===c.key?"":(""+c.key).replace(Yc,"$&/")+"/")+e)),n.push(c)),1;if(p=0,a=a===""?".":a+":",Gc(e))for(var E=0;E<e.length;E++){d=e[E];var m=a+ea(d,E);p+=Rs(d,n,o,m,c)}else if(m=jh(e),typeof m=="function")for(e=m.call(e),E=0;!(d=e.next()).done;)d=d.value,m=a+ea(d,E++),p+=Rs(d,n,o,m,c);else if(d==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return p}function hs(e,n,o){if(e==null)return e;var a=[],c=0;return Rs(e,a,"","",function(d){return n.call(o,d,c++)}),a}function Wh(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(o){(e._status===0||e._status===-1)&&(e._status=1,e._result=o)},function(o){(e._status===0||e._status===-1)&&(e._status=2,e._result=o)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},Ds={transition:null},Gh={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:vu};function I0(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:hs,forEach:function(e,n,o){hs(e,function(){n.apply(this,arguments)},o)},count:function(e){var n=0;return hs(e,function(){n++}),n},toArray:function(e){return hs(e,function(n){return n})||[]},only:function(e){if(!Nu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=zi;Ae.Fragment=Dh;Ae.Profiler=bh;Ae.PureComponent=Iu;Ae.StrictMode=Lh;Ae.Suspense=Fh;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh;Ae.act=I0;Ae.cloneElement=function(e,n,o){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=w0({},e.props),c=e.key,d=e.ref,p=e._owner;if(n!=null){if(n.ref!==void 0&&(d=n.ref,p=vu.current),n.key!==void 0&&(c=""+n.key),e.type&&e.type.defaultProps)var E=e.type.defaultProps;for(m in n)C0.call(n,m)&&!A0.hasOwnProperty(m)&&(a[m]=n[m]===void 0&&E!==void 0?E[m]:n[m])}var m=arguments.length-2;if(m===1)a.children=o;else if(1<m){E=Array(m);for(var w=0;w<m;w++)E[w]=arguments[w+2];a.children=E}return{$$typeof:Yo,type:e.type,key:c,ref:d,props:a,_owner:p}};Ae.createContext=function(e){return e={$$typeof:Bh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kh,_context:e},e.Consumer=e};Ae.createElement=S0;Ae.createFactory=function(e){var n=S0.bind(null,e);return n.type=e,n};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:Ph,render:e}};Ae.isValidElement=Nu;Ae.lazy=function(e){return{$$typeof:zh,_payload:{_status:-1,_result:e},_init:Wh}};Ae.memo=function(e,n){return{$$typeof:Uh,type:e,compare:n===void 0?null:n}};Ae.startTransition=function(e){var n=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=n}};Ae.unstable_act=I0;Ae.useCallback=function(e,n){return Ft.current.useCallback(e,n)};Ae.useContext=function(e){return Ft.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};Ae.useEffect=function(e,n){return Ft.current.useEffect(e,n)};Ae.useId=function(){return Ft.current.useId()};Ae.useImperativeHandle=function(e,n,o){return Ft.current.useImperativeHandle(e,n,o)};Ae.useInsertionEffect=function(e,n){return Ft.current.useInsertionEffect(e,n)};Ae.useLayoutEffect=function(e,n){return Ft.current.useLayoutEffect(e,n)};Ae.useMemo=function(e,n){return Ft.current.useMemo(e,n)};Ae.useReducer=function(e,n,o){return Ft.current.useReducer(e,n,o)};Ae.useRef=function(e){return Ft.current.useRef(e)};Ae.useState=function(e){return Ft.current.useState(e)};Ae.useSyncExternalStore=function(e,n,o){return Ft.current.useSyncExternalStore(e,n,o)};Ae.useTransition=function(){return Ft.current.useTransition()};Ae.version="18.3.1";x0.exports=Ae;var W=x0.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh=W,Xh=Symbol.for("react.element"),Qh=Symbol.for("react.fragment"),Zh=Object.prototype.hasOwnProperty,Kh=Yh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qh={key:!0,ref:!0,__self:!0,__source:!0};function T0(e,n,o){var a,c={},d=null,p=null;o!==void 0&&(d=""+o),n.key!==void 0&&(d=""+n.key),n.ref!==void 0&&(p=n.ref);for(a in n)Zh.call(n,a)&&!qh.hasOwnProperty(a)&&(c[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)c[a]===void 0&&(c[a]=n[a]);return{$$typeof:Xh,type:e,key:d,ref:p,props:c,_owner:Kh.current}}ml.Fragment=Qh;ml.jsx=T0;ml.jsxs=T0;p0.exports=ml;var ye=p0.exports,v0={exports:{}},rn={},N0={exports:{}},M0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ee,fe){var me=ee.length;ee.push(fe);e:for(;0<me;){var Ce=me-1>>>1,Fe=ee[Ce];if(0<c(Fe,fe))ee[Ce]=fe,ee[me]=Fe,me=Ce;else break e}}function o(ee){return ee.length===0?null:ee[0]}function a(ee){if(ee.length===0)return null;var fe=ee[0],me=ee.pop();if(me!==fe){ee[0]=me;e:for(var Ce=0,Fe=ee.length,at=Fe>>>1;Ce<at;){var wn=2*(Ce+1)-1,le=ee[wn],En=wn+1,Qe=ee[En];if(0>c(le,me))En<Fe&&0>c(Qe,le)?(ee[Ce]=Qe,ee[En]=me,Ce=En):(ee[Ce]=le,ee[wn]=me,Ce=wn);else if(En<Fe&&0>c(Qe,me))ee[Ce]=Qe,ee[En]=me,Ce=En;else break e}}return fe}function c(ee,fe){var me=ee.sortIndex-fe.sortIndex;return me!==0?me:ee.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var p=Date,E=p.now();e.unstable_now=function(){return p.now()-E}}var m=[],w=[],S=1,R=null,M=3,F=!1,b=!1,H=!1,X=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(ee){for(var fe=o(w);fe!==null;){if(fe.callback===null)a(w);else if(fe.startTime<=ee)a(w),fe.sortIndex=fe.expirationTime,n(m,fe);else break;fe=o(w)}}function V(ee){if(H=!1,_(ee),!b)if(o(m)!==null)b=!0,ge(Y);else{var fe=o(w);fe!==null&&Gn(V,fe.startTime-ee)}}function Y(ee,fe){b=!1,H&&(H=!1,N(P),P=-1),F=!0;var me=M;try{for(_(fe),R=o(m);R!==null&&(!(R.expirationTime>fe)||ee&&!te());){var Ce=R.callback;if(typeof Ce=="function"){R.callback=null,M=R.priorityLevel;var Fe=Ce(R.expirationTime<=fe);fe=e.unstable_now(),typeof Fe=="function"?R.callback=Fe:R===o(m)&&a(m),_(fe)}else a(m);R=o(m)}if(R!==null)var at=!0;else{var wn=o(w);wn!==null&&Gn(V,wn.startTime-fe),at=!1}return at}finally{R=null,M=me,F=!1}}var B=!1,Z=null,P=-1,he=5,se=-1;function te(){return!(e.unstable_now()-se<he)}function xe(){if(Z!==null){var ee=e.unstable_now();se=ee;var fe=!0;try{fe=Z(!0,ee)}finally{fe?be():(B=!1,Z=null)}}else B=!1}var be;if(typeof v=="function")be=function(){v(xe)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,lt=j.port2;j.port1.onmessage=xe,be=function(){lt.postMessage(null)}}else be=function(){X(xe,0)};function ge(ee){Z=ee,B||(B=!0,be())}function Gn(ee,fe){P=X(function(){ee(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){b||F||(b=!0,ge(Y))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return o(m)},e.unstable_next=function(ee){switch(M){case 1:case 2:case 3:var fe=3;break;default:fe=M}var me=M;M=fe;try{return ee()}finally{M=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var me=M;M=ee;try{return fe()}finally{M=me}},e.unstable_scheduleCallback=function(ee,fe,me){var Ce=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ce+me:Ce):me=Ce,ee){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=me+Fe,ee={id:S++,callback:fe,priorityLevel:ee,startTime:me,expirationTime:Fe,sortIndex:-1},me>Ce?(ee.sortIndex=me,n(w,ee),o(m)===null&&ee===o(w)&&(H?(N(P),P=-1):H=!0,Gn(V,me-Ce))):(ee.sortIndex=Fe,n(m,ee),b||F||(b=!0,ge(Y))),ee},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(ee){var fe=M;return function(){var me=M;M=fe;try{return ee.apply(this,arguments)}finally{M=me}}}})(M0);N0.exports=M0;var Jh=N0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h=W,nn=Jh;function K(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _0=new Set,Mo={};function ti(e,n){Li(e,n),Li(e+"Capture",n)}function Li(e,n){for(Mo[e]=n,e=0;e<n.length;e++)_0.add(n[e])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=Object.prototype.hasOwnProperty,eg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xc={},Qc={};function tg(e){return Ma.call(Qc,e)?!0:Ma.call(Xc,e)?!1:eg.test(e)?Qc[e]=!0:(Xc[e]=!0,!1)}function ng(e,n,o,a){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rg(e,n,o,a){if(n===null||typeof n>"u"||ng(e,n,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Ut(e,n,o,a,c,d,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=p}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nt[e]=new Ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Nt[n]=new Ut(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nt[e]=new Ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nt[e]=new Ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nt[e]=new Ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nt[e]=new Ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nt[e]=new Ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nt[e]=new Ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nt[e]=new Ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mu=/[\-:]([a-z])/g;function _u(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Mu,_u);Nt[n]=new Ut(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Mu,_u);Nt[n]=new Ut(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Mu,_u);Nt[n]=new Ut(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nt[e]=new Ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nt[e]=new Ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ou(e,n,o,a){var c=Nt.hasOwnProperty(n)?Nt[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(rg(n,o,c,a)&&(o=null),a||c===null?tg(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):c.mustUseProperty?e[c.propertyName]=o===null?c.type===3?!1:"":o:(n=c.attributeName,a=c.attributeNamespace,o===null?e.removeAttribute(n):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?e.setAttributeNS(a,n,o):e.setAttribute(n,o))))}var rr=$h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gs=Symbol.for("react.element"),pi=Symbol.for("react.portal"),xi=Symbol.for("react.fragment"),Ru=Symbol.for("react.strict_mode"),_a=Symbol.for("react.profiler"),O0=Symbol.for("react.provider"),R0=Symbol.for("react.context"),Du=Symbol.for("react.forward_ref"),Oa=Symbol.for("react.suspense"),Ra=Symbol.for("react.suspense_list"),Lu=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),D0=Symbol.for("react.offscreen"),Zc=Symbol.iterator;function io(e){return e===null||typeof e!="object"?null:(e=Zc&&e[Zc]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,ta;function po(e){if(ta===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);ta=n&&n[1]||""}return`
`+ta+e}var na=!1;function ra(e,n){if(!e||na)return"";na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(w){var a=w}Reflect.construct(e,[],n)}else{try{n.call()}catch(w){a=w}e.call(n.prototype)}else{try{throw Error()}catch(w){a=w}e()}}catch(w){if(w&&a&&typeof w.stack=="string"){for(var c=w.stack.split(`
`),d=a.stack.split(`
`),p=c.length-1,E=d.length-1;1<=p&&0<=E&&c[p]!==d[E];)E--;for(;1<=p&&0<=E;p--,E--)if(c[p]!==d[E]){if(p!==1||E!==1)do if(p--,E--,0>E||c[p]!==d[E]){var m=`
`+c[p].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=p&&0<=E);break}}}finally{na=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?po(e):""}function ig(e){switch(e.tag){case 5:return po(e.type);case 16:return po("Lazy");case 13:return po("Suspense");case 19:return po("SuspenseList");case 0:case 2:case 15:return e=ra(e.type,!1),e;case 11:return e=ra(e.type.render,!1),e;case 1:return e=ra(e.type,!0),e;default:return""}}function Da(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xi:return"Fragment";case pi:return"Portal";case _a:return"Profiler";case Ru:return"StrictMode";case Oa:return"Suspense";case Ra:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R0:return(e.displayName||"Context")+".Consumer";case O0:return(e._context.displayName||"Context")+".Provider";case Du:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lu:return n=e.displayName||null,n!==null?n:Da(e.type)||"Memo";case gr:n=e._payload,e=e._init;try{return Da(e(n))}catch{}}return null}function og(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Da(n);case 8:return n===Ru?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function _r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L0(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sg(e){var n=L0(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,d=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ps(e){e._valueTracker||(e._valueTracker=sg(e))}function b0(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),a="";return e&&(a=L0(e)?e.checked?"true":"false":e.value),e=a,e!==o?(n.setValue(e),!0):!1}function Ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function La(e,n){var o=n.checked;return $e({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Kc(e,n){var o=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;o=_r(n.value!=null?n.value:o),e._wrapperState={initialChecked:a,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function k0(e,n){n=n.checked,n!=null&&Ou(e,"checked",n,!1)}function ba(e,n){k0(e,n);var o=_r(n.value),a=n.type;if(o!=null)a==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ka(e,n.type,o):n.hasOwnProperty("defaultValue")&&ka(e,n.type,_r(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function qc(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function ka(e,n,o){(n!=="number"||Ys(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var xo=Array.isArray;function Ni(e,n,o,a){if(e=e.options,n){n={};for(var c=0;c<o.length;c++)n["$"+o[c]]=!0;for(o=0;o<e.length;o++)c=n.hasOwnProperty("$"+e[o].value),e[o].selected!==c&&(e[o].selected=c),c&&a&&(e[o].defaultSelected=!0)}else{for(o=""+_r(o),n=null,c=0;c<e.length;c++){if(e[c].value===o){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Ba(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(K(91));return $e({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jc(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(K(92));if(xo(o)){if(1<o.length)throw Error(K(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:_r(o)}}function B0(e,n){var o=_r(n.value),a=_r(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),a!=null&&(e.defaultValue=""+a)}function $c(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function P0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pa(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?P0(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xs,F0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,o,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function _o(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lg=["Webkit","ms","Moz","O"];Object.keys(Eo).forEach(function(e){lg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Eo[n]=Eo[e]})});function U0(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Eo.hasOwnProperty(e)&&Eo[e]?(""+n).trim():n+"px"}function z0(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=U0(o,n[o],a);o==="float"&&(o="cssFloat"),a?e.setProperty(o,c):e[o]=c}}var ag=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fa(e,n){if(n){if(ag[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(K(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(K(61))}if(n.style!=null&&typeof n.style!="object")throw Error(K(62))}}function Ua(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function bu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ja=null,Mi=null,_i=null;function e1(e){if(e=Zo(e)){if(typeof ja!="function")throw Error(K(280));var n=e.stateNode;n&&(n=Al(n),ja(e.stateNode,e.type,n))}}function j0(e){Mi?_i?_i.push(e):_i=[e]:Mi=e}function H0(){if(Mi){var e=Mi,n=_i;if(_i=Mi=null,e1(e),n)for(e=0;e<n.length;e++)e1(n[e])}}function V0(e,n){return e(n)}function W0(){}var ia=!1;function G0(e,n,o){if(ia)return e(n,o);ia=!0;try{return V0(e,n,o)}finally{ia=!1,(Mi!==null||_i!==null)&&(W0(),H0())}}function Oo(e,n){var o=e.stateNode;if(o===null)return null;var a=Al(o);if(a===null)return null;o=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(K(231,n,typeof o));return o}var Ha=!1;if($n)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Ha=!1}function ug(e,n,o,a,c,d,p,E,m){var w=Array.prototype.slice.call(arguments,3);try{n.apply(o,w)}catch(S){this.onError(S)}}var yo=!1,Xs=null,Qs=!1,Va=null,cg={onError:function(e){yo=!0,Xs=e}};function fg(e,n,o,a,c,d,p,E,m){yo=!1,Xs=null,ug.apply(cg,arguments)}function dg(e,n,o,a,c,d,p,E,m){if(fg.apply(this,arguments),yo){if(yo){var w=Xs;yo=!1,Xs=null}else throw Error(K(198));Qs||(Qs=!0,Va=w)}}function ni(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function Y0(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function t1(e){if(ni(e)!==e)throw Error(K(188))}function hg(e){var n=e.alternate;if(!n){if(n=ni(e),n===null)throw Error(K(188));return n!==e?null:e}for(var o=e,a=n;;){var c=o.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===o)return t1(c),e;if(d===a)return t1(c),n;d=d.sibling}throw Error(K(188))}if(o.return!==a.return)o=c,a=d;else{for(var p=!1,E=c.child;E;){if(E===o){p=!0,o=c,a=d;break}if(E===a){p=!0,a=c,o=d;break}E=E.sibling}if(!p){for(E=d.child;E;){if(E===o){p=!0,o=d,a=c;break}if(E===a){p=!0,a=d,o=c;break}E=E.sibling}if(!p)throw Error(K(189))}}if(o.alternate!==a)throw Error(K(190))}if(o.tag!==3)throw Error(K(188));return o.stateNode.current===o?e:n}function X0(e){return e=hg(e),e!==null?Q0(e):null}function Q0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Q0(e);if(n!==null)return n;e=e.sibling}return null}var Z0=nn.unstable_scheduleCallback,n1=nn.unstable_cancelCallback,gg=nn.unstable_shouldYield,pg=nn.unstable_requestPaint,st=nn.unstable_now,xg=nn.unstable_getCurrentPriorityLevel,ku=nn.unstable_ImmediatePriority,K0=nn.unstable_UserBlockingPriority,Zs=nn.unstable_NormalPriority,mg=nn.unstable_LowPriority,q0=nn.unstable_IdlePriority,wl=null,Hn=null;function wg(e){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(wl,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:Cg,Eg=Math.log,yg=Math.LN2;function Cg(e){return e>>>=0,e===0?32:31-(Eg(e)/yg|0)|0}var ms=64,ws=4194304;function mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ks(e,n){var o=e.pendingLanes;if(o===0)return 0;var a=0,c=e.suspendedLanes,d=e.pingedLanes,p=o&268435455;if(p!==0){var E=p&~c;E!==0?a=mo(E):(d&=p,d!==0&&(a=mo(d)))}else p=o&~c,p!==0?a=mo(p):d!==0&&(a=mo(d));if(a===0)return 0;if(n!==0&&n!==a&&!(n&c)&&(c=a&-a,d=n&-n,c>=d||c===16&&(d&4194240)!==0))return n;if(a&4&&(a|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)o=31-Mn(n),c=1<<o,a|=e[o],n&=~c;return a}function Ag(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sg(e,n){for(var o=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-Mn(d),E=1<<p,m=c[p];m===-1?(!(E&o)||E&a)&&(c[p]=Ag(E,n)):m<=n&&(e.expiredLanes|=E),d&=~E}}function Wa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function J0(){var e=ms;return ms<<=1,!(ms&4194240)&&(ms=64),e}function oa(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Xo(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Mn(n),e[n]=o}function Ig(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<o;){var c=31-Mn(o),d=1<<c;n[c]=0,a[c]=-1,e[c]=-1,o&=~d}}function Bu(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var a=31-Mn(o),c=1<<a;c&n|e[a]&n&&(e[a]|=n),o&=~c}}var De=0;function $0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ef,Pu,tf,nf,rf,Ga=!1,Es=[],Cr=null,Ar=null,Sr=null,Ro=new Map,Do=new Map,xr=[],Tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r1(e,n){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(n.pointerId)}}function so(e,n,o,a,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:o,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},n!==null&&(n=Zo(n),n!==null&&Pu(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function vg(e,n,o,a,c){switch(n){case"focusin":return Cr=so(Cr,e,n,o,a,c),!0;case"dragenter":return Ar=so(Ar,e,n,o,a,c),!0;case"mouseover":return Sr=so(Sr,e,n,o,a,c),!0;case"pointerover":var d=c.pointerId;return Ro.set(d,so(Ro.get(d)||null,e,n,o,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Do.set(d,so(Do.get(d)||null,e,n,o,a,c)),!0}return!1}function of(e){var n=Gr(e.target);if(n!==null){var o=ni(n);if(o!==null){if(n=o.tag,n===13){if(n=Y0(o),n!==null){e.blockedOn=n,rf(e.priority,function(){tf(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Ya(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var a=new o.constructor(o.type,o);za=a,o.target.dispatchEvent(a),za=null}else return n=Zo(o),n!==null&&Pu(n),e.blockedOn=o,!1;n.shift()}return!0}function i1(e,n,o){Ls(e)&&o.delete(n)}function Ng(){Ga=!1,Cr!==null&&Ls(Cr)&&(Cr=null),Ar!==null&&Ls(Ar)&&(Ar=null),Sr!==null&&Ls(Sr)&&(Sr=null),Ro.forEach(i1),Do.forEach(i1)}function lo(e,n){e.blockedOn===n&&(e.blockedOn=null,Ga||(Ga=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,Ng)))}function Lo(e){function n(c){return lo(c,e)}if(0<Es.length){lo(Es[0],e);for(var o=1;o<Es.length;o++){var a=Es[o];a.blockedOn===e&&(a.blockedOn=null)}}for(Cr!==null&&lo(Cr,e),Ar!==null&&lo(Ar,e),Sr!==null&&lo(Sr,e),Ro.forEach(n),Do.forEach(n),o=0;o<xr.length;o++)a=xr[o],a.blockedOn===e&&(a.blockedOn=null);for(;0<xr.length&&(o=xr[0],o.blockedOn===null);)of(o),o.blockedOn===null&&xr.shift()}var Oi=rr.ReactCurrentBatchConfig,qs=!0;function Mg(e,n,o,a){var c=De,d=Oi.transition;Oi.transition=null;try{De=1,Fu(e,n,o,a)}finally{De=c,Oi.transition=d}}function _g(e,n,o,a){var c=De,d=Oi.transition;Oi.transition=null;try{De=4,Fu(e,n,o,a)}finally{De=c,Oi.transition=d}}function Fu(e,n,o,a){if(qs){var c=Ya(e,n,o,a);if(c===null)pa(e,n,a,Js,o),r1(e,a);else if(vg(c,e,n,o,a))a.stopPropagation();else if(r1(e,a),n&4&&-1<Tg.indexOf(e)){for(;c!==null;){var d=Zo(c);if(d!==null&&ef(d),d=Ya(e,n,o,a),d===null&&pa(e,n,a,Js,o),d===c)break;c=d}c!==null&&a.stopPropagation()}else pa(e,n,a,null,o)}}var Js=null;function Ya(e,n,o,a){if(Js=null,e=bu(a),e=Gr(e),e!==null)if(n=ni(e),n===null)e=null;else if(o=n.tag,o===13){if(e=Y0(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Js=e,null}function sf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xg()){case ku:return 1;case K0:return 4;case Zs:case mg:return 16;case q0:return 536870912;default:return 16}default:return 16}}var Er=null,Uu=null,bs=null;function lf(){if(bs)return bs;var e,n=Uu,o=n.length,a,c="value"in Er?Er.value:Er.textContent,d=c.length;for(e=0;e<o&&n[e]===c[e];e++);var p=o-e;for(a=1;a<=p&&n[o-a]===c[d-a];a++);return bs=c.slice(e,1<a?1-a:void 0)}function ks(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ys(){return!0}function o1(){return!1}function on(e){function n(o,a,c,d,p){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(o=e[E],this[E]=o?o(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ys:o1,this.isPropagationStopped=o1,this}return $e(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zu=on(ji),Qo=$e({},ji,{view:0,detail:0}),Og=on(Qo),sa,la,ao,El=$e({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ju,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ao&&(ao&&e.type==="mousemove"?(sa=e.screenX-ao.screenX,la=e.screenY-ao.screenY):la=sa=0,ao=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:la}}),s1=on(El),Rg=$e({},El,{dataTransfer:0}),Dg=on(Rg),Lg=$e({},Qo,{relatedTarget:0}),aa=on(Lg),bg=$e({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),kg=on(bg),Bg=$e({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pg=on(Bg),Fg=$e({},ji,{data:0}),l1=on(Fg),Ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=jg[e])?!!n[e]:!1}function ju(){return Hg}var Vg=$e({},Qo,{key:function(e){if(e.key){var n=Ug[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ju,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wg=on(Vg),Gg=$e({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a1=on(Gg),Yg=$e({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ju}),Xg=on(Yg),Qg=$e({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zg=on(Qg),Kg=$e({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qg=on(Kg),Jg=[9,13,27,32],Hu=$n&&"CompositionEvent"in window,Co=null;$n&&"documentMode"in document&&(Co=document.documentMode);var $g=$n&&"TextEvent"in window&&!Co,af=$n&&(!Hu||Co&&8<Co&&11>=Co),u1=" ",c1=!1;function uf(e,n){switch(e){case"keyup":return Jg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mi=!1;function e2(e,n){switch(e){case"compositionend":return cf(n);case"keypress":return n.which!==32?null:(c1=!0,u1);case"textInput":return e=n.data,e===u1&&c1?null:e;default:return null}}function t2(e,n){if(mi)return e==="compositionend"||!Hu&&uf(e,n)?(e=lf(),bs=Uu=Er=null,mi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return af&&n.locale!=="ko"?null:n.data;default:return null}}var n2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!n2[e.type]:n==="textarea"}function ff(e,n,o,a){j0(a),n=$s(n,"onChange"),0<n.length&&(o=new zu("onChange","change",null,o,a),e.push({event:o,listeners:n}))}var Ao=null,bo=null;function r2(e){Af(e,0)}function yl(e){var n=yi(e);if(b0(n))return e}function i2(e,n){if(e==="change")return n}var df=!1;if($n){var ua;if($n){var ca="oninput"in document;if(!ca){var d1=document.createElement("div");d1.setAttribute("oninput","return;"),ca=typeof d1.oninput=="function"}ua=ca}else ua=!1;df=ua&&(!document.documentMode||9<document.documentMode)}function h1(){Ao&&(Ao.detachEvent("onpropertychange",hf),bo=Ao=null)}function hf(e){if(e.propertyName==="value"&&yl(bo)){var n=[];ff(n,bo,e,bu(e)),G0(r2,n)}}function o2(e,n,o){e==="focusin"?(h1(),Ao=n,bo=o,Ao.attachEvent("onpropertychange",hf)):e==="focusout"&&h1()}function s2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yl(bo)}function l2(e,n){if(e==="click")return yl(n)}function a2(e,n){if(e==="input"||e==="change")return yl(n)}function u2(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var On=typeof Object.is=="function"?Object.is:u2;function ko(e,n){if(On(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!Ma.call(n,c)||!On(e[c],n[c]))return!1}return!0}function g1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p1(e,n){var o=g1(e);e=0;for(var a;o;){if(o.nodeType===3){if(a=e+o.textContent.length,e<=n&&a>=n)return{node:o,offset:n-e};e=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=g1(o)}}function gf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pf(){for(var e=window,n=Ys();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Ys(e.document)}return n}function Vu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function c2(e){var n=pf(),o=e.focusedElem,a=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&gf(o.ownerDocument.documentElement,o)){if(a!==null&&Vu(o)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=o.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!e.extend&&d>a&&(c=a,a=d,d=c),c=p1(o,d);var p=p1(o,a);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),d>a?(e.addRange(n),e.extend(p.node,p.offset)):(n.setEnd(p.node,p.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var f2=$n&&"documentMode"in document&&11>=document.documentMode,wi=null,Xa=null,So=null,Qa=!1;function x1(e,n,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Qa||wi==null||wi!==Ys(a)||(a=wi,"selectionStart"in a&&Vu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),So&&ko(So,a)||(So=a,a=$s(Xa,"onSelect"),0<a.length&&(n=new zu("onSelect","select",null,n,o),e.push({event:n,listeners:a}),n.target=wi)))}function Cs(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Ei={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},fa={},xf={};$n&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function Cl(e){if(fa[e])return fa[e];if(!Ei[e])return e;var n=Ei[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in xf)return fa[e]=n[o];return e}var mf=Cl("animationend"),wf=Cl("animationiteration"),Ef=Cl("animationstart"),yf=Cl("transitionend"),Cf=new Map,m1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,n){Cf.set(e,n),ti(n,[e])}for(var da=0;da<m1.length;da++){var ha=m1[da],d2=ha.toLowerCase(),h2=ha[0].toUpperCase()+ha.slice(1);Lr(d2,"on"+h2)}Lr(mf,"onAnimationEnd");Lr(wf,"onAnimationIteration");Lr(Ef,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(yf,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g2=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function w1(e,n,o){var a=e.type||"unknown-event";e.currentTarget=o,dg(a,n,void 0,e),e.currentTarget=null}function Af(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var a=e[o],c=a.event;a=a.listeners;e:{var d=void 0;if(n)for(var p=a.length-1;0<=p;p--){var E=a[p],m=E.instance,w=E.currentTarget;if(E=E.listener,m!==d&&c.isPropagationStopped())break e;w1(c,E,w),d=m}else for(p=0;p<a.length;p++){if(E=a[p],m=E.instance,w=E.currentTarget,E=E.listener,m!==d&&c.isPropagationStopped())break e;w1(c,E,w),d=m}}}if(Qs)throw e=Va,Qs=!1,Va=null,e}function Ve(e,n){var o=n[$a];o===void 0&&(o=n[$a]=new Set);var a=e+"__bubble";o.has(a)||(Sf(n,e,2,!1),o.add(a))}function ga(e,n,o){var a=0;n&&(a|=4),Sf(o,e,a,n)}var As="_reactListening"+Math.random().toString(36).slice(2);function Bo(e){if(!e[As]){e[As]=!0,_0.forEach(function(o){o!=="selectionchange"&&(g2.has(o)||ga(o,!1,e),ga(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[As]||(n[As]=!0,ga("selectionchange",!1,n))}}function Sf(e,n,o,a){switch(sf(n)){case 1:var c=Mg;break;case 4:c=_g;break;default:c=Fu}o=c.bind(null,n,o,e),c=void 0,!Ha||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,o,{capture:!0,passive:c}):e.addEventListener(n,o,!0):c!==void 0?e.addEventListener(n,o,{passive:c}):e.addEventListener(n,o,!1)}function pa(e,n,o,a,c){var d=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var E=a.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(p===4)for(p=a.return;p!==null;){var m=p.tag;if((m===3||m===4)&&(m=p.stateNode.containerInfo,m===c||m.nodeType===8&&m.parentNode===c))return;p=p.return}for(;E!==null;){if(p=Gr(E),p===null)return;if(m=p.tag,m===5||m===6){a=d=p;continue e}E=E.parentNode}}a=a.return}G0(function(){var w=d,S=bu(o),R=[];e:{var M=Cf.get(e);if(M!==void 0){var F=zu,b=e;switch(e){case"keypress":if(ks(o)===0)break e;case"keydown":case"keyup":F=Wg;break;case"focusin":b="focus",F=aa;break;case"focusout":b="blur",F=aa;break;case"beforeblur":case"afterblur":F=aa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=s1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Xg;break;case mf:case wf:case Ef:F=kg;break;case yf:F=Zg;break;case"scroll":F=Og;break;case"wheel":F=qg;break;case"copy":case"cut":case"paste":F=Pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=a1}var H=(n&4)!==0,X=!H&&e==="scroll",N=H?M!==null?M+"Capture":null:M;H=[];for(var v=w,_;v!==null;){_=v;var V=_.stateNode;if(_.tag===5&&V!==null&&(_=V,N!==null&&(V=Oo(v,N),V!=null&&H.push(Po(v,V,_)))),X)break;v=v.return}0<H.length&&(M=new F(M,b,null,o,S),R.push({event:M,listeners:H}))}}if(!(n&7)){e:{if(M=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",M&&o!==za&&(b=o.relatedTarget||o.fromElement)&&(Gr(b)||b[er]))break e;if((F||M)&&(M=S.window===S?S:(M=S.ownerDocument)?M.defaultView||M.parentWindow:window,F?(b=o.relatedTarget||o.toElement,F=w,b=b?Gr(b):null,b!==null&&(X=ni(b),b!==X||b.tag!==5&&b.tag!==6)&&(b=null)):(F=null,b=w),F!==b)){if(H=s1,V="onMouseLeave",N="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(H=a1,V="onPointerLeave",N="onPointerEnter",v="pointer"),X=F==null?M:yi(F),_=b==null?M:yi(b),M=new H(V,v+"leave",F,o,S),M.target=X,M.relatedTarget=_,V=null,Gr(S)===w&&(H=new H(N,v+"enter",b,o,S),H.target=_,H.relatedTarget=X,V=H),X=V,F&&b)t:{for(H=F,N=b,v=0,_=H;_;_=gi(_))v++;for(_=0,V=N;V;V=gi(V))_++;for(;0<v-_;)H=gi(H),v--;for(;0<_-v;)N=gi(N),_--;for(;v--;){if(H===N||N!==null&&H===N.alternate)break t;H=gi(H),N=gi(N)}H=null}else H=null;F!==null&&E1(R,M,F,H,!1),b!==null&&X!==null&&E1(R,X,b,H,!0)}}e:{if(M=w?yi(w):window,F=M.nodeName&&M.nodeName.toLowerCase(),F==="select"||F==="input"&&M.type==="file")var Y=i2;else if(f1(M))if(df)Y=a2;else{Y=s2;var B=o2}else(F=M.nodeName)&&F.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(Y=l2);if(Y&&(Y=Y(e,w))){ff(R,Y,o,S);break e}B&&B(e,M,w),e==="focusout"&&(B=M._wrapperState)&&B.controlled&&M.type==="number"&&ka(M,"number",M.value)}switch(B=w?yi(w):window,e){case"focusin":(f1(B)||B.contentEditable==="true")&&(wi=B,Xa=w,So=null);break;case"focusout":So=Xa=wi=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,x1(R,o,S);break;case"selectionchange":if(f2)break;case"keydown":case"keyup":x1(R,o,S)}var Z;if(Hu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else mi?uf(e,o)&&(P="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(P="onCompositionStart");P&&(af&&o.locale!=="ko"&&(mi||P!=="onCompositionStart"?P==="onCompositionEnd"&&mi&&(Z=lf()):(Er=S,Uu="value"in Er?Er.value:Er.textContent,mi=!0)),B=$s(w,P),0<B.length&&(P=new l1(P,e,null,o,S),R.push({event:P,listeners:B}),Z?P.data=Z:(Z=cf(o),Z!==null&&(P.data=Z)))),(Z=$g?e2(e,o):t2(e,o))&&(w=$s(w,"onBeforeInput"),0<w.length&&(S=new l1("onBeforeInput","beforeinput",null,o,S),R.push({event:S,listeners:w}),S.data=Z))}Af(R,n)})}function Po(e,n,o){return{instance:e,listener:n,currentTarget:o}}function $s(e,n){for(var o=n+"Capture",a=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Oo(e,o),d!=null&&a.unshift(Po(e,d,c)),d=Oo(e,n),d!=null&&a.push(Po(e,d,c))),e=e.return}return a}function gi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function E1(e,n,o,a,c){for(var d=n._reactName,p=[];o!==null&&o!==a;){var E=o,m=E.alternate,w=E.stateNode;if(m!==null&&m===a)break;E.tag===5&&w!==null&&(E=w,c?(m=Oo(o,d),m!=null&&p.unshift(Po(o,m,E))):c||(m=Oo(o,d),m!=null&&p.push(Po(o,m,E)))),o=o.return}p.length!==0&&e.push({event:n,listeners:p})}var p2=/\r\n?/g,x2=/\u0000|\uFFFD/g;function y1(e){return(typeof e=="string"?e:""+e).replace(p2,`
`).replace(x2,"")}function Ss(e,n,o){if(n=y1(n),y1(e)!==n&&o)throw Error(K(425))}function el(){}var Za=null,Ka=null;function qa(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ja=typeof setTimeout=="function"?setTimeout:void 0,m2=typeof clearTimeout=="function"?clearTimeout:void 0,C1=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof C1<"u"?function(e){return C1.resolve(null).then(e).catch(E2)}:Ja;function E2(e){setTimeout(function(){throw e})}function xa(e,n){var o=n,a=0;do{var c=o.nextSibling;if(e.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){e.removeChild(c),Lo(n);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);Lo(n)}function Ir(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function A1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),jn="__reactFiber$"+Hi,Fo="__reactProps$"+Hi,er="__reactContainer$"+Hi,$a="__reactEvents$"+Hi,y2="__reactListeners$"+Hi,C2="__reactHandles$"+Hi;function Gr(e){var n=e[jn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[er]||o[jn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=A1(e);e!==null;){if(o=e[jn])return o;e=A1(e)}return n}e=o,o=e.parentNode}return null}function Zo(e){return e=e[jn]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function Al(e){return e[Fo]||null}var eu=[],Ci=-1;function br(e){return{current:e}}function We(e){0>Ci||(e.current=eu[Ci],eu[Ci]=null,Ci--)}function je(e,n){Ci++,eu[Ci]=e.current,e.current=n}var Or={},Lt=br(Or),Qt=br(!1),Kr=Or;function bi(e,n){var o=e.type.contextTypes;if(!o)return Or;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in o)c[d]=n[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function Zt(e){return e=e.childContextTypes,e!=null}function tl(){We(Qt),We(Lt)}function S1(e,n,o){if(Lt.current!==Or)throw Error(K(168));je(Lt,n),je(Qt,o)}function If(e,n,o){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(K(108,og(e)||"Unknown",c));return $e({},o,a)}function nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Or,Kr=Lt.current,je(Lt,e),je(Qt,Qt.current),!0}function I1(e,n,o){var a=e.stateNode;if(!a)throw Error(K(169));o?(e=If(e,n,Kr),a.__reactInternalMemoizedMergedChildContext=e,We(Qt),We(Lt),je(Lt,e)):We(Qt),je(Qt,o)}var Qn=null,Sl=!1,ma=!1;function Tf(e){Qn===null?Qn=[e]:Qn.push(e)}function A2(e){Sl=!0,Tf(e)}function kr(){if(!ma&&Qn!==null){ma=!0;var e=0,n=De;try{var o=Qn;for(De=1;e<o.length;e++){var a=o[e];do a=a(!0);while(a!==null)}Qn=null,Sl=!1}catch(c){throw Qn!==null&&(Qn=Qn.slice(e+1)),Z0(ku,kr),c}finally{De=n,ma=!1}}return null}var Ai=[],Si=0,rl=null,il=0,fn=[],dn=0,qr=null,Zn=1,Kn="";function Vr(e,n){Ai[Si++]=il,Ai[Si++]=rl,rl=e,il=n}function vf(e,n,o){fn[dn++]=Zn,fn[dn++]=Kn,fn[dn++]=qr,qr=e;var a=Zn;e=Kn;var c=32-Mn(a)-1;a&=~(1<<c),o+=1;var d=32-Mn(n)+c;if(30<d){var p=c-c%5;d=(a&(1<<p)-1).toString(32),a>>=p,c-=p,Zn=1<<32-Mn(n)+c|o<<c|a,Kn=d+e}else Zn=1<<d|o<<c|a,Kn=e}function Wu(e){e.return!==null&&(Vr(e,1),vf(e,1,0))}function Gu(e){for(;e===rl;)rl=Ai[--Si],Ai[Si]=null,il=Ai[--Si],Ai[Si]=null;for(;e===qr;)qr=fn[--dn],fn[dn]=null,Kn=fn[--dn],fn[dn]=null,Zn=fn[--dn],fn[dn]=null}var tn=null,en=null,Xe=!1,Nn=null;function Nf(e,n){var o=gn(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function T1(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,tn=e,en=Ir(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,tn=e,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=qr!==null?{id:Zn,overflow:Kn}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=gn(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,tn=e,en=null,!0):!1;default:return!1}}function tu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nu(e){if(Xe){var n=en;if(n){var o=n;if(!T1(e,n)){if(tu(e))throw Error(K(418));n=Ir(o.nextSibling);var a=tn;n&&T1(e,n)?Nf(a,o):(e.flags=e.flags&-4097|2,Xe=!1,tn=e)}}else{if(tu(e))throw Error(K(418));e.flags=e.flags&-4097|2,Xe=!1,tn=e}}}function v1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function Is(e){if(e!==tn)return!1;if(!Xe)return v1(e),Xe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!qa(e.type,e.memoizedProps)),n&&(n=en)){if(tu(e))throw Mf(),Error(K(418));for(;n;)Nf(e,n),n=Ir(n.nextSibling)}if(v1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){en=Ir(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}en=null}}else en=tn?Ir(e.stateNode.nextSibling):null;return!0}function Mf(){for(var e=en;e;)e=Ir(e.nextSibling)}function ki(){en=tn=null,Xe=!1}function Yu(e){Nn===null?Nn=[e]:Nn.push(e)}var S2=rr.ReactCurrentBatchConfig;function uo(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(K(309));var a=o.stateNode}if(!a)throw Error(K(147,e));var c=a,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(p){var E=c.refs;p===null?delete E[d]:E[d]=p},n._stringRef=d,n)}if(typeof e!="string")throw Error(K(284));if(!o._owner)throw Error(K(290,e))}return e}function Ts(e,n){throw e=Object.prototype.toString.call(n),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function N1(e){var n=e._init;return n(e._payload)}function _f(e){function n(N,v){if(e){var _=N.deletions;_===null?(N.deletions=[v],N.flags|=16):_.push(v)}}function o(N,v){if(!e)return null;for(;v!==null;)n(N,v),v=v.sibling;return null}function a(N,v){for(N=new Map;v!==null;)v.key!==null?N.set(v.key,v):N.set(v.index,v),v=v.sibling;return N}function c(N,v){return N=Mr(N,v),N.index=0,N.sibling=null,N}function d(N,v,_){return N.index=_,e?(_=N.alternate,_!==null?(_=_.index,_<v?(N.flags|=2,v):_):(N.flags|=2,v)):(N.flags|=1048576,v)}function p(N){return e&&N.alternate===null&&(N.flags|=2),N}function E(N,v,_,V){return v===null||v.tag!==6?(v=Ia(_,N.mode,V),v.return=N,v):(v=c(v,_),v.return=N,v)}function m(N,v,_,V){var Y=_.type;return Y===xi?S(N,v,_.props.children,V,_.key):v!==null&&(v.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===gr&&N1(Y)===v.type)?(V=c(v,_.props),V.ref=uo(N,v,_),V.return=N,V):(V=Hs(_.type,_.key,_.props,null,N.mode,V),V.ref=uo(N,v,_),V.return=N,V)}function w(N,v,_,V){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Ta(_,N.mode,V),v.return=N,v):(v=c(v,_.children||[]),v.return=N,v)}function S(N,v,_,V,Y){return v===null||v.tag!==7?(v=Zr(_,N.mode,V,Y),v.return=N,v):(v=c(v,_),v.return=N,v)}function R(N,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ia(""+v,N.mode,_),v.return=N,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gs:return _=Hs(v.type,v.key,v.props,null,N.mode,_),_.ref=uo(N,null,v),_.return=N,_;case pi:return v=Ta(v,N.mode,_),v.return=N,v;case gr:var V=v._init;return R(N,V(v._payload),_)}if(xo(v)||io(v))return v=Zr(v,N.mode,_,null),v.return=N,v;Ts(N,v)}return null}function M(N,v,_,V){var Y=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return Y!==null?null:E(N,v,""+_,V);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gs:return _.key===Y?m(N,v,_,V):null;case pi:return _.key===Y?w(N,v,_,V):null;case gr:return Y=_._init,M(N,v,Y(_._payload),V)}if(xo(_)||io(_))return Y!==null?null:S(N,v,_,V,null);Ts(N,_)}return null}function F(N,v,_,V,Y){if(typeof V=="string"&&V!==""||typeof V=="number")return N=N.get(_)||null,E(v,N,""+V,Y);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case gs:return N=N.get(V.key===null?_:V.key)||null,m(v,N,V,Y);case pi:return N=N.get(V.key===null?_:V.key)||null,w(v,N,V,Y);case gr:var B=V._init;return F(N,v,_,B(V._payload),Y)}if(xo(V)||io(V))return N=N.get(_)||null,S(v,N,V,Y,null);Ts(v,V)}return null}function b(N,v,_,V){for(var Y=null,B=null,Z=v,P=v=0,he=null;Z!==null&&P<_.length;P++){Z.index>P?(he=Z,Z=null):he=Z.sibling;var se=M(N,Z,_[P],V);if(se===null){Z===null&&(Z=he);break}e&&Z&&se.alternate===null&&n(N,Z),v=d(se,v,P),B===null?Y=se:B.sibling=se,B=se,Z=he}if(P===_.length)return o(N,Z),Xe&&Vr(N,P),Y;if(Z===null){for(;P<_.length;P++)Z=R(N,_[P],V),Z!==null&&(v=d(Z,v,P),B===null?Y=Z:B.sibling=Z,B=Z);return Xe&&Vr(N,P),Y}for(Z=a(N,Z);P<_.length;P++)he=F(Z,N,P,_[P],V),he!==null&&(e&&he.alternate!==null&&Z.delete(he.key===null?P:he.key),v=d(he,v,P),B===null?Y=he:B.sibling=he,B=he);return e&&Z.forEach(function(te){return n(N,te)}),Xe&&Vr(N,P),Y}function H(N,v,_,V){var Y=io(_);if(typeof Y!="function")throw Error(K(150));if(_=Y.call(_),_==null)throw Error(K(151));for(var B=Y=null,Z=v,P=v=0,he=null,se=_.next();Z!==null&&!se.done;P++,se=_.next()){Z.index>P?(he=Z,Z=null):he=Z.sibling;var te=M(N,Z,se.value,V);if(te===null){Z===null&&(Z=he);break}e&&Z&&te.alternate===null&&n(N,Z),v=d(te,v,P),B===null?Y=te:B.sibling=te,B=te,Z=he}if(se.done)return o(N,Z),Xe&&Vr(N,P),Y;if(Z===null){for(;!se.done;P++,se=_.next())se=R(N,se.value,V),se!==null&&(v=d(se,v,P),B===null?Y=se:B.sibling=se,B=se);return Xe&&Vr(N,P),Y}for(Z=a(N,Z);!se.done;P++,se=_.next())se=F(Z,N,P,se.value,V),se!==null&&(e&&se.alternate!==null&&Z.delete(se.key===null?P:se.key),v=d(se,v,P),B===null?Y=se:B.sibling=se,B=se);return e&&Z.forEach(function(xe){return n(N,xe)}),Xe&&Vr(N,P),Y}function X(N,v,_,V){if(typeof _=="object"&&_!==null&&_.type===xi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case gs:e:{for(var Y=_.key,B=v;B!==null;){if(B.key===Y){if(Y=_.type,Y===xi){if(B.tag===7){o(N,B.sibling),v=c(B,_.props.children),v.return=N,N=v;break e}}else if(B.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===gr&&N1(Y)===B.type){o(N,B.sibling),v=c(B,_.props),v.ref=uo(N,B,_),v.return=N,N=v;break e}o(N,B);break}else n(N,B);B=B.sibling}_.type===xi?(v=Zr(_.props.children,N.mode,V,_.key),v.return=N,N=v):(V=Hs(_.type,_.key,_.props,null,N.mode,V),V.ref=uo(N,v,_),V.return=N,N=V)}return p(N);case pi:e:{for(B=_.key;v!==null;){if(v.key===B)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){o(N,v.sibling),v=c(v,_.children||[]),v.return=N,N=v;break e}else{o(N,v);break}else n(N,v);v=v.sibling}v=Ta(_,N.mode,V),v.return=N,N=v}return p(N);case gr:return B=_._init,X(N,v,B(_._payload),V)}if(xo(_))return b(N,v,_,V);if(io(_))return H(N,v,_,V);Ts(N,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(o(N,v.sibling),v=c(v,_),v.return=N,N=v):(o(N,v),v=Ia(_,N.mode,V),v.return=N,N=v),p(N)):o(N,v)}return X}var Bi=_f(!0),Of=_f(!1),ol=br(null),sl=null,Ii=null,Xu=null;function Qu(){Xu=Ii=sl=null}function Zu(e){var n=ol.current;We(ol),e._currentValue=n}function ru(e,n,o){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===o)break;e=e.return}}function Ri(e,n){sl=e,Xu=Ii=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Xt=!0),e.firstContext=null)}function xn(e){var n=e._currentValue;if(Xu!==e)if(e={context:e,memoizedValue:n,next:null},Ii===null){if(sl===null)throw Error(K(308));Ii=e,sl.dependencies={lanes:0,firstContext:e}}else Ii=Ii.next=e;return n}var Yr=null;function Ku(e){Yr===null?Yr=[e]:Yr.push(e)}function Rf(e,n,o,a){var c=n.interleaved;return c===null?(o.next=o,Ku(n)):(o.next=c.next,c.next=o),n.interleaved=o,tr(e,a)}function tr(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var pr=!1;function qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Df(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Tr(e,n,o){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ne&2){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,tr(e,o)}return c=a.interleaved,c===null?(n.next=n,Ku(a)):(n.next=c.next,c.next=n),a.interleaved=n,tr(e,o)}function Bs(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,Bu(e,o)}}function M1(e,n){var o=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var p={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?c=d=p:d=d.next=p,o=o.next}while(o!==null);d===null?c=d=n:d=d.next=n}else c=d=n;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function ll(e,n,o,a){var c=e.updateQueue;pr=!1;var d=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var m=E,w=m.next;m.next=null,p===null?d=w:p.next=w,p=m;var S=e.alternate;S!==null&&(S=S.updateQueue,E=S.lastBaseUpdate,E!==p&&(E===null?S.firstBaseUpdate=w:E.next=w,S.lastBaseUpdate=m))}if(d!==null){var R=c.baseState;p=0,S=w=m=null,E=d;do{var M=E.lane,F=E.eventTime;if((a&M)===M){S!==null&&(S=S.next={eventTime:F,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var b=e,H=E;switch(M=n,F=o,H.tag){case 1:if(b=H.payload,typeof b=="function"){R=b.call(F,R,M);break e}R=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=H.payload,M=typeof b=="function"?b.call(F,R,M):b,M==null)break e;R=$e({},R,M);break e;case 2:pr=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,M=c.effects,M===null?c.effects=[E]:M.push(E))}else F={eventTime:F,lane:M,tag:E.tag,payload:E.payload,callback:E.callback,next:null},S===null?(w=S=F,m=R):S=S.next=F,p|=M;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;M=E,E=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);if(S===null&&(m=R),c.baseState=m,c.firstBaseUpdate=w,c.lastBaseUpdate=S,n=c.shared.interleaved,n!==null){c=n;do p|=c.lane,c=c.next;while(c!==n)}else d===null&&(c.shared.lanes=0);$r|=p,e.lanes=p,e.memoizedState=R}}function _1(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(K(191,c));c.call(a)}}}var Ko={},Vn=br(Ko),Uo=br(Ko),zo=br(Ko);function Xr(e){if(e===Ko)throw Error(K(174));return e}function Ju(e,n){switch(je(zo,n),je(Uo,e),je(Vn,Ko),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Pa(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Pa(n,e)}We(Vn),je(Vn,n)}function Pi(){We(Vn),We(Uo),We(zo)}function Lf(e){Xr(zo.current);var n=Xr(Vn.current),o=Pa(n,e.type);n!==o&&(je(Uo,e),je(Vn,o))}function $u(e){Uo.current===e&&(We(Vn),We(Uo))}var Ke=br(0);function al(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var wa=[];function ec(){for(var e=0;e<wa.length;e++)wa[e]._workInProgressVersionPrimary=null;wa.length=0}var Ps=rr.ReactCurrentDispatcher,Ea=rr.ReactCurrentBatchConfig,Jr=0,qe=null,pt=null,Et=null,ul=!1,Io=!1,jo=0,I2=0;function Ot(){throw Error(K(321))}function tc(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!On(e[o],n[o]))return!1;return!0}function nc(e,n,o,a,c,d){if(Jr=d,qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ps.current=e===null||e.memoizedState===null?M2:_2,e=o(a,c),Io){d=0;do{if(Io=!1,jo=0,25<=d)throw Error(K(301));d+=1,Et=pt=null,n.updateQueue=null,Ps.current=O2,e=o(a,c)}while(Io)}if(Ps.current=cl,n=pt!==null&&pt.next!==null,Jr=0,Et=pt=qe=null,ul=!1,n)throw Error(K(300));return e}function rc(){var e=jo!==0;return jo=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?qe.memoizedState=Et=e:Et=Et.next=e,Et}function mn(){if(pt===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var n=Et===null?qe.memoizedState:Et.next;if(n!==null)Et=n,pt=e;else{if(e===null)throw Error(K(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?qe.memoizedState=Et=e:Et=Et.next=e}return Et}function Ho(e,n){return typeof n=="function"?n(e):n}function ya(e){var n=mn(),o=n.queue;if(o===null)throw Error(K(311));o.lastRenderedReducer=e;var a=pt,c=a.baseQueue,d=o.pending;if(d!==null){if(c!==null){var p=c.next;c.next=d.next,d.next=p}a.baseQueue=c=d,o.pending=null}if(c!==null){d=c.next,a=a.baseState;var E=p=null,m=null,w=d;do{var S=w.lane;if((Jr&S)===S)m!==null&&(m=m.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),a=w.hasEagerState?w.eagerState:e(a,w.action);else{var R={lane:S,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};m===null?(E=m=R,p=a):m=m.next=R,qe.lanes|=S,$r|=S}w=w.next}while(w!==null&&w!==d);m===null?p=a:m.next=E,On(a,n.memoizedState)||(Xt=!0),n.memoizedState=a,n.baseState=p,n.baseQueue=m,o.lastRenderedState=a}if(e=o.interleaved,e!==null){c=e;do d=c.lane,qe.lanes|=d,$r|=d,c=c.next;while(c!==e)}else c===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Ca(e){var n=mn(),o=n.queue;if(o===null)throw Error(K(311));o.lastRenderedReducer=e;var a=o.dispatch,c=o.pending,d=n.memoizedState;if(c!==null){o.pending=null;var p=c=c.next;do d=e(d,p.action),p=p.next;while(p!==c);On(d,n.memoizedState)||(Xt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),o.lastRenderedState=d}return[d,a]}function bf(){}function kf(e,n){var o=qe,a=mn(),c=n(),d=!On(a.memoizedState,c);if(d&&(a.memoizedState=c,Xt=!0),a=a.queue,ic(Ff.bind(null,o,a,e),[e]),a.getSnapshot!==n||d||Et!==null&&Et.memoizedState.tag&1){if(o.flags|=2048,Vo(9,Pf.bind(null,o,a,c,n),void 0,null),yt===null)throw Error(K(349));Jr&30||Bf(o,n,c)}return c}function Bf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=qe.updateQueue,n===null?(n={lastEffect:null,stores:null},qe.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Pf(e,n,o,a){n.value=o,n.getSnapshot=a,Uf(n)&&zf(e)}function Ff(e,n,o){return o(function(){Uf(n)&&zf(e)})}function Uf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!On(e,o)}catch{return!0}}function zf(e){var n=tr(e,1);n!==null&&_n(n,e,1,-1)}function O1(e){var n=Un();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},n.queue=e,e=e.dispatch=N2.bind(null,qe,e),[n.memoizedState,e]}function Vo(e,n,o,a){return e={tag:e,create:n,destroy:o,deps:a,next:null},n=qe.updateQueue,n===null?(n={lastEffect:null,stores:null},qe.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(a=o.next,o.next=e,e.next=a,n.lastEffect=e)),e}function jf(){return mn().memoizedState}function Fs(e,n,o,a){var c=Un();qe.flags|=e,c.memoizedState=Vo(1|n,o,void 0,a===void 0?null:a)}function Il(e,n,o,a){var c=mn();a=a===void 0?null:a;var d=void 0;if(pt!==null){var p=pt.memoizedState;if(d=p.destroy,a!==null&&tc(a,p.deps)){c.memoizedState=Vo(n,o,d,a);return}}qe.flags|=e,c.memoizedState=Vo(1|n,o,d,a)}function R1(e,n){return Fs(8390656,8,e,n)}function ic(e,n){return Il(2048,8,e,n)}function Hf(e,n){return Il(4,2,e,n)}function Vf(e,n){return Il(4,4,e,n)}function Wf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gf(e,n,o){return o=o!=null?o.concat([e]):null,Il(4,4,Wf.bind(null,n,e),o)}function oc(){}function Yf(e,n){var o=mn();n=n===void 0?null:n;var a=o.memoizedState;return a!==null&&n!==null&&tc(n,a[1])?a[0]:(o.memoizedState=[e,n],e)}function Xf(e,n){var o=mn();n=n===void 0?null:n;var a=o.memoizedState;return a!==null&&n!==null&&tc(n,a[1])?a[0]:(e=e(),o.memoizedState=[e,n],e)}function Qf(e,n,o){return Jr&21?(On(o,n)||(o=J0(),qe.lanes|=o,$r|=o,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Xt=!0),e.memoizedState=o)}function T2(e,n){var o=De;De=o!==0&&4>o?o:4,e(!0);var a=Ea.transition;Ea.transition={};try{e(!1),n()}finally{De=o,Ea.transition=a}}function Zf(){return mn().memoizedState}function v2(e,n,o){var a=Nr(e);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Kf(e))qf(n,o);else if(o=Rf(e,n,o,a),o!==null){var c=Pt();_n(o,e,a,c),Jf(o,n,a)}}function N2(e,n,o){var a=Nr(e),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Kf(e))qf(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var p=n.lastRenderedState,E=d(p,o);if(c.hasEagerState=!0,c.eagerState=E,On(E,p)){var m=n.interleaved;m===null?(c.next=c,Ku(n)):(c.next=m.next,m.next=c),n.interleaved=c;return}}catch{}finally{}o=Rf(e,n,c,a),o!==null&&(c=Pt(),_n(o,e,a,c),Jf(o,n,a))}}function Kf(e){var n=e.alternate;return e===qe||n!==null&&n===qe}function qf(e,n){Io=ul=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Jf(e,n,o){if(o&4194240){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,Bu(e,o)}}var cl={readContext:xn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},M2={readContext:xn,useCallback:function(e,n){return Un().memoizedState=[e,n===void 0?null:n],e},useContext:xn,useEffect:R1,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,Fs(4194308,4,Wf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Fs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Fs(4,2,e,n)},useMemo:function(e,n){var o=Un();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var a=Un();return n=o!==void 0?o(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=v2.bind(null,qe,e),[a.memoizedState,e]},useRef:function(e){var n=Un();return e={current:e},n.memoizedState=e},useState:O1,useDebugValue:oc,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=O1(!1),n=e[0];return e=T2.bind(null,e[1]),Un().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var a=qe,c=Un();if(Xe){if(o===void 0)throw Error(K(407));o=o()}else{if(o=n(),yt===null)throw Error(K(349));Jr&30||Bf(a,n,o)}c.memoizedState=o;var d={value:o,getSnapshot:n};return c.queue=d,R1(Ff.bind(null,a,d,e),[e]),a.flags|=2048,Vo(9,Pf.bind(null,a,d,o,n),void 0,null),o},useId:function(){var e=Un(),n=yt.identifierPrefix;if(Xe){var o=Kn,a=Zn;o=(a&~(1<<32-Mn(a)-1)).toString(32)+o,n=":"+n+"R"+o,o=jo++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=I2++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},_2={readContext:xn,useCallback:Yf,useContext:xn,useEffect:ic,useImperativeHandle:Gf,useInsertionEffect:Hf,useLayoutEffect:Vf,useMemo:Xf,useReducer:ya,useRef:jf,useState:function(){return ya(Ho)},useDebugValue:oc,useDeferredValue:function(e){var n=mn();return Qf(n,pt.memoizedState,e)},useTransition:function(){var e=ya(Ho)[0],n=mn().memoizedState;return[e,n]},useMutableSource:bf,useSyncExternalStore:kf,useId:Zf,unstable_isNewReconciler:!1},O2={readContext:xn,useCallback:Yf,useContext:xn,useEffect:ic,useImperativeHandle:Gf,useInsertionEffect:Hf,useLayoutEffect:Vf,useMemo:Xf,useReducer:Ca,useRef:jf,useState:function(){return Ca(Ho)},useDebugValue:oc,useDeferredValue:function(e){var n=mn();return pt===null?n.memoizedState=e:Qf(n,pt.memoizedState,e)},useTransition:function(){var e=Ca(Ho)[0],n=mn().memoizedState;return[e,n]},useMutableSource:bf,useSyncExternalStore:kf,useId:Zf,unstable_isNewReconciler:!1};function In(e,n){if(e&&e.defaultProps){n=$e({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function iu(e,n,o,a){n=e.memoizedState,o=o(a,n),o=o==null?n:$e({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Tl={isMounted:function(e){return(e=e._reactInternals)?ni(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var a=Pt(),c=Nr(e),d=qn(a,c);d.payload=n,o!=null&&(d.callback=o),n=Tr(e,d,c),n!==null&&(_n(n,e,c,a),Bs(n,e,c))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var a=Pt(),c=Nr(e),d=qn(a,c);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=Tr(e,d,c),n!==null&&(_n(n,e,c,a),Bs(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Pt(),a=Nr(e),c=qn(o,a);c.tag=2,n!=null&&(c.callback=n),n=Tr(e,c,a),n!==null&&(_n(n,e,a,o),Bs(n,e,a))}};function D1(e,n,o,a,c,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,p):n.prototype&&n.prototype.isPureReactComponent?!ko(o,a)||!ko(c,d):!0}function $f(e,n,o){var a=!1,c=Or,d=n.contextType;return typeof d=="object"&&d!==null?d=xn(d):(c=Zt(n)?Kr:Lt.current,a=n.contextTypes,d=(a=a!=null)?bi(e,c):Or),n=new n(o,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Tl,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),n}function L1(e,n,o,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,a),n.state!==e&&Tl.enqueueReplaceState(n,n.state,null)}function ou(e,n,o,a){var c=e.stateNode;c.props=o,c.state=e.memoizedState,c.refs={},qu(e);var d=n.contextType;typeof d=="object"&&d!==null?c.context=xn(d):(d=Zt(n)?Kr:Lt.current,c.context=bi(e,d)),c.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(iu(e,n,d,o),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Tl.enqueueReplaceState(c,c.state,null),ll(e,o,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Fi(e,n){try{var o="",a=n;do o+=ig(a),a=a.return;while(a);var c=o}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:c,digest:null}}function Aa(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function su(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var R2=typeof WeakMap=="function"?WeakMap:Map;function ed(e,n,o){o=qn(-1,o),o.tag=3,o.payload={element:null};var a=n.value;return o.callback=function(){dl||(dl=!0,xu=a),su(e,n)},o}function td(e,n,o){o=qn(-1,o),o.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;o.payload=function(){return a(c)},o.callback=function(){su(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){su(e,n),typeof a!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),o}function b1(e,n,o){var a=e.pingCache;if(a===null){a=e.pingCache=new R2;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(o)||(c.add(o),e=G2.bind(null,e,n,o),n.then(e,e))}function k1(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function B1(e,n,o,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=qn(-1,1),n.tag=2,Tr(o,n,1))),o.lanes|=1),e)}var D2=rr.ReactCurrentOwner,Xt=!1;function Bt(e,n,o,a){n.child=e===null?Of(n,null,o,a):Bi(n,e.child,o,a)}function P1(e,n,o,a,c){o=o.render;var d=n.ref;return Ri(n,c),a=nc(e,n,o,a,d,c),o=rc(),e!==null&&!Xt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,nr(e,n,c)):(Xe&&o&&Wu(n),n.flags|=1,Bt(e,n,a,c),n.child)}function F1(e,n,o,a,c){if(e===null){var d=o.type;return typeof d=="function"&&!hc(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=d,nd(e,n,d,a,c)):(e=Hs(o.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&c)){var p=d.memoizedProps;if(o=o.compare,o=o!==null?o:ko,o(p,a)&&e.ref===n.ref)return nr(e,n,c)}return n.flags|=1,e=Mr(d,a),e.ref=n.ref,e.return=n,n.child=e}function nd(e,n,o,a,c){if(e!==null){var d=e.memoizedProps;if(ko(d,a)&&e.ref===n.ref)if(Xt=!1,n.pendingProps=a=d,(e.lanes&c)!==0)e.flags&131072&&(Xt=!0);else return n.lanes=e.lanes,nr(e,n,c)}return lu(e,n,o,a,c)}function rd(e,n,o){var a=n.pendingProps,c=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(vi,$t),$t|=o;else{if(!(o&1073741824))return e=d!==null?d.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,je(vi,$t),$t|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:o,je(vi,$t),$t|=a}else d!==null?(a=d.baseLanes|o,n.memoizedState=null):a=o,je(vi,$t),$t|=a;return Bt(e,n,c,o),n.child}function id(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function lu(e,n,o,a,c){var d=Zt(o)?Kr:Lt.current;return d=bi(n,d),Ri(n,c),o=nc(e,n,o,a,d,c),a=rc(),e!==null&&!Xt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,nr(e,n,c)):(Xe&&a&&Wu(n),n.flags|=1,Bt(e,n,o,c),n.child)}function U1(e,n,o,a,c){if(Zt(o)){var d=!0;nl(n)}else d=!1;if(Ri(n,c),n.stateNode===null)Us(e,n),$f(n,o,a),ou(n,o,a,c),a=!0;else if(e===null){var p=n.stateNode,E=n.memoizedProps;p.props=E;var m=p.context,w=o.contextType;typeof w=="object"&&w!==null?w=xn(w):(w=Zt(o)?Kr:Lt.current,w=bi(n,w));var S=o.getDerivedStateFromProps,R=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function";R||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==a||m!==w)&&L1(n,p,a,w),pr=!1;var M=n.memoizedState;p.state=M,ll(n,a,p,c),m=n.memoizedState,E!==a||M!==m||Qt.current||pr?(typeof S=="function"&&(iu(n,o,S,a),m=n.memoizedState),(E=pr||D1(n,o,E,a,M,m,w))?(R||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=m),p.props=a,p.state=m,p.context=w,a=E):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{p=n.stateNode,Df(e,n),E=n.memoizedProps,w=n.type===n.elementType?E:In(n.type,E),p.props=w,R=n.pendingProps,M=p.context,m=o.contextType,typeof m=="object"&&m!==null?m=xn(m):(m=Zt(o)?Kr:Lt.current,m=bi(n,m));var F=o.getDerivedStateFromProps;(S=typeof F=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==R||M!==m)&&L1(n,p,a,m),pr=!1,M=n.memoizedState,p.state=M,ll(n,a,p,c);var b=n.memoizedState;E!==R||M!==b||Qt.current||pr?(typeof F=="function"&&(iu(n,o,F,a),b=n.memoizedState),(w=pr||D1(n,o,w,a,M,b,m)||!1)?(S||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,b,m),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,b,m)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=b),p.props=a,p.state=b,p.context=m,a=w):(typeof p.componentDidUpdate!="function"||E===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),a=!1)}return au(e,n,o,a,d,c)}function au(e,n,o,a,c,d){id(e,n);var p=(n.flags&128)!==0;if(!a&&!p)return c&&I1(n,o,!1),nr(e,n,d);a=n.stateNode,D2.current=n;var E=p&&typeof o.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&p?(n.child=Bi(n,e.child,null,d),n.child=Bi(n,null,E,d)):Bt(e,n,E,d),n.memoizedState=a.state,c&&I1(n,o,!0),n.child}function od(e){var n=e.stateNode;n.pendingContext?S1(e,n.pendingContext,n.pendingContext!==n.context):n.context&&S1(e,n.context,!1),Ju(e,n.containerInfo)}function z1(e,n,o,a,c){return ki(),Yu(c),n.flags|=256,Bt(e,n,o,a),n.child}var uu={dehydrated:null,treeContext:null,retryLane:0};function cu(e){return{baseLanes:e,cachePool:null,transitions:null}}function sd(e,n,o){var a=n.pendingProps,c=Ke.current,d=!1,p=(n.flags&128)!==0,E;if((E=p)||(E=e!==null&&e.memoizedState===null?!1:(c&2)!==0),E?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),je(Ke,c&1),e===null)return nu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(p=a.children,e=a.fallback,d?(a=n.mode,d=n.child,p={mode:"hidden",children:p},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=p):d=Ml(p,a,0,null),e=Zr(e,a,o,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=cu(o),n.memoizedState=uu,e):sc(n,p));if(c=e.memoizedState,c!==null&&(E=c.dehydrated,E!==null))return L2(e,n,p,a,E,c,o);if(d){d=a.fallback,p=n.mode,c=e.child,E=c.sibling;var m={mode:"hidden",children:a.children};return!(p&1)&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=m,n.deletions=null):(a=Mr(c,m),a.subtreeFlags=c.subtreeFlags&14680064),E!==null?d=Mr(E,d):(d=Zr(d,p,o,null),d.flags|=2),d.return=n,a.return=n,a.sibling=d,n.child=a,a=d,d=n.child,p=e.child.memoizedState,p=p===null?cu(o):{baseLanes:p.baseLanes|o,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~o,n.memoizedState=uu,a}return d=e.child,e=d.sibling,a=Mr(d,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=o),a.return=n,a.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=a,n.memoizedState=null,a}function sc(e,n){return n=Ml({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function vs(e,n,o,a){return a!==null&&Yu(a),Bi(n,e.child,null,o),e=sc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function L2(e,n,o,a,c,d,p){if(o)return n.flags&256?(n.flags&=-257,a=Aa(Error(K(422))),vs(e,n,p,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=a.fallback,c=n.mode,a=Ml({mode:"visible",children:a.children},c,0,null),d=Zr(d,c,p,null),d.flags|=2,a.return=n,d.return=n,a.sibling=d,n.child=a,n.mode&1&&Bi(n,e.child,null,p),n.child.memoizedState=cu(p),n.memoizedState=uu,d);if(!(n.mode&1))return vs(e,n,p,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var E=a.dgst;return a=E,d=Error(K(419)),a=Aa(d,a,void 0),vs(e,n,p,a)}if(E=(p&e.childLanes)!==0,Xt||E){if(a=yt,a!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|p)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,tr(e,c),_n(a,e,c,-1))}return dc(),a=Aa(Error(K(421))),vs(e,n,p,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=Y2.bind(null,e),c._reactRetry=n,null):(e=d.treeContext,en=Ir(c.nextSibling),tn=n,Xe=!0,Nn=null,e!==null&&(fn[dn++]=Zn,fn[dn++]=Kn,fn[dn++]=qr,Zn=e.id,Kn=e.overflow,qr=n),n=sc(n,a.children),n.flags|=4096,n)}function j1(e,n,o){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),ru(e.return,n,o)}function Sa(e,n,o,a,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=o,d.tailMode=c)}function ld(e,n,o){var a=n.pendingProps,c=a.revealOrder,d=a.tail;if(Bt(e,n,a.children,o),a=Ke.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&j1(e,o,n);else if(e.tag===19)j1(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(je(Ke,a),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(o=n.child,c=null;o!==null;)e=o.alternate,e!==null&&al(e)===null&&(c=o),o=o.sibling;o=c,o===null?(c=n.child,n.child=null):(c=o.sibling,o.sibling=null),Sa(n,!1,c,o,d);break;case"backwards":for(o=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&al(e)===null){n.child=c;break}e=c.sibling,c.sibling=o,o=c,c=e}Sa(n,!0,o,null,d);break;case"together":Sa(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Us(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function nr(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),$r|=n.lanes,!(o&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(K(153));if(n.child!==null){for(e=n.child,o=Mr(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Mr(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function b2(e,n,o){switch(n.tag){case 3:od(n),ki();break;case 5:Lf(n);break;case 1:Zt(n.type)&&nl(n);break;case 4:Ju(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;je(ol,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(je(Ke,Ke.current&1),n.flags|=128,null):o&n.child.childLanes?sd(e,n,o):(je(Ke,Ke.current&1),e=nr(e,n,o),e!==null?e.sibling:null);je(Ke,Ke.current&1);break;case 19:if(a=(o&n.childLanes)!==0,e.flags&128){if(a)return ld(e,n,o);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),je(Ke,Ke.current),a)break;return null;case 22:case 23:return n.lanes=0,rd(e,n,o)}return nr(e,n,o)}var ad,fu,ud,cd;ad=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};fu=function(){};ud=function(e,n,o,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,Xr(Vn.current);var d=null;switch(o){case"input":c=La(e,c),a=La(e,a),d=[];break;case"select":c=$e({},c,{value:void 0}),a=$e({},a,{value:void 0}),d=[];break;case"textarea":c=Ba(e,c),a=Ba(e,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=el)}Fa(o,a);var p;o=null;for(w in c)if(!a.hasOwnProperty(w)&&c.hasOwnProperty(w)&&c[w]!=null)if(w==="style"){var E=c[w];for(p in E)E.hasOwnProperty(p)&&(o||(o={}),o[p]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Mo.hasOwnProperty(w)?d||(d=[]):(d=d||[]).push(w,null));for(w in a){var m=a[w];if(E=c!=null?c[w]:void 0,a.hasOwnProperty(w)&&m!==E&&(m!=null||E!=null))if(w==="style")if(E){for(p in E)!E.hasOwnProperty(p)||m&&m.hasOwnProperty(p)||(o||(o={}),o[p]="");for(p in m)m.hasOwnProperty(p)&&E[p]!==m[p]&&(o||(o={}),o[p]=m[p])}else o||(d||(d=[]),d.push(w,o)),o=m;else w==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,E=E?E.__html:void 0,m!=null&&E!==m&&(d=d||[]).push(w,m)):w==="children"?typeof m!="string"&&typeof m!="number"||(d=d||[]).push(w,""+m):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(w)?(m!=null&&w==="onScroll"&&Ve("scroll",e),d||E===m||(d=[])):(d=d||[]).push(w,m))}o&&(d=d||[]).push("style",o);var w=d;(n.updateQueue=w)&&(n.flags|=4)}};cd=function(e,n,o,a){o!==a&&(n.flags|=4)};function co(e,n){if(!Xe)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Rt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,a=0;if(n)for(var c=e.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=o,n}function k2(e,n,o){var a=n.pendingProps;switch(Gu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(n),null;case 1:return Zt(n.type)&&tl(),Rt(n),null;case 3:return a=n.stateNode,Pi(),We(Qt),We(Lt),ec(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Is(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Nn!==null&&(Eu(Nn),Nn=null))),fu(e,n),Rt(n),null;case 5:$u(n);var c=Xr(zo.current);if(o=n.type,e!==null&&n.stateNode!=null)ud(e,n,o,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(K(166));return Rt(n),null}if(e=Xr(Vn.current),Is(n)){a=n.stateNode,o=n.type;var d=n.memoizedProps;switch(a[jn]=n,a[Fo]=d,e=(n.mode&1)!==0,o){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(c=0;c<wo.length;c++)Ve(wo[c],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Kc(a,d),Ve("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Ve("invalid",a);break;case"textarea":Jc(a,d),Ve("invalid",a)}Fa(o,d),c=null;for(var p in d)if(d.hasOwnProperty(p)){var E=d[p];p==="children"?typeof E=="string"?a.textContent!==E&&(d.suppressHydrationWarning!==!0&&Ss(a.textContent,E,e),c=["children",E]):typeof E=="number"&&a.textContent!==""+E&&(d.suppressHydrationWarning!==!0&&Ss(a.textContent,E,e),c=["children",""+E]):Mo.hasOwnProperty(p)&&E!=null&&p==="onScroll"&&Ve("scroll",a)}switch(o){case"input":ps(a),qc(a,d,!0);break;case"textarea":ps(a),$c(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=el)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P0(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=p.createElement(o,{is:a.is}):(e=p.createElement(o),o==="select"&&(p=e,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):e=p.createElementNS(e,o),e[jn]=n,e[Fo]=a,ad(e,n,!1,!1),n.stateNode=e;e:{switch(p=Ua(o,a),o){case"dialog":Ve("cancel",e),Ve("close",e),c=a;break;case"iframe":case"object":case"embed":Ve("load",e),c=a;break;case"video":case"audio":for(c=0;c<wo.length;c++)Ve(wo[c],e);c=a;break;case"source":Ve("error",e),c=a;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),c=a;break;case"details":Ve("toggle",e),c=a;break;case"input":Kc(e,a),c=La(e,a),Ve("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=$e({},a,{value:void 0}),Ve("invalid",e);break;case"textarea":Jc(e,a),c=Ba(e,a),Ve("invalid",e);break;default:c=a}Fa(o,c),E=c;for(d in E)if(E.hasOwnProperty(d)){var m=E[d];d==="style"?z0(e,m):d==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&F0(e,m)):d==="children"?typeof m=="string"?(o!=="textarea"||m!=="")&&_o(e,m):typeof m=="number"&&_o(e,""+m):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Mo.hasOwnProperty(d)?m!=null&&d==="onScroll"&&Ve("scroll",e):m!=null&&Ou(e,d,m,p))}switch(o){case"input":ps(e),qc(e,a,!1);break;case"textarea":ps(e),$c(e);break;case"option":a.value!=null&&e.setAttribute("value",""+_r(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?Ni(e,!!a.multiple,d,!1):a.defaultValue!=null&&Ni(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=el)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Rt(n),null;case 6:if(e&&n.stateNode!=null)cd(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(K(166));if(o=Xr(zo.current),Xr(Vn.current),Is(n)){if(a=n.stateNode,o=n.memoizedProps,a[jn]=n,(d=a.nodeValue!==o)&&(e=tn,e!==null))switch(e.tag){case 3:Ss(a.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(a.nodeValue,o,(e.mode&1)!==0)}d&&(n.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[jn]=n,n.stateNode=a}return Rt(n),null;case 13:if(We(Ke),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&en!==null&&n.mode&1&&!(n.flags&128))Mf(),ki(),n.flags|=98560,d=!1;else if(d=Is(n),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(K(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(K(317));d[jn]=n}else ki(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Rt(n),d=!1}else Nn!==null&&(Eu(Nn),Nn=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=o,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||Ke.current&1?xt===0&&(xt=3):dc())),n.updateQueue!==null&&(n.flags|=4),Rt(n),null);case 4:return Pi(),fu(e,n),e===null&&Bo(n.stateNode.containerInfo),Rt(n),null;case 10:return Zu(n.type._context),Rt(n),null;case 17:return Zt(n.type)&&tl(),Rt(n),null;case 19:if(We(Ke),d=n.memoizedState,d===null)return Rt(n),null;if(a=(n.flags&128)!==0,p=d.rendering,p===null)if(a)co(d,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(p=al(e),p!==null){for(n.flags|=128,co(d,!1),a=p.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=o,o=n.child;o!==null;)d=o,e=a,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return je(Ke,Ke.current&1|2),n.child}e=e.sibling}d.tail!==null&&st()>Ui&&(n.flags|=128,a=!0,co(d,!1),n.lanes=4194304)}else{if(!a)if(e=al(p),e!==null){if(n.flags|=128,a=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),co(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Xe)return Rt(n),null}else 2*st()-d.renderingStartTime>Ui&&o!==1073741824&&(n.flags|=128,a=!0,co(d,!1),n.lanes=4194304);d.isBackwards?(p.sibling=n.child,n.child=p):(o=d.last,o!==null?o.sibling=p:n.child=p,d.last=p)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=st(),n.sibling=null,o=Ke.current,je(Ke,a?o&1|2:o&1),n):(Rt(n),null);case 22:case 23:return fc(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?$t&1073741824&&(Rt(n),n.subtreeFlags&6&&(n.flags|=8192)):Rt(n),null;case 24:return null;case 25:return null}throw Error(K(156,n.tag))}function B2(e,n){switch(Gu(n),n.tag){case 1:return Zt(n.type)&&tl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(),We(Qt),We(Lt),ec(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return $u(n),null;case 13:if(We(Ke),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(K(340));ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return We(Ke),null;case 4:return Pi(),null;case 10:return Zu(n.type._context),null;case 22:case 23:return fc(),null;case 24:return null;default:return null}}var Ns=!1,Dt=!1,P2=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Ti(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){it(e,n,a)}else o.current=null}function du(e,n,o){try{o()}catch(a){it(e,n,a)}}var H1=!1;function F2(e,n){if(Za=qs,e=pf(),Vu(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var p=0,E=-1,m=-1,w=0,S=0,R=e,M=null;t:for(;;){for(var F;R!==o||c!==0&&R.nodeType!==3||(E=p+c),R!==d||a!==0&&R.nodeType!==3||(m=p+a),R.nodeType===3&&(p+=R.nodeValue.length),(F=R.firstChild)!==null;)M=R,R=F;for(;;){if(R===e)break t;if(M===o&&++w===c&&(E=p),M===d&&++S===a&&(m=p),(F=R.nextSibling)!==null)break;R=M,M=R.parentNode}R=F}o=E===-1||m===-1?null:{start:E,end:m}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ka={focusedElem:e,selectionRange:o},qs=!1,ie=n;ie!==null;)if(n=ie,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ie=e;else for(;ie!==null;){n=ie;try{var b=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var H=b.memoizedProps,X=b.memoizedState,N=n.stateNode,v=N.getSnapshotBeforeUpdate(n.elementType===n.type?H:In(n.type,H),X);N.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=n.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(V){it(n,n.return,V)}if(e=n.sibling,e!==null){e.return=n.return,ie=e;break}ie=n.return}return b=H1,H1=!1,b}function To(e,n,o){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&du(n,o,d)}c=c.next}while(c!==a)}}function vl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var a=o.create;o.destroy=a()}o=o.next}while(o!==n)}}function hu(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function fd(e){var n=e.alternate;n!==null&&(e.alternate=null,fd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[jn],delete n[Fo],delete n[$a],delete n[y2],delete n[C2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dd(e){return e.tag===5||e.tag===3||e.tag===4}function V1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=el));else if(a!==4&&(e=e.child,e!==null))for(gu(e,n,o),e=e.sibling;e!==null;)gu(e,n,o),e=e.sibling}function pu(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(pu(e,n,o),e=e.sibling;e!==null;)pu(e,n,o),e=e.sibling}var Tt=null,Tn=!1;function dr(e,n,o){for(o=o.child;o!==null;)hd(e,n,o),o=o.sibling}function hd(e,n,o){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(wl,o)}catch{}switch(o.tag){case 5:Dt||Ti(o,n);case 6:var a=Tt,c=Tn;Tt=null,dr(e,n,o),Tt=a,Tn=c,Tt!==null&&(Tn?(e=Tt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):Tt.removeChild(o.stateNode));break;case 18:Tt!==null&&(Tn?(e=Tt,o=o.stateNode,e.nodeType===8?xa(e.parentNode,o):e.nodeType===1&&xa(e,o),Lo(e)):xa(Tt,o.stateNode));break;case 4:a=Tt,c=Tn,Tt=o.stateNode.containerInfo,Tn=!0,dr(e,n,o),Tt=a,Tn=c;break;case 0:case 11:case 14:case 15:if(!Dt&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,p=d.destroy;d=d.tag,p!==void 0&&(d&2||d&4)&&du(o,n,p),c=c.next}while(c!==a)}dr(e,n,o);break;case 1:if(!Dt&&(Ti(o,n),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(E){it(o,n,E)}dr(e,n,o);break;case 21:dr(e,n,o);break;case 22:o.mode&1?(Dt=(a=Dt)||o.memoizedState!==null,dr(e,n,o),Dt=a):dr(e,n,o);break;default:dr(e,n,o)}}function W1(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new P2),n.forEach(function(a){var c=X2.bind(null,e,a);o.has(a)||(o.add(a),a.then(c,c))})}}function Sn(e,n){var o=n.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var d=e,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 5:Tt=E.stateNode,Tn=!1;break e;case 3:Tt=E.stateNode.containerInfo,Tn=!0;break e;case 4:Tt=E.stateNode.containerInfo,Tn=!0;break e}E=E.return}if(Tt===null)throw Error(K(160));hd(d,p,c),Tt=null,Tn=!1;var m=c.alternate;m!==null&&(m.return=null),c.return=null}catch(w){it(c,n,w)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)gd(n,e),n=n.sibling}function gd(e,n){var o=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sn(n,e),Fn(e),a&4){try{To(3,e,e.return),vl(3,e)}catch(H){it(e,e.return,H)}try{To(5,e,e.return)}catch(H){it(e,e.return,H)}}break;case 1:Sn(n,e),Fn(e),a&512&&o!==null&&Ti(o,o.return);break;case 5:if(Sn(n,e),Fn(e),a&512&&o!==null&&Ti(o,o.return),e.flags&32){var c=e.stateNode;try{_o(c,"")}catch(H){it(e,e.return,H)}}if(a&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,p=o!==null?o.memoizedProps:d,E=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{E==="input"&&d.type==="radio"&&d.name!=null&&k0(c,d),Ua(E,p);var w=Ua(E,d);for(p=0;p<m.length;p+=2){var S=m[p],R=m[p+1];S==="style"?z0(c,R):S==="dangerouslySetInnerHTML"?F0(c,R):S==="children"?_o(c,R):Ou(c,S,R,w)}switch(E){case"input":ba(c,d);break;case"textarea":B0(c,d);break;case"select":var M=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var F=d.value;F!=null?Ni(c,!!d.multiple,F,!1):M!==!!d.multiple&&(d.defaultValue!=null?Ni(c,!!d.multiple,d.defaultValue,!0):Ni(c,!!d.multiple,d.multiple?[]:"",!1))}c[Fo]=d}catch(H){it(e,e.return,H)}}break;case 6:if(Sn(n,e),Fn(e),a&4){if(e.stateNode===null)throw Error(K(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(H){it(e,e.return,H)}}break;case 3:if(Sn(n,e),Fn(e),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Lo(n.containerInfo)}catch(H){it(e,e.return,H)}break;case 4:Sn(n,e),Fn(e);break;case 13:Sn(n,e),Fn(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(uc=st())),a&4&&W1(e);break;case 22:if(S=o!==null&&o.memoizedState!==null,e.mode&1?(Dt=(w=Dt)||S,Sn(n,e),Dt=w):Sn(n,e),Fn(e),a&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!S&&e.mode&1)for(ie=e,S=e.child;S!==null;){for(R=ie=S;ie!==null;){switch(M=ie,F=M.child,M.tag){case 0:case 11:case 14:case 15:To(4,M,M.return);break;case 1:Ti(M,M.return);var b=M.stateNode;if(typeof b.componentWillUnmount=="function"){a=M,o=M.return;try{n=a,b.props=n.memoizedProps,b.state=n.memoizedState,b.componentWillUnmount()}catch(H){it(a,o,H)}}break;case 5:Ti(M,M.return);break;case 22:if(M.memoizedState!==null){Y1(R);continue}}F!==null?(F.return=M,ie=F):Y1(R)}S=S.sibling}e:for(S=null,R=e;;){if(R.tag===5){if(S===null){S=R;try{c=R.stateNode,w?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(E=R.stateNode,m=R.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null,E.style.display=U0("display",p))}catch(H){it(e,e.return,H)}}}else if(R.tag===6){if(S===null)try{R.stateNode.nodeValue=w?"":R.memoizedProps}catch(H){it(e,e.return,H)}}else if((R.tag!==22&&R.tag!==23||R.memoizedState===null||R===e)&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===e)break e;for(;R.sibling===null;){if(R.return===null||R.return===e)break e;S===R&&(S=null),R=R.return}S===R&&(S=null),R.sibling.return=R.return,R=R.sibling}}break;case 19:Sn(n,e),Fn(e),a&4&&W1(e);break;case 21:break;default:Sn(n,e),Fn(e)}}function Fn(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(dd(o)){var a=o;break e}o=o.return}throw Error(K(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(_o(c,""),a.flags&=-33);var d=V1(e);pu(e,d,c);break;case 3:case 4:var p=a.stateNode.containerInfo,E=V1(e);gu(e,E,p);break;default:throw Error(K(161))}}catch(m){it(e,e.return,m)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function U2(e,n,o){ie=e,pd(e)}function pd(e,n,o){for(var a=(e.mode&1)!==0;ie!==null;){var c=ie,d=c.child;if(c.tag===22&&a){var p=c.memoizedState!==null||Ns;if(!p){var E=c.alternate,m=E!==null&&E.memoizedState!==null||Dt;E=Ns;var w=Dt;if(Ns=p,(Dt=m)&&!w)for(ie=c;ie!==null;)p=ie,m=p.child,p.tag===22&&p.memoizedState!==null?X1(c):m!==null?(m.return=p,ie=m):X1(c);for(;d!==null;)ie=d,pd(d),d=d.sibling;ie=c,Ns=E,Dt=w}G1(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,ie=d):G1(e)}}function G1(e){for(;ie!==null;){var n=ie;if(n.flags&8772){var o=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Dt||vl(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Dt)if(o===null)a.componentDidMount();else{var c=n.elementType===n.type?o.memoizedProps:In(n.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&_1(n,d,a);break;case 3:var p=n.updateQueue;if(p!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}_1(n,p,o)}break;case 5:var E=n.stateNode;if(o===null&&n.flags&4){o=E;var m=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&o.focus();break;case"img":m.src&&(o.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var w=n.alternate;if(w!==null){var S=w.memoizedState;if(S!==null){var R=S.dehydrated;R!==null&&Lo(R)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Dt||n.flags&512&&hu(n)}catch(M){it(n,n.return,M)}}if(n===e){ie=null;break}if(o=n.sibling,o!==null){o.return=n.return,ie=o;break}ie=n.return}}function Y1(e){for(;ie!==null;){var n=ie;if(n===e){ie=null;break}var o=n.sibling;if(o!==null){o.return=n.return,ie=o;break}ie=n.return}}function X1(e){for(;ie!==null;){var n=ie;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{vl(4,n)}catch(m){it(n,o,m)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(m){it(n,c,m)}}var d=n.return;try{hu(n)}catch(m){it(n,d,m)}break;case 5:var p=n.return;try{hu(n)}catch(m){it(n,p,m)}}}catch(m){it(n,n.return,m)}if(n===e){ie=null;break}var E=n.sibling;if(E!==null){E.return=n.return,ie=E;break}ie=n.return}}var z2=Math.ceil,fl=rr.ReactCurrentDispatcher,lc=rr.ReactCurrentOwner,pn=rr.ReactCurrentBatchConfig,Ne=0,yt=null,ft=null,vt=0,$t=0,vi=br(0),xt=0,Wo=null,$r=0,Nl=0,ac=0,vo=null,Yt=null,uc=0,Ui=1/0,Xn=null,dl=!1,xu=null,vr=null,Ms=!1,yr=null,hl=0,No=0,mu=null,zs=-1,js=0;function Pt(){return Ne&6?st():zs!==-1?zs:zs=st()}function Nr(e){return e.mode&1?Ne&2&&vt!==0?vt&-vt:S2.transition!==null?(js===0&&(js=J0()),js):(e=De,e!==0||(e=window.event,e=e===void 0?16:sf(e.type)),e):1}function _n(e,n,o,a){if(50<No)throw No=0,mu=null,Error(K(185));Xo(e,o,a),(!(Ne&2)||e!==yt)&&(e===yt&&(!(Ne&2)&&(Nl|=o),xt===4&&mr(e,vt)),Kt(e,a),o===1&&Ne===0&&!(n.mode&1)&&(Ui=st()+500,Sl&&kr()))}function Kt(e,n){var o=e.callbackNode;Sg(e,n);var a=Ks(e,e===yt?vt:0);if(a===0)o!==null&&n1(o),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(o!=null&&n1(o),n===1)e.tag===0?A2(Q1.bind(null,e)):Tf(Q1.bind(null,e)),w2(function(){!(Ne&6)&&kr()}),o=null;else{switch($0(a)){case 1:o=ku;break;case 4:o=K0;break;case 16:o=Zs;break;case 536870912:o=q0;break;default:o=Zs}o=Sd(o,xd.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function xd(e,n){if(zs=-1,js=0,Ne&6)throw Error(K(327));var o=e.callbackNode;if(Di()&&e.callbackNode!==o)return null;var a=Ks(e,e===yt?vt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=gl(e,a);else{n=a;var c=Ne;Ne|=2;var d=wd();(yt!==e||vt!==n)&&(Xn=null,Ui=st()+500,Qr(e,n));do try{V2();break}catch(E){md(e,E)}while(!0);Qu(),fl.current=d,Ne=c,ft!==null?n=0:(yt=null,vt=0,n=xt)}if(n!==0){if(n===2&&(c=Wa(e),c!==0&&(a=c,n=wu(e,c))),n===1)throw o=Wo,Qr(e,0),mr(e,a),Kt(e,st()),o;if(n===6)mr(e,a);else{if(c=e.current.alternate,!(a&30)&&!j2(c)&&(n=gl(e,a),n===2&&(d=Wa(e),d!==0&&(a=d,n=wu(e,d))),n===1))throw o=Wo,Qr(e,0),mr(e,a),Kt(e,st()),o;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(K(345));case 2:Wr(e,Yt,Xn);break;case 3:if(mr(e,a),(a&130023424)===a&&(n=uc+500-st(),10<n)){if(Ks(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){Pt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Ja(Wr.bind(null,e,Yt,Xn),n);break}Wr(e,Yt,Xn);break;case 4:if(mr(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var p=31-Mn(a);d=1<<p,p=n[p],p>c&&(c=p),a&=~d}if(a=c,a=st()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*z2(a/1960))-a,10<a){e.timeoutHandle=Ja(Wr.bind(null,e,Yt,Xn),a);break}Wr(e,Yt,Xn);break;case 5:Wr(e,Yt,Xn);break;default:throw Error(K(329))}}}return Kt(e,st()),e.callbackNode===o?xd.bind(null,e):null}function wu(e,n){var o=vo;return e.current.memoizedState.isDehydrated&&(Qr(e,n).flags|=256),e=gl(e,n),e!==2&&(n=Yt,Yt=o,n!==null&&Eu(n)),e}function Eu(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function j2(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],d=c.getSnapshot;c=c.value;try{if(!On(d(),c))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function mr(e,n){for(n&=~ac,n&=~Nl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Mn(n),a=1<<o;e[o]=-1,n&=~a}}function Q1(e){if(Ne&6)throw Error(K(327));Di();var n=Ks(e,0);if(!(n&1))return Kt(e,st()),null;var o=gl(e,n);if(e.tag!==0&&o===2){var a=Wa(e);a!==0&&(n=a,o=wu(e,a))}if(o===1)throw o=Wo,Qr(e,0),mr(e,n),Kt(e,st()),o;if(o===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Wr(e,Yt,Xn),Kt(e,st()),null}function cc(e,n){var o=Ne;Ne|=1;try{return e(n)}finally{Ne=o,Ne===0&&(Ui=st()+500,Sl&&kr())}}function ei(e){yr!==null&&yr.tag===0&&!(Ne&6)&&Di();var n=Ne;Ne|=1;var o=pn.transition,a=De;try{if(pn.transition=null,De=1,e)return e()}finally{De=a,pn.transition=o,Ne=n,!(Ne&6)&&kr()}}function fc(){$t=vi.current,We(vi)}function Qr(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,m2(o)),ft!==null)for(o=ft.return;o!==null;){var a=o;switch(Gu(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&tl();break;case 3:Pi(),We(Qt),We(Lt),ec();break;case 5:$u(a);break;case 4:Pi();break;case 13:We(Ke);break;case 19:We(Ke);break;case 10:Zu(a.type._context);break;case 22:case 23:fc()}o=o.return}if(yt=e,ft=e=Mr(e.current,null),vt=$t=n,xt=0,Wo=null,ac=Nl=$r=0,Yt=vo=null,Yr!==null){for(n=0;n<Yr.length;n++)if(o=Yr[n],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,d=o.pending;if(d!==null){var p=d.next;d.next=c,a.next=p}o.pending=a}Yr=null}return e}function md(e,n){do{var o=ft;try{if(Qu(),Ps.current=cl,ul){for(var a=qe.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}ul=!1}if(Jr=0,Et=pt=qe=null,Io=!1,jo=0,lc.current=null,o===null||o.return===null){xt=1,Wo=n,ft=null;break}e:{var d=e,p=o.return,E=o,m=n;if(n=vt,E.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var w=m,S=E,R=S.tag;if(!(S.mode&1)&&(R===0||R===11||R===15)){var M=S.alternate;M?(S.updateQueue=M.updateQueue,S.memoizedState=M.memoizedState,S.lanes=M.lanes):(S.updateQueue=null,S.memoizedState=null)}var F=k1(p);if(F!==null){F.flags&=-257,B1(F,p,E,d,n),F.mode&1&&b1(d,w,n),n=F,m=w;var b=n.updateQueue;if(b===null){var H=new Set;H.add(m),n.updateQueue=H}else b.add(m);break e}else{if(!(n&1)){b1(d,w,n),dc();break e}m=Error(K(426))}}else if(Xe&&E.mode&1){var X=k1(p);if(X!==null){!(X.flags&65536)&&(X.flags|=256),B1(X,p,E,d,n),Yu(Fi(m,E));break e}}d=m=Fi(m,E),xt!==4&&(xt=2),vo===null?vo=[d]:vo.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var N=ed(d,m,n);M1(d,N);break e;case 1:E=m;var v=d.type,_=d.stateNode;if(!(d.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(vr===null||!vr.has(_)))){d.flags|=65536,n&=-n,d.lanes|=n;var V=td(d,E,n);M1(d,V);break e}}d=d.return}while(d!==null)}yd(o)}catch(Y){n=Y,ft===o&&o!==null&&(ft=o=o.return);continue}break}while(!0)}function wd(){var e=fl.current;return fl.current=cl,e===null?cl:e}function dc(){(xt===0||xt===3||xt===2)&&(xt=4),yt===null||!($r&268435455)&&!(Nl&268435455)||mr(yt,vt)}function gl(e,n){var o=Ne;Ne|=2;var a=wd();(yt!==e||vt!==n)&&(Xn=null,Qr(e,n));do try{H2();break}catch(c){md(e,c)}while(!0);if(Qu(),Ne=o,fl.current=a,ft!==null)throw Error(K(261));return yt=null,vt=0,xt}function H2(){for(;ft!==null;)Ed(ft)}function V2(){for(;ft!==null&&!gg();)Ed(ft)}function Ed(e){var n=Ad(e.alternate,e,$t);e.memoizedProps=e.pendingProps,n===null?yd(e):ft=n,lc.current=null}function yd(e){var n=e;do{var o=n.alternate;if(e=n.return,n.flags&32768){if(o=B2(o,n),o!==null){o.flags&=32767,ft=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ft=null;return}}else if(o=k2(o,n,$t),o!==null){ft=o;return}if(n=n.sibling,n!==null){ft=n;return}ft=n=e}while(n!==null);xt===0&&(xt=5)}function Wr(e,n,o){var a=De,c=pn.transition;try{pn.transition=null,De=1,W2(e,n,o,a)}finally{pn.transition=c,De=a}return null}function W2(e,n,o,a){do Di();while(yr!==null);if(Ne&6)throw Error(K(327));o=e.finishedWork;var c=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var d=o.lanes|o.childLanes;if(Ig(e,d),e===yt&&(ft=yt=null,vt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Ms||(Ms=!0,Sd(Zs,function(){return Di(),null})),d=(o.flags&15990)!==0,o.subtreeFlags&15990||d){d=pn.transition,pn.transition=null;var p=De;De=1;var E=Ne;Ne|=4,lc.current=null,F2(e,o),gd(o,e),c2(Ka),qs=!!Za,Ka=Za=null,e.current=o,U2(o),pg(),Ne=E,De=p,pn.transition=d}else e.current=o;if(Ms&&(Ms=!1,yr=e,hl=c),d=e.pendingLanes,d===0&&(vr=null),wg(o.stateNode),Kt(e,st()),n!==null)for(a=e.onRecoverableError,o=0;o<n.length;o++)c=n[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(dl)throw dl=!1,e=xu,xu=null,e;return hl&1&&e.tag!==0&&Di(),d=e.pendingLanes,d&1?e===mu?No++:(No=0,mu=e):No=0,kr(),null}function Di(){if(yr!==null){var e=$0(hl),n=pn.transition,o=De;try{if(pn.transition=null,De=16>e?16:e,yr===null)var a=!1;else{if(e=yr,yr=null,hl=0,Ne&6)throw Error(K(331));var c=Ne;for(Ne|=4,ie=e.current;ie!==null;){var d=ie,p=d.child;if(ie.flags&16){var E=d.deletions;if(E!==null){for(var m=0;m<E.length;m++){var w=E[m];for(ie=w;ie!==null;){var S=ie;switch(S.tag){case 0:case 11:case 15:To(8,S,d)}var R=S.child;if(R!==null)R.return=S,ie=R;else for(;ie!==null;){S=ie;var M=S.sibling,F=S.return;if(fd(S),S===w){ie=null;break}if(M!==null){M.return=F,ie=M;break}ie=F}}}var b=d.alternate;if(b!==null){var H=b.child;if(H!==null){b.child=null;do{var X=H.sibling;H.sibling=null,H=X}while(H!==null)}}ie=d}}if(d.subtreeFlags&2064&&p!==null)p.return=d,ie=p;else e:for(;ie!==null;){if(d=ie,d.flags&2048)switch(d.tag){case 0:case 11:case 15:To(9,d,d.return)}var N=d.sibling;if(N!==null){N.return=d.return,ie=N;break e}ie=d.return}}var v=e.current;for(ie=v;ie!==null;){p=ie;var _=p.child;if(p.subtreeFlags&2064&&_!==null)_.return=p,ie=_;else e:for(p=v;ie!==null;){if(E=ie,E.flags&2048)try{switch(E.tag){case 0:case 11:case 15:vl(9,E)}}catch(Y){it(E,E.return,Y)}if(E===p){ie=null;break e}var V=E.sibling;if(V!==null){V.return=E.return,ie=V;break e}ie=E.return}}if(Ne=c,kr(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(wl,e)}catch{}a=!0}return a}finally{De=o,pn.transition=n}}return!1}function Z1(e,n,o){n=Fi(o,n),n=ed(e,n,1),e=Tr(e,n,1),n=Pt(),e!==null&&(Xo(e,1,n),Kt(e,n))}function it(e,n,o){if(e.tag===3)Z1(e,e,o);else for(;n!==null;){if(n.tag===3){Z1(n,e,o);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(vr===null||!vr.has(a))){e=Fi(o,e),e=td(n,e,1),n=Tr(n,e,1),e=Pt(),n!==null&&(Xo(n,1,e),Kt(n,e));break}}n=n.return}}function G2(e,n,o){var a=e.pingCache;a!==null&&a.delete(n),n=Pt(),e.pingedLanes|=e.suspendedLanes&o,yt===e&&(vt&o)===o&&(xt===4||xt===3&&(vt&130023424)===vt&&500>st()-uc?Qr(e,0):ac|=o),Kt(e,n)}function Cd(e,n){n===0&&(e.mode&1?(n=ws,ws<<=1,!(ws&130023424)&&(ws=4194304)):n=1);var o=Pt();e=tr(e,n),e!==null&&(Xo(e,n,o),Kt(e,o))}function Y2(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Cd(e,o)}function X2(e,n){var o=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(K(314))}a!==null&&a.delete(n),Cd(e,o)}var Ad;Ad=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||Qt.current)Xt=!0;else{if(!(e.lanes&o)&&!(n.flags&128))return Xt=!1,b2(e,n,o);Xt=!!(e.flags&131072)}else Xt=!1,Xe&&n.flags&1048576&&vf(n,il,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Us(e,n),e=n.pendingProps;var c=bi(n,Lt.current);Ri(n,o),c=nc(null,n,a,e,c,o);var d=rc();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Zt(a)?(d=!0,nl(n)):d=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,qu(n),c.updater=Tl,n.stateNode=c,c._reactInternals=n,ou(n,a,e,o),n=au(null,n,a,!0,d,o)):(n.tag=0,Xe&&d&&Wu(n),Bt(null,n,c,o),n=n.child),n;case 16:a=n.elementType;e:{switch(Us(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=Z2(a),e=In(a,e),c){case 0:n=lu(null,n,a,e,o);break e;case 1:n=U1(null,n,a,e,o);break e;case 11:n=P1(null,n,a,e,o);break e;case 14:n=F1(null,n,a,In(a.type,e),o);break e}throw Error(K(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:In(a,c),lu(e,n,a,c,o);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:In(a,c),U1(e,n,a,c,o);case 3:e:{if(od(n),e===null)throw Error(K(387));a=n.pendingProps,d=n.memoizedState,c=d.element,Df(e,n),ll(n,a,null,o);var p=n.memoizedState;if(a=p.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){c=Fi(Error(K(423)),n),n=z1(e,n,a,o,c);break e}else if(a!==c){c=Fi(Error(K(424)),n),n=z1(e,n,a,o,c);break e}else for(en=Ir(n.stateNode.containerInfo.firstChild),tn=n,Xe=!0,Nn=null,o=Of(n,null,a,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ki(),a===c){n=nr(e,n,o);break e}Bt(e,n,a,o)}n=n.child}return n;case 5:return Lf(n),e===null&&nu(n),a=n.type,c=n.pendingProps,d=e!==null?e.memoizedProps:null,p=c.children,qa(a,c)?p=null:d!==null&&qa(a,d)&&(n.flags|=32),id(e,n),Bt(e,n,p,o),n.child;case 6:return e===null&&nu(n),null;case 13:return sd(e,n,o);case 4:return Ju(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Bi(n,null,a,o):Bt(e,n,a,o),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:In(a,c),P1(e,n,a,c,o);case 7:return Bt(e,n,n.pendingProps,o),n.child;case 8:return Bt(e,n,n.pendingProps.children,o),n.child;case 12:return Bt(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,d=n.memoizedProps,p=c.value,je(ol,a._currentValue),a._currentValue=p,d!==null)if(On(d.value,p)){if(d.children===c.children&&!Qt.current){n=nr(e,n,o);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var E=d.dependencies;if(E!==null){p=d.child;for(var m=E.firstContext;m!==null;){if(m.context===a){if(d.tag===1){m=qn(-1,o&-o),m.tag=2;var w=d.updateQueue;if(w!==null){w=w.shared;var S=w.pending;S===null?m.next=m:(m.next=S.next,S.next=m),w.pending=m}}d.lanes|=o,m=d.alternate,m!==null&&(m.lanes|=o),ru(d.return,o,n),E.lanes|=o;break}m=m.next}}else if(d.tag===10)p=d.type===n.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(K(341));p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),ru(p,o,n),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===n){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Bt(e,n,c.children,o),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,Ri(n,o),c=xn(c),a=a(c),n.flags|=1,Bt(e,n,a,o),n.child;case 14:return a=n.type,c=In(a,n.pendingProps),c=In(a.type,c),F1(e,n,a,c,o);case 15:return nd(e,n,n.type,n.pendingProps,o);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:In(a,c),Us(e,n),n.tag=1,Zt(a)?(e=!0,nl(n)):e=!1,Ri(n,o),$f(n,a,c),ou(n,a,c,o),au(null,n,a,!0,e,o);case 19:return ld(e,n,o);case 22:return rd(e,n,o)}throw Error(K(156,n.tag))};function Sd(e,n){return Z0(e,n)}function Q2(e,n,o,a){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,o,a){return new Q2(e,n,o,a)}function hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Z2(e){if(typeof e=="function")return hc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Du)return 11;if(e===Lu)return 14}return 2}function Mr(e,n){var o=e.alternate;return o===null?(o=gn(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Hs(e,n,o,a,c,d){var p=2;if(a=e,typeof e=="function")hc(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case xi:return Zr(o.children,c,d,n);case Ru:p=8,c|=8;break;case _a:return e=gn(12,o,n,c|2),e.elementType=_a,e.lanes=d,e;case Oa:return e=gn(13,o,n,c),e.elementType=Oa,e.lanes=d,e;case Ra:return e=gn(19,o,n,c),e.elementType=Ra,e.lanes=d,e;case D0:return Ml(o,c,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O0:p=10;break e;case R0:p=9;break e;case Du:p=11;break e;case Lu:p=14;break e;case gr:p=16,a=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return n=gn(p,o,n,c),n.elementType=e,n.type=a,n.lanes=d,n}function Zr(e,n,o,a){return e=gn(7,e,a,n),e.lanes=o,e}function Ml(e,n,o,a){return e=gn(22,e,a,n),e.elementType=D0,e.lanes=o,e.stateNode={isHidden:!1},e}function Ia(e,n,o){return e=gn(6,e,null,n),e.lanes=o,e}function Ta(e,n,o){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function K2(e,n,o,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oa(0),this.expirationTimes=oa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function gc(e,n,o,a,c,d,p,E,m){return e=new K2(e,n,o,E,m),n===1?(n=1,d===!0&&(n|=8)):n=0,d=gn(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},qu(d),e}function q2(e,n,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pi,key:a==null?null:""+a,children:e,containerInfo:n,implementation:o}}function Id(e){if(!e)return Or;e=e._reactInternals;e:{if(ni(e)!==e||e.tag!==1)throw Error(K(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Zt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(K(171))}if(e.tag===1){var o=e.type;if(Zt(o))return If(e,o,n)}return n}function Td(e,n,o,a,c,d,p,E,m){return e=gc(o,a,!0,e,c,d,p,E,m),e.context=Id(null),o=e.current,a=Pt(),c=Nr(o),d=qn(a,c),d.callback=n??null,Tr(o,d,c),e.current.lanes=c,Xo(e,c,a),Kt(e,a),e}function _l(e,n,o,a){var c=n.current,d=Pt(),p=Nr(c);return o=Id(o),n.context===null?n.context=o:n.pendingContext=o,n=qn(d,p),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Tr(c,n,p),e!==null&&(_n(e,c,p,d),Bs(e,c,p)),p}function pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function K1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function pc(e,n){K1(e,n),(e=e.alternate)&&K1(e,n)}function J2(){return null}var vd=typeof reportError=="function"?reportError:function(e){console.error(e)};function xc(e){this._internalRoot=e}Ol.prototype.render=xc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(K(409));_l(e,n,null,null)};Ol.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ei(function(){_l(null,e,null,null)}),n[er]=null}};function Ol(e){this._internalRoot=e}Ol.prototype.unstable_scheduleHydration=function(e){if(e){var n=nf();e={blockedOn:null,target:e,priority:n};for(var o=0;o<xr.length&&n!==0&&n<xr[o].priority;o++);xr.splice(o,0,e),o===0&&of(e)}};function mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function q1(){}function $2(e,n,o,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var w=pl(p);d.call(w)}}var p=Td(n,a,e,0,null,!1,!1,"",q1);return e._reactRootContainer=p,e[er]=p.current,Bo(e.nodeType===8?e.parentNode:e),ei(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var E=a;a=function(){var w=pl(m);E.call(w)}}var m=gc(e,0,!1,null,null,!1,!1,"",q1);return e._reactRootContainer=m,e[er]=m.current,Bo(e.nodeType===8?e.parentNode:e),ei(function(){_l(n,m,o,a)}),m}function Dl(e,n,o,a,c){var d=o._reactRootContainer;if(d){var p=d;if(typeof c=="function"){var E=c;c=function(){var m=pl(p);E.call(m)}}_l(n,p,e,c)}else p=$2(o,n,e,c,a);return pl(p)}ef=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=mo(n.pendingLanes);o!==0&&(Bu(n,o|1),Kt(n,st()),!(Ne&6)&&(Ui=st()+500,kr()))}break;case 13:ei(function(){var a=tr(e,1);if(a!==null){var c=Pt();_n(a,e,1,c)}}),pc(e,1)}};Pu=function(e){if(e.tag===13){var n=tr(e,134217728);if(n!==null){var o=Pt();_n(n,e,134217728,o)}pc(e,134217728)}};tf=function(e){if(e.tag===13){var n=Nr(e),o=tr(e,n);if(o!==null){var a=Pt();_n(o,e,n,a)}pc(e,n)}};nf=function(){return De};rf=function(e,n){var o=De;try{return De=e,n()}finally{De=o}};ja=function(e,n,o){switch(n){case"input":if(ba(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var a=o[n];if(a!==e&&a.form===e.form){var c=Al(a);if(!c)throw Error(K(90));b0(a),ba(a,c)}}}break;case"textarea":B0(e,o);break;case"select":n=o.value,n!=null&&Ni(e,!!o.multiple,n,!1)}};V0=cc;W0=ei;var ep={usingClientEntryPoint:!1,Events:[Zo,yi,Al,j0,H0,cc]},fo={findFiberByHostInstance:Gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tp={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=X0(e),e===null?null:e.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||J2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_s.isDisabled&&_s.supportsFiber)try{wl=_s.inject(tp),Hn=_s}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ep;rn.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mc(n))throw Error(K(200));return q2(e,n,null,o)};rn.createRoot=function(e,n){if(!mc(e))throw Error(K(299));var o=!1,a="",c=vd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=gc(e,1,!1,null,null,o,!1,a,c),e[er]=n.current,Bo(e.nodeType===8?e.parentNode:e),new xc(n)};rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=X0(n),e=e===null?null:e.stateNode,e};rn.flushSync=function(e){return ei(e)};rn.hydrate=function(e,n,o){if(!Rl(n))throw Error(K(200));return Dl(null,e,n,!0,o)};rn.hydrateRoot=function(e,n,o){if(!mc(e))throw Error(K(405));var a=o!=null&&o.hydratedSources||null,c=!1,d="",p=vd;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),n=Td(n,null,e,1,o??null,c,!1,d,p),e[er]=n.current,Bo(e),a)for(e=0;e<a.length;e++)o=a[e],c=o._getVersion,c=c(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,c]:n.mutableSourceEagerHydrationData.push(o,c);return new Ol(n)};rn.render=function(e,n,o){if(!Rl(n))throw Error(K(200));return Dl(null,e,n,!1,o)};rn.unmountComponentAtNode=function(e){if(!Rl(e))throw Error(K(40));return e._reactRootContainer?(ei(function(){Dl(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1};rn.unstable_batchedUpdates=cc;rn.unstable_renderSubtreeIntoContainer=function(e,n,o,a){if(!Rl(o))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Dl(e,n,o,!1,a)};rn.version="18.3.1-next-f1338f8080-20240426";function Nd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nd)}catch(e){console.error(e)}}Nd(),v0.exports=rn;var np=v0.exports,Md,J1=np;Md=J1.createRoot,J1.hydrateRoot;var wc={};Object.defineProperty(wc,"__esModule",{value:!0});wc.parse=up;wc.serialize=cp;const rp=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,ip=/^[\u0021-\u003A\u003C-\u007E]*$/,op=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,sp=/^[\u0020-\u003A\u003D-\u007E]*$/,lp=Object.prototype.toString,ap=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function up(e,n){const o=new ap,a=e.length;if(a<2)return o;const c=(n==null?void 0:n.decode)||fp;let d=0;do{const p=e.indexOf("=",d);if(p===-1)break;const E=e.indexOf(";",d),m=E===-1?a:E;if(p>m){d=e.lastIndexOf(";",p-1)+1;continue}const w=$1(e,d,p),S=e0(e,p,w),R=e.slice(w,S);if(o[R]===void 0){let M=$1(e,p+1,m),F=e0(e,m,M);const b=c(e.slice(M,F));o[R]=b}d=m+1}while(d<a);return o}function $1(e,n,o){do{const a=e.charCodeAt(n);if(a!==32&&a!==9)return n}while(++n<o);return o}function e0(e,n,o){for(;n>o;){const a=e.charCodeAt(--n);if(a!==32&&a!==9)return n+1}return o}function cp(e,n,o){const a=(o==null?void 0:o.encode)||encodeURIComponent;if(!rp.test(e))throw new TypeError(`argument name is invalid: ${e}`);const c=a(n);if(!ip.test(c))throw new TypeError(`argument val is invalid: ${n}`);let d=e+"="+c;if(!o)return d;if(o.maxAge!==void 0){if(!Number.isInteger(o.maxAge))throw new TypeError(`option maxAge is invalid: ${o.maxAge}`);d+="; Max-Age="+o.maxAge}if(o.domain){if(!op.test(o.domain))throw new TypeError(`option domain is invalid: ${o.domain}`);d+="; Domain="+o.domain}if(o.path){if(!sp.test(o.path))throw new TypeError(`option path is invalid: ${o.path}`);d+="; Path="+o.path}if(o.expires){if(!dp(o.expires)||!Number.isFinite(o.expires.valueOf()))throw new TypeError(`option expires is invalid: ${o.expires}`);d+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(d+="; HttpOnly"),o.secure&&(d+="; Secure"),o.partitioned&&(d+="; Partitioned"),o.priority)switch(typeof o.priority=="string"?o.priority.toLowerCase():void 0){case"low":d+="; Priority=Low";break;case"medium":d+="; Priority=Medium";break;case"high":d+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${o.priority}`)}if(o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"none":d+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${o.sameSite}`)}return d}function fp(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function dp(e){return lp.call(e)==="[object Date]"}/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t0="popstate";function hp(e={}){function n(a,c){let{pathname:d,search:p,hash:E}=a.location;return yu("",{pathname:d,search:p,hash:E},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(a,c){return typeof c=="string"?c:Go(c)}return pp(n,o,null,e)}function Je(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Br(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function gp(){return Math.random().toString(36).substring(2,10)}function n0(e,n){return{usr:e.state,key:e.key,idx:n}}function yu(e,n,o=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?Vi(n):n,state:o,key:n&&n.key||a||gp()}}function Go({pathname:e="/",search:n="",hash:o=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Vi(e){let n={};if(e){let o=e.indexOf("#");o>=0&&(n.hash=e.substring(o),e=e.substring(0,o));let a=e.indexOf("?");a>=0&&(n.search=e.substring(a),e=e.substring(0,a)),e&&(n.pathname=e)}return n}function pp(e,n,o,a={}){let{window:c=document.defaultView,v5Compat:d=!1}=a,p=c.history,E="POP",m=null,w=S();w==null&&(w=0,p.replaceState({...p.state,idx:w},""));function S(){return(p.state||{idx:null}).idx}function R(){E="POP";let X=S(),N=X==null?null:X-w;w=X,m&&m({action:E,location:H.location,delta:N})}function M(X,N){E="PUSH";let v=yu(H.location,X,N);w=S()+1;let _=n0(v,w),V=H.createHref(v);try{p.pushState(_,"",V)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;c.location.assign(V)}d&&m&&m({action:E,location:H.location,delta:1})}function F(X,N){E="REPLACE";let v=yu(H.location,X,N);w=S();let _=n0(v,w),V=H.createHref(v);p.replaceState(_,"",V),d&&m&&m({action:E,location:H.location,delta:0})}function b(X){let N=c.location.origin!=="null"?c.location.origin:c.location.href,v=typeof X=="string"?X:Go(X);return v=v.replace(/ $/,"%20"),Je(N,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,N)}let H={get action(){return E},get location(){return e(c,p)},listen(X){if(m)throw new Error("A history only accepts one active listener");return c.addEventListener(t0,R),m=X,()=>{c.removeEventListener(t0,R),m=null}},createHref(X){return n(c,X)},createURL:b,encodeLocation(X){let N=b(X);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:M,replace:F,go(X){return p.go(X)}};return H}function _d(e,n,o="/"){return xp(e,n,o,!1)}function xp(e,n,o,a){let c=typeof n=="string"?Vi(n):n,d=Rr(c.pathname||"/",o);if(d==null)return null;let p=Od(e);mp(p);let E=null;for(let m=0;E==null&&m<p.length;++m){let w=Mp(d);E=vp(p[m],w,a)}return E}function Od(e,n=[],o=[],a=""){let c=(d,p,E)=>{let m={relativePath:E===void 0?d.path||"":E,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};m.relativePath.startsWith("/")&&(Je(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let w=Jn([a,m.relativePath]),S=o.concat(m);d.children&&d.children.length>0&&(Je(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Od(d.children,n,S,w)),!(d.path==null&&!d.index)&&n.push({path:w,score:Ip(w,d.index),routesMeta:S})};return e.forEach((d,p)=>{var E;if(d.path===""||!((E=d.path)!=null&&E.includes("?")))c(d,p);else for(let m of Rd(d.path))c(d,p,m)}),n}function Rd(e){let n=e.split("/");if(n.length===0)return[];let[o,...a]=n,c=o.endsWith("?"),d=o.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let p=Rd(a.join("/")),E=[];return E.push(...p.map(m=>m===""?d:[d,m].join("/"))),c&&E.push(...p),E.map(m=>e.startsWith("/")&&m===""?"/":m)}function mp(e){e.sort((n,o)=>n.score!==o.score?o.score-n.score:Tp(n.routesMeta.map(a=>a.childrenIndex),o.routesMeta.map(a=>a.childrenIndex)))}var wp=/^:[\w-]+$/,Ep=3,yp=2,Cp=1,Ap=10,Sp=-2,r0=e=>e==="*";function Ip(e,n){let o=e.split("/"),a=o.length;return o.some(r0)&&(a+=Sp),n&&(a+=yp),o.filter(c=>!r0(c)).reduce((c,d)=>c+(wp.test(d)?Ep:d===""?Cp:Ap),a)}function Tp(e,n){return e.length===n.length&&e.slice(0,-1).every((a,c)=>a===n[c])?e[e.length-1]-n[n.length-1]:0}function vp(e,n,o=!1){let{routesMeta:a}=e,c={},d="/",p=[];for(let E=0;E<a.length;++E){let m=a[E],w=E===a.length-1,S=d==="/"?n:n.slice(d.length)||"/",R=xl({path:m.relativePath,caseSensitive:m.caseSensitive,end:w},S),M=m.route;if(!R&&w&&o&&!a[a.length-1].route.index&&(R=xl({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},S)),!R)return null;Object.assign(c,R.params),p.push({params:c,pathname:Jn([d,R.pathname]),pathnameBase:Dp(Jn([d,R.pathnameBase])),route:M}),R.pathnameBase!=="/"&&(d=Jn([d,R.pathnameBase]))}return p}function xl(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[o,a]=Np(e.path,e.caseSensitive,e.end),c=n.match(o);if(!c)return null;let d=c[0],p=d.replace(/(.)\/+$/,"$1"),E=c.slice(1);return{params:a.reduce((w,{paramName:S,isOptional:R},M)=>{if(S==="*"){let b=E[M]||"";p=d.slice(0,d.length-b.length).replace(/(.)\/+$/,"$1")}const F=E[M];return R&&!F?w[S]=void 0:w[S]=(F||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:p,pattern:e}}function Np(e,n=!1,o=!0){Br(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,E,m)=>(a.push({paramName:E,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),a]}function Mp(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Br(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function Rr(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,a=e.charAt(o);return a&&a!=="/"?null:e.slice(o)||"/"}function _p(e,n="/"){let{pathname:o,search:a="",hash:c=""}=typeof e=="string"?Vi(e):e;return{pathname:o?o.startsWith("/")?o:Op(o,n):n,search:Lp(a),hash:bp(c)}}function Op(e,n){let o=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function va(e,n,o,a){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rp(e){return e.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function Dd(e){let n=Rp(e);return n.map((o,a)=>a===n.length-1?o.pathname:o.pathnameBase)}function Ld(e,n,o,a=!1){let c;typeof e=="string"?c=Vi(e):(c={...e},Je(!c.pathname||!c.pathname.includes("?"),va("?","pathname","search",c)),Je(!c.pathname||!c.pathname.includes("#"),va("#","pathname","hash",c)),Je(!c.search||!c.search.includes("#"),va("#","search","hash",c)));let d=e===""||c.pathname==="",p=d?"/":c.pathname,E;if(p==null)E=o;else{let R=n.length-1;if(!a&&p.startsWith("..")){let M=p.split("/");for(;M[0]==="..";)M.shift(),R-=1;c.pathname=M.join("/")}E=R>=0?n[R]:"/"}let m=_p(c,E),w=p&&p!=="/"&&p.endsWith("/"),S=(d||p===".")&&o.endsWith("/");return!m.pathname.endsWith("/")&&(w||S)&&(m.pathname+="/"),m}var Jn=e=>e.join("/").replace(/\/\/+/g,"/"),Dp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var bd=["POST","PUT","PATCH","DELETE"];new Set(bd);var Bp=["GET",...bd];new Set(Bp);var Wi=W.createContext(null);Wi.displayName="DataRouter";var Ll=W.createContext(null);Ll.displayName="DataRouterState";var kd=W.createContext({isTransitioning:!1});kd.displayName="ViewTransition";var Pp=W.createContext(new Map);Pp.displayName="Fetchers";var Fp=W.createContext(null);Fp.displayName="Await";var Wn=W.createContext(null);Wn.displayName="Navigation";var qo=W.createContext(null);qo.displayName="Location";var ir=W.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var Ec=W.createContext(null);Ec.displayName="RouteError";function Up(e,{relative:n}={}){Je(Jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:a}=W.useContext(Wn),{hash:c,pathname:d,search:p}=$o(e,{relative:n}),E=d;return o!=="/"&&(E=d==="/"?o:Jn([o,d])),a.createHref({pathname:E,search:p,hash:c})}function Jo(){return W.useContext(qo)!=null}function ri(){return Je(Jo(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(qo).location}var Bd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pd(e){W.useContext(Wn).static||W.useLayoutEffect(e)}function zp(){let{isDataRoute:e}=W.useContext(ir);return e?$p():jp()}function jp(){Je(Jo(),"useNavigate() may be used only in the context of a <Router> component.");let e=W.useContext(Wi),{basename:n,navigator:o}=W.useContext(Wn),{matches:a}=W.useContext(ir),{pathname:c}=ri(),d=JSON.stringify(Dd(a)),p=W.useRef(!1);return Pd(()=>{p.current=!0}),W.useCallback((m,w={})=>{if(Br(p.current,Bd),!p.current)return;if(typeof m=="number"){o.go(m);return}let S=Ld(m,JSON.parse(d),c,w.relative==="path");e==null&&n!=="/"&&(S.pathname=S.pathname==="/"?n:Jn([n,S.pathname])),(w.replace?o.replace:o.push)(S,w.state,w)},[n,o,d,c,e])}W.createContext(null);function $o(e,{relative:n}={}){let{matches:o}=W.useContext(ir),{pathname:a}=ri(),c=JSON.stringify(Dd(o));return W.useMemo(()=>Ld(e,JSON.parse(c),a,n==="path"),[e,c,a,n])}function Hp(e,n){return Fd(e,n)}function Fd(e,n,o,a){var H;Je(Jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=W.useContext(Wn),{matches:d}=W.useContext(ir),p=d[d.length-1],E=p?p.params:{};p&&p.pathname;let m=p?p.pathnameBase:"/";p&&p.route;let w=ri(),S;if(n){let X=typeof n=="string"?Vi(n):n;Je(m==="/"||((H=X.pathname)==null?void 0:H.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${X.pathname}" was given in the \`location\` prop.`),S=X}else S=w;let R=S.pathname||"/",M=R;if(m!=="/"){let X=m.replace(/^\//,"").split("/");M="/"+R.replace(/^\//,"").split("/").slice(X.length).join("/")}let F=_d(e,{pathname:M}),b=Xp(F&&F.map(X=>Object.assign({},X,{params:Object.assign({},E,X.params),pathname:Jn([m,c.encodeLocation?c.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?m:Jn([m,c.encodeLocation?c.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),d,o,a);return n&&b?W.createElement(qo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},b):b}function Vp(){let e=Jp(),n=kp(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},n),o?W.createElement("pre",{style:c},o):null,null)}var Wp=W.createElement(Vp,null),Gp=class extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?W.createElement(ir.Provider,{value:this.props.routeContext},W.createElement(Ec.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yp({routeContext:e,match:n,children:o}){let a=W.useContext(Wi);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(ir.Provider,{value:e},o)}function Xp(e,n=[],o=null,a=null){if(e==null){if(!o)return null;if(o.errors)e=o.matches;else if(n.length===0&&!o.initialized&&o.matches.length>0)e=o.matches;else return null}let c=e,d=o==null?void 0:o.errors;if(d!=null){let m=c.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id])!==void 0);Je(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let p=!1,E=-1;if(o)for(let m=0;m<c.length;m++){let w=c[m];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(E=m),w.route.id){let{loaderData:S,errors:R}=o,M=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!R||R[w.route.id]===void 0);if(w.route.lazy||M){p=!0,E>=0?c=c.slice(0,E+1):c=[c[0]];break}}}return c.reduceRight((m,w,S)=>{let R,M=!1,F=null,b=null;o&&(R=d&&w.route.id?d[w.route.id]:void 0,F=w.route.errorElement||Wp,p&&(E<0&&S===0?(ex("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,b=null):E===S&&(M=!0,b=w.route.hydrateFallbackElement||null)));let H=n.concat(c.slice(0,S+1)),X=()=>{let N;return R?N=F:M?N=b:w.route.Component?N=W.createElement(w.route.Component,null):w.route.element?N=w.route.element:N=m,W.createElement(Yp,{match:w,routeContext:{outlet:m,matches:H,isDataRoute:o!=null},children:N})};return o&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?W.createElement(Gp,{location:o.location,revalidation:o.revalidation,component:F,error:R,children:X(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):X()},null)}function yc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qp(e){let n=W.useContext(Wi);return Je(n,yc(e)),n}function Zp(e){let n=W.useContext(Ll);return Je(n,yc(e)),n}function Kp(e){let n=W.useContext(ir);return Je(n,yc(e)),n}function Cc(e){let n=Kp(e),o=n.matches[n.matches.length-1];return Je(o.route.id,`${e} can only be used on routes that contain a unique "id"`),o.route.id}function qp(){return Cc("useRouteId")}function Jp(){var a;let e=W.useContext(Ec),n=Zp("useRouteError"),o=Cc("useRouteError");return e!==void 0?e:(a=n.errors)==null?void 0:a[o]}function $p(){let{router:e}=Qp("useNavigate"),n=Cc("useNavigate"),o=W.useRef(!1);return Pd(()=>{o.current=!0}),W.useCallback(async(c,d={})=>{Br(o.current,Bd),o.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:n,...d}))},[e,n])}var i0={};function ex(e,n,o){i0[e]||(i0[e]=!0,Br(!1,o))}W.memo(tx);function tx({routes:e,future:n,state:o}){return Fd(e,void 0,o,n)}function Vs(e){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nx({basename:e="/",children:n=null,location:o,navigationType:a="POP",navigator:c,static:d=!1}){Je(!Jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=e.replace(/^\/*/,"/"),E=W.useMemo(()=>({basename:p,navigator:c,static:d,future:{}}),[p,c,d]);typeof o=="string"&&(o=Vi(o));let{pathname:m="/",search:w="",hash:S="",state:R=null,key:M="default"}=o,F=W.useMemo(()=>{let b=Rr(m,p);return b==null?null:{location:{pathname:b,search:w,hash:S,state:R,key:M},navigationType:a}},[p,m,w,S,R,M,a]);return Br(F!=null,`<Router basename="${p}"> is not able to match the URL "${m}${w}${S}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:W.createElement(Wn.Provider,{value:E},W.createElement(qo.Provider,{children:n,value:F}))}function rx({children:e,location:n}){return Hp(Cu(e),n)}function Cu(e,n=[]){let o=[];return W.Children.forEach(e,(a,c)=>{if(!W.isValidElement(a))return;let d=[...n,c];if(a.type===W.Fragment){o.push.apply(o,Cu(a.props.children,d));return}Je(a.type===Vs,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!a.props.index||!a.props.children,"An index route cannot have child routes.");let p={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(p.children=Cu(a.props.children,d)),o.push(p)}),o}var Ws="get",Gs="application/x-www-form-urlencoded";function bl(e){return e!=null&&typeof e.tagName=="string"}function ix(e){return bl(e)&&e.tagName.toLowerCase()==="button"}function ox(e){return bl(e)&&e.tagName.toLowerCase()==="form"}function sx(e){return bl(e)&&e.tagName.toLowerCase()==="input"}function lx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ax(e,n){return e.button===0&&(!n||n==="_self")&&!lx(e)}var Os=null;function ux(){if(Os===null)try{new FormData(document.createElement("form"),0),Os=!1}catch{Os=!0}return Os}var cx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Na(e){return e!=null&&!cx.has(e)?(Br(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gs}"`),null):e}function fx(e,n){let o,a,c,d,p;if(ox(e)){let E=e.getAttribute("action");a=E?Rr(E,n):null,o=e.getAttribute("method")||Ws,c=Na(e.getAttribute("enctype"))||Gs,d=new FormData(e)}else if(ix(e)||sx(e)&&(e.type==="submit"||e.type==="image")){let E=e.form;if(E==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||E.getAttribute("action");if(a=m?Rr(m,n):null,o=e.getAttribute("formmethod")||E.getAttribute("method")||Ws,c=Na(e.getAttribute("formenctype"))||Na(E.getAttribute("enctype"))||Gs,d=new FormData(E,e),!ux()){let{name:w,type:S,value:R}=e;if(S==="image"){let M=w?`${w}.`:"";d.append(`${M}x`,"0"),d.append(`${M}y`,"0")}else w&&d.append(w,R)}}else{if(bl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Ws,a=null,c=Gs,p=e}return d&&c==="text/plain"&&(p=d,d=void 0),{action:a,method:o.toLowerCase(),encType:c,formData:d,body:p}}function Ac(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}async function dx(e,n){if(e.id in n)return n[e.id];try{let o=await import(e.module);return n[e.id]=o,o}catch(o){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hx(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function gx(e,n,o){let a=await Promise.all(e.map(async c=>{let d=n.routes[c.route.id];if(d){let p=await dx(d,o);return p.links?p.links():[]}return[]}));return wx(a.flat(1).filter(hx).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function o0(e,n,o,a,c,d){let p=(m,w)=>o[w]?m.route.id!==o[w].route.id:!0,E=(m,w)=>{var S;return o[w].pathname!==m.pathname||((S=o[w].route.path)==null?void 0:S.endsWith("*"))&&o[w].params["*"]!==m.params["*"]};return d==="assets"?n.filter((m,w)=>p(m,w)||E(m,w)):d==="data"?n.filter((m,w)=>{var R;let S=a.routes[m.route.id];if(!S||!S.hasLoader)return!1;if(p(m,w)||E(m,w))return!0;if(m.route.shouldRevalidate){let M=m.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((R=o[0])==null?void 0:R.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof M=="boolean")return M}return!0}):[]}function px(e,n){return xx(e.map(o=>{let a=n.routes[o.route.id];if(!a)return[];let c=[a.module];return a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function xx(e){return[...new Set(e)]}function mx(e){let n={},o=Object.keys(e).sort();for(let a of o)n[a]=e[a];return n}function wx(e,n){let o=new Set;return new Set(n),e.reduce((a,c)=>{let d=JSON.stringify(mx(c));return o.has(d)||(o.add(d),a.push({key:d,link:c})),a},[])}function Ex(e){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function yx(){let e=W.useContext(Wi);return Ac(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Cx(){let e=W.useContext(Ll);return Ac(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sc=W.createContext(void 0);Sc.displayName="FrameworkContext";function Ud(){let e=W.useContext(Sc);return Ac(e,"You must render this element inside a <HydratedRouter> element"),e}function Ax(e,n){let o=W.useContext(Sc),[a,c]=W.useState(!1),[d,p]=W.useState(!1),{onFocus:E,onBlur:m,onMouseEnter:w,onMouseLeave:S,onTouchStart:R}=n,M=W.useRef(null);W.useEffect(()=>{if(e==="render"&&p(!0),e==="viewport"){let H=N=>{N.forEach(v=>{p(v.isIntersecting)})},X=new IntersectionObserver(H,{threshold:.5});return M.current&&X.observe(M.current),()=>{X.disconnect()}}},[e]),W.useEffect(()=>{if(a){let H=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(H)}}},[a]);let F=()=>{c(!0)},b=()=>{c(!1),p(!1)};return o?e!=="intent"?[d,M,{}]:[d,M,{onFocus:ho(E,F),onBlur:ho(m,b),onMouseEnter:ho(w,F),onMouseLeave:ho(S,b),onTouchStart:ho(R,F)}]:[!1,M,{}]}function ho(e,n){return o=>{e&&e(o),o.defaultPrevented||n(o)}}function Sx({page:e,...n}){let{router:o}=yx(),a=W.useMemo(()=>_d(o.routes,e,o.basename),[o.routes,e,o.basename]);return a?W.createElement(Tx,{page:e,matches:a,...n}):(console.warn(`Tried to prefetch ${e} but no routes matched.`),null)}function Ix(e){let{manifest:n,routeModules:o}=Ud(),[a,c]=W.useState([]);return W.useEffect(()=>{let d=!1;return gx(e,n,o).then(p=>{d||c(p)}),()=>{d=!0}},[e,n,o]),a}function Tx({page:e,matches:n,...o}){let a=ri(),{manifest:c,routeModules:d}=Ud(),{loaderData:p,matches:E}=Cx(),m=W.useMemo(()=>o0(e,n,E,c,a,"data"),[e,n,E,c,a]),w=W.useMemo(()=>o0(e,n,E,c,a,"assets"),[e,n,E,c,a]),S=W.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let F=new Set,b=!1;if(n.forEach(X=>{var v;let N=c.routes[X.route.id];!N||!N.hasLoader||(!m.some(_=>_.route.id===X.route.id)&&X.route.id in p&&((v=d[X.route.id])!=null&&v.shouldRevalidate)||N.hasClientLoader?b=!0:F.add(X.route.id))}),F.size===0)return[];let H=Ex(e);return b&&F.size>0&&H.searchParams.set("_routes",n.filter(X=>F.has(X.route.id)).map(X=>X.route.id).join(",")),[H.pathname+H.search]},[p,a,c,m,n,e,d]),R=W.useMemo(()=>px(w,c),[w,c]),M=Ix(w);return W.createElement(W.Fragment,null,S.map(F=>W.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...o})),R.map(F=>W.createElement("link",{key:F,rel:"modulepreload",href:F,...o})),M.map(({key:F,link:b})=>W.createElement("link",{key:F,...b})))}function vx(...e){return n=>{e.forEach(o=>{typeof o=="function"?o(n):o!=null&&(o.current=n)})}}var zd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zd&&(window.__reactRouterVersion="7.0.1")}catch{}function Nx({basename:e,children:n,window:o}){let a=W.useRef();a.current==null&&(a.current=hp({window:o,v5Compat:!0}));let c=a.current,[d,p]=W.useState({action:c.action,location:c.location}),E=W.useCallback(m=>{W.startTransition(()=>p(m))},[p]);return W.useLayoutEffect(()=>c.listen(E),[c,E]),W.createElement(nx,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:c})}var jd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hd=W.forwardRef(function({onClick:n,discover:o="render",prefetch:a="none",relative:c,reloadDocument:d,replace:p,state:E,target:m,to:w,preventScrollReset:S,viewTransition:R,...M},F){let{basename:b}=W.useContext(Wn),H=typeof w=="string"&&jd.test(w),X,N=!1;if(typeof w=="string"&&H&&(X=w,zd))try{let he=new URL(window.location.href),se=w.startsWith("//")?new URL(he.protocol+w):new URL(w),te=Rr(se.pathname,b);se.origin===he.origin&&te!=null?w=te+se.search+se.hash:N=!0}catch{Br(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=Up(w,{relative:c}),[_,V,Y]=Ax(a,M),B=Rx(w,{replace:p,state:E,target:m,preventScrollReset:S,relative:c,viewTransition:R});function Z(he){n&&n(he),he.defaultPrevented||B(he)}let P=W.createElement("a",{...M,...Y,href:X||v,onClick:N||d?n:Z,ref:vx(F,V),target:m,"data-discover":!H&&o==="render"?"true":void 0});return _&&!H?W.createElement(W.Fragment,null,P,W.createElement(Sx,{page:v})):P});Hd.displayName="Link";var Mx=W.forwardRef(function({"aria-current":n="page",caseSensitive:o=!1,className:a="",end:c=!1,style:d,to:p,viewTransition:E,children:m,...w},S){let R=$o(p,{relative:w.relative}),M=ri(),F=W.useContext(Ll),{navigator:b,basename:H}=W.useContext(Wn),X=F!=null&&Bx(R)&&E===!0,N=b.encodeLocation?b.encodeLocation(R).pathname:R.pathname,v=M.pathname,_=F&&F.navigation&&F.navigation.location?F.navigation.location.pathname:null;o||(v=v.toLowerCase(),_=_?_.toLowerCase():null,N=N.toLowerCase()),_&&H&&(_=Rr(_,H)||_);const V=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let Y=v===N||!c&&v.startsWith(N)&&v.charAt(V)==="/",B=_!=null&&(_===N||!c&&_.startsWith(N)&&_.charAt(N.length)==="/"),Z={isActive:Y,isPending:B,isTransitioning:X},P=Y?n:void 0,he;typeof a=="function"?he=a(Z):he=[a,Y?"active":null,B?"pending":null,X?"transitioning":null].filter(Boolean).join(" ");let se=typeof d=="function"?d(Z):d;return W.createElement(Hd,{...w,"aria-current":P,className:he,ref:S,style:se,to:p,viewTransition:E},typeof m=="function"?m(Z):m)});Mx.displayName="NavLink";var _x=W.forwardRef(({discover:e="render",fetcherKey:n,navigate:o,reloadDocument:a,replace:c,state:d,method:p=Ws,action:E,onSubmit:m,relative:w,preventScrollReset:S,viewTransition:R,...M},F)=>{let b=bx(),H=kx(E,{relative:w}),X=p.toLowerCase()==="get"?"get":"post",N=typeof E=="string"&&jd.test(E),v=_=>{if(m&&m(_),_.defaultPrevented)return;_.preventDefault();let V=_.nativeEvent.submitter,Y=(V==null?void 0:V.getAttribute("formmethod"))||p;b(V||_.currentTarget,{fetcherKey:n,method:Y,navigate:o,replace:c,state:d,relative:w,preventScrollReset:S,viewTransition:R})};return W.createElement("form",{ref:F,method:X,action:H,onSubmit:a?m:v,...M,"data-discover":!N&&e==="render"?"true":void 0})});_x.displayName="Form";function Ox(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vd(e){let n=W.useContext(Wi);return Je(n,Ox(e)),n}function Rx(e,{target:n,replace:o,state:a,preventScrollReset:c,relative:d,viewTransition:p}={}){let E=zp(),m=ri(),w=$o(e,{relative:d});return W.useCallback(S=>{if(ax(S,n)){S.preventDefault();let R=o!==void 0?o:Go(m)===Go(w);E(e,{replace:R,state:a,preventScrollReset:c,relative:d,viewTransition:p})}},[m,E,w,o,a,n,e,c,d,p])}var Dx=0,Lx=()=>`__${String(++Dx)}__`;function bx(){let{router:e}=Vd("useSubmit"),{basename:n}=W.useContext(Wn),o=qp();return W.useCallback(async(a,c={})=>{let{action:d,method:p,encType:E,formData:m,body:w}=fx(a,n);if(c.navigate===!1){let S=c.fetcherKey||Lx();await e.fetch(S,o,c.action||d,{preventScrollReset:c.preventScrollReset,formData:m,body:w,formMethod:c.method||p,formEncType:c.encType||E,flushSync:c.flushSync})}else await e.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:m,body:w,formMethod:c.method||p,formEncType:c.encType||E,replace:c.replace,state:c.state,fromRouteId:o,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,n,o])}function kx(e,{relative:n}={}){let{basename:o}=W.useContext(Wn),a=W.useContext(ir);Je(a,"useFormAction must be used inside a RouteContext");let[c]=a.matches.slice(-1),d={...$o(e||".",{relative:n})},p=ri();if(e==null){d.search=p.search;let E=new URLSearchParams(d.search),m=E.getAll("index");if(m.some(S=>S==="")){E.delete("index"),m.filter(R=>R).forEach(R=>E.append("index",R));let S=E.toString();d.search=S?`?${S}`:""}}return(!e||e===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(d.pathname=d.pathname==="/"?o:Jn([o,d.pathname])),Go(d)}function Bx(e,n={}){let o=W.useContext(kd);Je(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Vd("useViewTransitionState"),c=$o(e,{relative:n.relative});if(!o.isTransitioning)return!1;let d=Rr(o.currentLocation.pathname,a)||o.currentLocation.pathname,p=Rr(o.nextLocation.pathname,a)||o.nextLocation.pathname;return xl(c.pathname,p)!=null||xl(c.pathname,d)!=null}new TextEncoder;const Px="/%20NutriPal/assets/HappyCat-CdmUDuuZ.png",Fx=()=>{const e=["You're doing great on your goals!","Wow, keep up the good progress!","MEOW your progress is the cats meow :3","PURR, good job on reaching you're goals brother","You're eating a bit much, slow it down MEOW","How about you go for a walk buddy, you're behind on your goals","These goals aren't going to reach themselves, check your progress","Today is leg day at the gym !","Try eating less today","Try eating a bit more today than yesterday!","Maybe look into ozemphic "],n=Math.floor(Math.random()*e.length);return ye.jsxs("div",{className:"pal-container",children:[ye.jsx("div",{className:"speech-bubble",children:e[n]}),ye.jsx("img",{src:Px,className:"pal-image"})]})},Ux=()=>ye.jsxs("div",{className:"Container",children:[ye.jsx("h1",{children:"NutriPal"}),ye.jsx("p",{children:"NutriPal is an all-in-one diet and allergy webapp. Start scanning now!"}),ye.jsx("button",{children:"Scan UPC!"}),ye.jsx(Fx,{}),ye.jsx("div",{className:"Padding"})]});var re;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(re||(re={}));var s0=new Map([[re.QR_CODE,"QR_CODE"],[re.AZTEC,"AZTEC"],[re.CODABAR,"CODABAR"],[re.CODE_39,"CODE_39"],[re.CODE_93,"CODE_93"],[re.CODE_128,"CODE_128"],[re.DATA_MATRIX,"DATA_MATRIX"],[re.MAXICODE,"MAXICODE"],[re.ITF,"ITF"],[re.EAN_13,"EAN_13"],[re.EAN_8,"EAN_8"],[re.PDF_417,"PDF_417"],[re.RSS_14,"RSS_14"],[re.RSS_EXPANDED,"RSS_EXPANDED"],[re.UPC_A,"UPC_A"],[re.UPC_E,"UPC_E"],[re.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),l0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(l0||(l0={}));function zx(e){return Object.values(re).includes(e)}var Dr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Dr||(Dr={}));var vn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Dr.SCAN_TYPE_CAMERA,Dr.SCAN_TYPE_FILE],e}(),Wd=function(){function e(n,o){this.format=n,this.formatName=o}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!s0.has(n))throw n+" not in html5QrcodeSupportedFormatsTextMap";return new e(n,s0.get(n))},e}(),a0=function(){function e(){}return e.createFromText=function(n){var o={text:n};return{decodedText:n,result:o}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),Au;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Au||(Au={}));var Gd=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:Au.UNKWOWN_ERROR}},e}(),Yd=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,o){(this.verbose||o===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function zn(e){return typeof e>"u"||e===null}var go=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = "+n},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = "+n},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e}(),ct=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: "+n},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e}(),u0=function(){function e(){}return e.builtUsing=function(){return"Built using "},e.reportIssues=function(){return"Report issues"},e}(),Xd=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,o){if(typeof n!="object"){var a=typeof n;return o.logError("videoConstraints should be of type object, the "+("object passed is of type "+a+"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(c),p=Object.keys(n),E=0,m=p;E<m.length;E++){var w=m[E];if(d.has(w))return o.logError(w+" is not supported videoConstaints.",!0),!1}return!0},e}(),Su={exports:{}};(function(e,n){(function(o,a){a(n)})(ro,function(o){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation. All rights reserved.
	    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	    this file except in compliance with the License. You may obtain a copy of the
	    License at http://www.apache.org/licenses/LICENSE-2.0

	    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	    MERCHANTABLITY OR NON-INFRINGEMENT.

	    See the Apache Version 2.0 License for specific language governing permissions
	    and limitations under the License.
	    ***************************************************************************** */var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,t){y.__proto__=t}||function(y,t){for(var r in t)t.hasOwnProperty(r)&&(y[r]=t[r])};function c(y,t){a(y,t);function r(){this.constructor=y}y.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function d(y,t){var r=Object.setPrototypeOf;r?r(y,t):y.__proto__=t}function p(y,t){t===void 0&&(t=y.constructor);var r=Error.captureStackTrace;r&&r(y,t)}var E=function(y){c(t,y);function t(r){var i=this.constructor,s=y.call(this,r)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1}),d(s,i.prototype),p(s),s}return t}(Error);class m extends E{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}m.kind="Exception";class w extends m{}w.kind="ArgumentException";class S extends m{}S.kind="IllegalArgumentException";class R{constructor(t){if(this.binarizer=t,t===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,i,s){const l=this.binarizer.getLuminanceSource().crop(t,r,i,s);return new R(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class M extends m{static getChecksumInstance(){return new M}}M.kind="ChecksumException";class F{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class b{static arraycopy(t,r,i,s,l){for(;l--;)i[s++]=t[r++]}static currentTimeMillis(){return Date.now()}}class H extends m{}H.kind="IndexOutOfBoundsException";class X extends H{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}X.kind="ArrayIndexOutOfBoundsException";class N{static fill(t,r){for(let i=0,s=t.length;i<s;i++)t[i]=r}static fillWithin(t,r,i,s){N.rangeCheck(t.length,r,i);for(let l=r;l<i;l++)t[l]=s}static rangeCheck(t,r,i){if(r>i)throw new S("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new X(r);if(i>t)throw new X(i)}static asList(...t){return t}static create(t,r,i){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(i))}static createInt32Array(t,r,i){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(i))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let i=0,s=t.length;i<s;i++)if(t[i]!==r[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const i of t)r=31*r+i;return r}static fillUint8Array(t,r){for(let i=0;i!==t.length;i++)t[i]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const i=new Uint8Array(r);return i.set(t),i}return t.slice(0,r)}static copyOfRange(t,r,i){const s=i-r,l=new Int32Array(s);return b.arraycopy(t,r,l,0,s),l}static binarySearch(t,r,i){i===void 0&&(i=N.numberComparator);let s=0,l=t.length-1;for(;s<=l;){const u=l+s>>1,f=i(r,t[u]);if(f>0)s=u+1;else if(f<0)l=u-1;else return u}return-s-1}static numberComparator(t,r){return t-r}}class v{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let i=31;return r=t<<16,r!==0&&(i-=16,t=r),r=t<<8,r!==0&&(i-=8,t=r),r=t<<4,r!==0&&(i-=4,t=r),r=t<<2,r!==0&&(i-=2,t=r),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}v.MIN_VALUE_32_BITS=-2147483648,v.MAX_VALUE=Number.MAX_SAFE_INTEGER;class _{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=_.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=_.makeArray(t);b.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const i=this.bits;let s=Math.floor(t/32),l=i[s];l&=~((1<<(t&31))-1);const u=i.length;for(;l===0;){if(++s===u)return r;l=i[s]}const f=s*32+v.numberOfTrailingZeros(l);return f>r?r:f}getNextUnset(t){const r=this.size;if(t>=r)return r;const i=this.bits;let s=Math.floor(t/32),l=~i[s];l&=~((1<<(t&31))-1);const u=i.length;for(;l===0;){if(++s===u)return r;l=~i[s]}const f=s*32+v.numberOfTrailingZeros(l);return f>r?r:f}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new S;if(r===t)return;r--;const i=Math.floor(t/32),s=Math.floor(r/32),l=this.bits;for(let u=i;u<=s;u++){const f=u>i?0:t&31,g=(2<<(u<s?31:r&31))-(1<<f);l[u]|=g}}clear(){const t=this.bits.length,r=this.bits;for(let i=0;i<t;i++)r[i]=0}isRange(t,r,i){if(r<t||t<0||r>this.size)throw new S;if(r===t)return!0;r--;const s=Math.floor(t/32),l=Math.floor(r/32),u=this.bits;for(let f=s;f<=l;f++){const h=f>s?0:t&31,x=(2<<(f<l?31:r&31))-(1<<h)&4294967295;if((u[f]&x)!==(i?x:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new S("Sizes don't match");const r=this.bits;for(let i=0,s=r.length;i<s;i++)r[i]^=t.bits[i]}toBytes(t,r,i,s){for(let l=0;l<s;l++){let u=0;for(let f=0;f<8;f++)this.get(t)&&(u|=1<<7-f),t++;r[i+l]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,s=this.bits;for(let l=0;l<i;l++){let u=s[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-l]=u}if(this.size!==i*32){const l=i*32-this.size;let u=t[0]>>>l;for(let f=1;f<i;f++){const h=t[f];u|=h<<32-l,t[f-1]=u,u=h>>>l}t[i-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof _))return!1;const r=t;return this.size===r.size&&N.equals(this.bits,r.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let t="";for(let r=0,i=this.size;r<i;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new _(this.size,this.bits.slice())}}var V;(function(y){y[y.OTHER=0]="OTHER",y[y.PURE_BARCODE=1]="PURE_BARCODE",y[y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",y[y.TRY_HARDER=3]="TRY_HARDER",y[y.CHARACTER_SET=4]="CHARACTER_SET",y[y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",y[y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",y[y.ASSUME_GS1=7]="ASSUME_GS1",y[y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",y[y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",y[y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(V||(V={}));var Y=V;class B extends m{static getFormatInstance(){return new B}}B.kind="FormatException";var Z;(function(y){y[y.Cp437=0]="Cp437",y[y.ISO8859_1=1]="ISO8859_1",y[y.ISO8859_2=2]="ISO8859_2",y[y.ISO8859_3=3]="ISO8859_3",y[y.ISO8859_4=4]="ISO8859_4",y[y.ISO8859_5=5]="ISO8859_5",y[y.ISO8859_6=6]="ISO8859_6",y[y.ISO8859_7=7]="ISO8859_7",y[y.ISO8859_8=8]="ISO8859_8",y[y.ISO8859_9=9]="ISO8859_9",y[y.ISO8859_10=10]="ISO8859_10",y[y.ISO8859_11=11]="ISO8859_11",y[y.ISO8859_13=12]="ISO8859_13",y[y.ISO8859_14=13]="ISO8859_14",y[y.ISO8859_15=14]="ISO8859_15",y[y.ISO8859_16=15]="ISO8859_16",y[y.SJIS=16]="SJIS",y[y.Cp1250=17]="Cp1250",y[y.Cp1251=18]="Cp1251",y[y.Cp1252=19]="Cp1252",y[y.Cp1256=20]="Cp1256",y[y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",y[y.UTF8=22]="UTF8",y[y.ASCII=23]="ASCII",y[y.Big5=24]="Big5",y[y.GB18030=25]="GB18030",y[y.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class P{constructor(t,r,i,...s){this.valueIdentifier=t,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,P.VALUE_IDENTIFIER_TO_ECI.set(t,this),P.NAME_TO_ECI.set(i,this);const l=this.values;for(let u=0,f=l.length;u!==f;u++){const h=l[u];P.VALUES_TO_ECI.set(h,this)}for(const u of s)P.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new B("incorect value");const r=P.VALUES_TO_ECI.get(t);if(r===void 0)throw new B("incorect value");return r}static getCharacterSetECIByName(t){const r=P.NAME_TO_ECI.get(t);if(r===void 0)throw new B("incorect value");return r}equals(t){if(!(t instanceof P))return!1;const r=t;return this.getName()===r.getName()}}P.VALUE_IDENTIFIER_TO_ECI=new Map,P.VALUES_TO_ECI=new Map,P.NAME_TO_ECI=new Map,P.Cp437=new P(Z.Cp437,Int32Array.from([0,2]),"Cp437"),P.ISO8859_1=new P(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),P.ISO8859_2=new P(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),P.ISO8859_3=new P(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),P.ISO8859_4=new P(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),P.ISO8859_5=new P(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),P.ISO8859_6=new P(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),P.ISO8859_7=new P(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),P.ISO8859_8=new P(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),P.ISO8859_9=new P(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),P.ISO8859_10=new P(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),P.ISO8859_11=new P(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),P.ISO8859_13=new P(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),P.ISO8859_14=new P(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),P.ISO8859_15=new P(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),P.ISO8859_16=new P(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),P.SJIS=new P(Z.SJIS,20,"SJIS","Shift_JIS"),P.Cp1250=new P(Z.Cp1250,21,"Cp1250","windows-1250"),P.Cp1251=new P(Z.Cp1251,22,"Cp1251","windows-1251"),P.Cp1252=new P(Z.Cp1252,23,"Cp1252","windows-1252"),P.Cp1256=new P(Z.Cp1256,24,"Cp1256","windows-1256"),P.UnicodeBigUnmarked=new P(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),P.UTF8=new P(Z.UTF8,26,"UTF8","UTF-8"),P.ASCII=new P(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),P.Big5=new P(Z.Big5,28,"Big5"),P.GB18030=new P(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),P.EUC_KR=new P(Z.EUC_KR,30,"EUC_KR","EUC-KR");class he extends m{}he.kind="UnsupportedOperationException";class se{static decode(t,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!se.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof P?t:P.getCharacterSetECIByName(t)}static decodeFallback(t,r){const i=this.encodingCharacterSet(r);if(se.isDecodeFallbackSupported(i)){let s="";for(let l=0,u=t.length;l<u;l++){let f=t[l].toString(16);f.length<2&&(f="0"+f),s+="%"+f}return decodeURIComponent(s)}if(i.equals(P.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new he(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(P.UTF8)||t.equals(P.ISO8859_1)||t.equals(P.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let l=0;l<i.length;l++)s.push(i[l].charCodeAt(0));return new Uint8Array(s)}}class te{static castAsNonUtf8Char(t,r=null){const i=r?r.getName():this.ISO88591;return se.decode(new Uint8Array([t]),i)}static guessEncoding(t,r){if(r!=null&&r.get(Y.CHARACTER_SET)!==void 0)return r.get(Y.CHARACTER_SET).toString();const i=t.length;let s=!0,l=!0,u=!0,f=0,h=0,g=0,x=0,C=0,A=0,T=0,O=0,D=0,L=0,z=0;const q=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let J=0;J<i&&(s||l||u);J++){const Q=t[J]&255;u&&(f>0?Q&128?f--:u=!1:Q&128&&(Q&64?(f++,Q&32?(f++,Q&16?(f++,Q&8?u=!1:x++):g++):h++):u=!1)),s&&(Q>127&&Q<160?s=!1:Q>159&&(Q<192||Q===215||Q===247)&&z++),l&&(C>0?Q<64||Q===127||Q>252?l=!1:C--:Q===128||Q===160||Q>239?l=!1:Q>160&&Q<224?(A++,O=0,T++,T>D&&(D=T)):Q>127?(C++,T=0,O++,O>L&&(L=O)):(T=0,O=0))}return u&&f>0&&(u=!1),l&&C>0&&(l=!1),u&&(q||h+g+x>0)?te.UTF8:l&&(te.ASSUME_SHIFT_JIS||D>=3||L>=3)?te.SHIFT_JIS:s&&l?D===2&&A===2||z*10>=i?te.SHIFT_JIS:te.ISO88591:s?te.ISO88591:l?te.SHIFT_JIS:u?te.UTF8:te.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let i=-1;function s(u,f,h,g,x,C){if(u==="%%")return"%";if(r[++i]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let A=x?parseInt(x.substr(1)):void 0,T;switch(C){case"s":T=r[i];break;case"c":T=r[i][0];break;case"f":T=parseFloat(r[i]).toFixed(u);break;case"p":T=parseFloat(r[i]).toPrecision(u);break;case"e":T=parseFloat(r[i]).toExponential(u);break;case"x":T=parseInt(r[i]).toString(A||16);break;case"d":T=parseFloat(parseInt(r[i],A||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(A);let O=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";for(;T.length<O;)T=f!==void 0?T+D:D+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,s)}static getBytes(t,r){return se.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}te.SHIFT_JIS=P.SJIS.getName(),te.GB2312="GB2312",te.ISO88591=P.ISO8859_1.getName(),te.EUC_JP="EUC_JP",te.UTF8=P.UTF8.getName(),te.PLATFORM_DEFAULT_ENCODING=te.UTF8,te.ASSUME_SHIFT_JIS=!1;class xe{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=te.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,i){for(let s=r;r<r+i;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class be{constructor(t,r,i,s){if(this.width=t,this.height=r,this.rowSize=i,this.bits=s,r==null&&(r=t),this.height=r,t<1||r<1)throw new S("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,i=t[0].length,s=new be(i,r);for(let l=0;l<r;l++){const u=t[l];for(let f=0;f<i;f++)u[f]&&s.set(f,l)}return s}static parseFromString(t,r,i){if(t===null)throw new S("stringRepresentation cannot be null");const s=new Array(t.length);let l=0,u=0,f=-1,h=0,g=0;for(;g<t.length;)if(t.charAt(g)===`
`||t.charAt(g)==="\r"){if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new S("row lengths do not match");u=l,h++}g++}else if(t.substring(g,g+r.length)===r)g+=r.length,s[l]=!0,l++;else if(t.substring(g,g+i.length)===i)g+=i.length,s[l]=!1,l++;else throw new S("illegal character encountered: "+t.substring(g));if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new S("row lengths do not match");h++}const x=new be(f,h);for(let C=0;C<l;C++)s[C]&&x.set(Math.floor(C%f),Math.floor(C/f));return x}get(t,r){const i=r*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new S("input matrix dimensions do not match");const r=new _(Math.floor(this.width/32)+1),i=this.rowSize,s=this.bits;for(let l=0,u=this.height;l<u;l++){const f=l*i,h=t.getRow(l,r).getBitArray();for(let g=0;g<i;g++)s[f+g]^=h[g]}}clear(){const t=this.bits,r=t.length;for(let i=0;i<r;i++)t[i]=0}setRegion(t,r,i,s){if(r<0||t<0)throw new S("Left and top must be nonnegative");if(s<1||i<1)throw new S("Height and width must be at least 1");const l=t+i,u=r+s;if(u>this.height||l>this.width)throw new S("The region must fit inside the matrix");const f=this.rowSize,h=this.bits;for(let g=r;g<u;g++){const x=g*f;for(let C=t;C<l;C++)h[x+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new _(this.width):r.clear();const i=this.rowSize,s=this.bits,l=t*i;for(let u=0;u<i;u++)r.setBulk(u*32,s[l+u]);return r}setRow(t,r){b.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let i=new _(t),s=new _(t);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)i=this.getRow(l,i),s=this.getRow(r-1-l,s),i.reverse(),s.reverse(),this.setRow(l,s),this.setRow(r-1-l,i)}getEnclosingRectangle(){const t=this.width,r=this.height,i=this.rowSize,s=this.bits;let l=t,u=r,f=-1,h=-1;for(let g=0;g<r;g++)for(let x=0;x<i;x++){const C=s[g*i+x];if(C!==0){if(g<u&&(u=g),g>h&&(h=g),x*32<l){let A=0;for(;!(C<<31-A&4294967295);)A++;x*32+A<l&&(l=x*32+A)}if(x*32+31>f){let A=31;for(;!(C>>>A);)A--;x*32+A>f&&(f=x*32+A)}}}return f<l||h<u?null:Int32Array.from([l,u,f-l+1,h-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const s=i/t;let l=i%t*32;const u=r[i];let f=0;for(;!(u<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,s])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const s=Math.floor(i/t);let l=Math.floor(i%t)*32;const u=r[i];let f=31;for(;!(u>>>f);)f--;return l+=f,Int32Array.from([l,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof be))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&N.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+N.hashCode(this.bits),t}toString(t="X ",r="  ",i=`
`){return this.buildToString(t,r,i)}buildToString(t,r,i){let s=new xe;for(let l=0,u=this.height;l<u;l++){for(let f=0,h=this.width;f<h;f++)s.append(this.get(f,l)?t:r);s.append(i)}return s.toString()}clone(){return new be(this.width,this.height,this.rowSize,this.bits.slice())}}class j extends m{static getNotFoundInstance(){return new j}}j.kind="NotFoundException";class lt extends F{constructor(t){super(t),this.luminances=lt.EMPTY,this.buckets=new Int32Array(lt.LUMINANCE_BUCKETS)}getBlackRow(t,r){const i=this.getLuminanceSource(),s=i.getWidth();r==null||r.getSize()<s?r=new _(s):r.clear(),this.initArrays(s);const l=i.getRow(t,this.luminances),u=this.buckets;for(let h=0;h<s;h++)u[(l[h]&255)>>lt.LUMINANCE_SHIFT]++;const f=lt.estimateBlackPoint(u);if(s<3)for(let h=0;h<s;h++)(l[h]&255)<f&&r.set(h);else{let h=l[0]&255,g=l[1]&255;for(let x=1;x<s-1;x++){const C=l[x+1]&255;(g*4-h-C)/2<f&&r.set(x),h=g,g=C}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),s=new be(r,i);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const g=Math.floor(i*h/5),x=t.getRow(g,this.luminances),C=Math.floor(r*4/5);for(let A=Math.floor(r/5);A<C;A++){const T=x[A]&255;l[T>>lt.LUMINANCE_SHIFT]++}}const u=lt.estimateBlackPoint(l),f=t.getMatrix();for(let h=0;h<i;h++){const g=h*r;for(let x=0;x<r;x++)(f[g+x]&255)<u&&s.set(x,h)}return s}createBinarizer(t){return new lt(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let i=0;i<lt.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(t){const r=t.length;let i=0,s=0,l=0;for(let x=0;x<r;x++)t[x]>l&&(s=x,l=t[x]),t[x]>i&&(i=t[x]);let u=0,f=0;for(let x=0;x<r;x++){const C=x-s,A=t[x]*C*C;A>f&&(u=x,f=A)}if(s>u){const x=s;s=u,u=x}if(u-s<=r/16)throw new j;let h=u-1,g=-1;for(let x=u-1;x>s;x--){const C=x-s,A=C*C*(u-x)*(i-t[x]);A>g&&(h=x,g=A)}return h<<lt.LUMINANCE_SHIFT}}lt.LUMINANCE_BITS=5,lt.LUMINANCE_SHIFT=8-lt.LUMINANCE_BITS,lt.LUMINANCE_BUCKETS=1<<lt.LUMINANCE_BITS,lt.EMPTY=Uint8ClampedArray.from([0]);class ge extends lt{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=ge.MINIMUM_DIMENSION&&i>=ge.MINIMUM_DIMENSION){const s=t.getMatrix();let l=r>>ge.BLOCK_SIZE_POWER;r&ge.BLOCK_SIZE_MASK&&l++;let u=i>>ge.BLOCK_SIZE_POWER;i&ge.BLOCK_SIZE_MASK&&u++;const f=ge.calculateBlackPoints(s,l,u,r,i),h=new be(r,i);ge.calculateThresholdForBlock(s,l,u,r,i,f,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ge(t)}static calculateThresholdForBlock(t,r,i,s,l,u,f){const h=l-ge.BLOCK_SIZE,g=s-ge.BLOCK_SIZE;for(let x=0;x<i;x++){let C=x<<ge.BLOCK_SIZE_POWER;C>h&&(C=h);const A=ge.cap(x,2,i-3);for(let T=0;T<r;T++){let O=T<<ge.BLOCK_SIZE_POWER;O>g&&(O=g);const D=ge.cap(T,2,r-3);let L=0;for(let q=-2;q<=2;q++){const J=u[A+q];L+=J[D-2]+J[D-1]+J[D]+J[D+1]+J[D+2]}const z=L/25;ge.thresholdBlock(t,O,C,z,s,f)}}}static cap(t,r,i){return t<r?r:t>i?i:t}static thresholdBlock(t,r,i,s,l,u){for(let f=0,h=i*l+r;f<ge.BLOCK_SIZE;f++,h+=l)for(let g=0;g<ge.BLOCK_SIZE;g++)(t[h+g]&255)<=s&&u.set(r+g,i+f)}static calculateBlackPoints(t,r,i,s,l){const u=l-ge.BLOCK_SIZE,f=s-ge.BLOCK_SIZE,h=new Array(i);for(let g=0;g<i;g++){h[g]=new Int32Array(r);let x=g<<ge.BLOCK_SIZE_POWER;x>u&&(x=u);for(let C=0;C<r;C++){let A=C<<ge.BLOCK_SIZE_POWER;A>f&&(A=f);let T=0,O=255,D=0;for(let z=0,q=x*s+A;z<ge.BLOCK_SIZE;z++,q+=s){for(let J=0;J<ge.BLOCK_SIZE;J++){const Q=t[q+J]&255;T+=Q,Q<O&&(O=Q),Q>D&&(D=Q)}if(D-O>ge.MIN_DYNAMIC_RANGE)for(z++,q+=s;z<ge.BLOCK_SIZE;z++,q+=s)for(let J=0;J<ge.BLOCK_SIZE;J++)T+=t[q+J]&255}let L=T>>ge.BLOCK_SIZE_POWER*2;if(D-O<=ge.MIN_DYNAMIC_RANGE&&(L=O/2,g>0&&C>0)){const z=(h[g-1][C]+2*h[g][C-1]+h[g-1][C-1])/4;O<z&&(L=z)}h[g][C]=L}}return h}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class Gn{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,i,s){throw new he("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new he("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new he("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new xe;for(let i=0;i<this.height;i++){const s=this.getRow(i,t);for(let l=0;l<this.width;l++){const u=s[l]&255;let f;u<64?f="#":u<128?f="+":u<192?f=".":f=" ",r.append(f)}r.append(`
`)}return r.toString()}}class ee extends Gn{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const i=this.delegate.getRow(t,r),s=this.getWidth();for(let l=0;l<s;l++)i[l]=255-(i[l]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let s=0;s<r;s++)i[s]=255-(t[s]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,i,s){return new ee(this.delegate.crop(t,r,i,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ee(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ee(this.delegate.rotateCounterClockwise45())}}class fe extends Gn{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=fe.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return fe.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,i){const s=new Uint8ClampedArray(r*i);for(let l=0,u=0,f=t.length;l<f;l+=4,u++){let h;if(t[l+3]===0)h=255;else{const x=t[l],C=t[l+1],A=t[l+2];h=306*x+601*C+117*A+512>>10}s[u]=h}return s}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const i=this.getWidth(),s=t*i;return r===null?r=this.buffer.slice(s,s+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(s,s+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,i,s){return super.crop(t,r,i,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),i=r.getContext("2d"),s=t*fe.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(s))*l+Math.abs(Math.sin(s))*u),h=Math.ceil(Math.abs(Math.sin(s))*l+Math.abs(Math.cos(s))*u);return r.width=f,r.height=h,i.translate(f/2,h/2),i.rotate(s),i.drawImage(this.canvas,l/-2,u/-2),this.buffer=fe.makeBufferFromCanvasImageData(r),this}invert(){return new ee(this)}}fe.DEGREE_TO_RADIANS=Math.PI/180;class me{constructor(t,r,i){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ce=(globalThis||ro||self||window||void 0)&&(globalThis||ro||self||window||void 0).__awaiter||function(y,t,r,i){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function f(x){try{g(i.next(x))}catch(C){u(C)}}function h(x){try{g(i.throw(x))}catch(C){u(C)}}function g(x){x.done?l(x.value):s(x.value).then(f,h)}g((i=i.apply(y,t||[])).next())})};class Fe{constructor(t,r=500,i){this.reader=t,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Ce(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of t){const s=i.kind==="video"?"videoinput":i.kind;if(s!=="videoinput")continue;const l=i.deviceId||i.id,u=i.label||`Video device ${r.length+1}`,f=i.groupId,h={deviceId:l,label:u,kind:s,groupId:f};r.push(h)}return r})}getVideoInputDevices(){return Ce(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new me(r.deviceId,r.label))})}findDeviceById(t){return Ce(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return Ce(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return Ce(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const s={video:i};return yield this.decodeOnceFromConstraints(s,r)})}decodeOnceFromConstraints(t,r){return Ce(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(t,r){return Ce(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,r,i){return Ce(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,i)})}decodeFromVideoDevice(t,r,i){return Ce(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeFromConstraints(l,r,i)})}decodeFromConstraints(t,r,i){return Ce(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,r,i)})}decodeFromStream(t,r,i){return Ce(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(s,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return Ce(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((r,i)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Ce(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const i=document.getElementById(t);if(!i)throw new w(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new w(`element with id '${t}' must be an ${r} element`);return i}decodeFromImage(t,r){if(!t&&!r)throw new w("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new w("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,i){if(t===void 0&&r===void 0)throw new w("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new w("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(t){if(!t)throw new w("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new w("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=t,i}decodeFromVideoUrl(t){if(!t)throw new w("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=t,i}decodeFromVideoUrlContinuously(t,r){if(!t)throw new w("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(i,r);return i.src=t,s}_decodeOnLoadImage(t){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Ce(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return Ce(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,i=!0){this._stopAsyncDecode=!1;const s=(l,u)=>{if(this._stopAsyncDecode){u(new j("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(t);l(f)}catch(f){const h=r&&f instanceof j,x=(f instanceof M||f instanceof B)&&i;if(h||x)return setTimeout(s,this._timeBetweenDecodingAttempts,l,u);u(f)}};return new Promise((l,u)=>s(l,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);r(s,null),setTimeout(i,this.timeBetweenScansMillis)}catch(s){r(null,s);const l=s instanceof M||s instanceof B,u=s instanceof j;(l||u)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}createBinaryBitmap(t){const r=this.getCaptureCanvasContext(t);this.drawImageOnCanvas(r,t);const i=this.getCaptureCanvas(t),s=new fe(i),l=new ge(s);return new R(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}drawImageOnCanvas(t,r){t.drawImage(r,0,0)}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),r.style.width=i+"px",r.style.height=s+"px",r.width=i,r.height=s,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class at{constructor(t,r,i=r==null?0:8*r.length,s,l,u=b.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=i,this.resultPoints=s,this.format=l,this.timestamp=u,this.text=t,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=s,this.format=l,this.resultMetadata=null,u==null?this.timestamp=b.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(r.length+t.length);b.arraycopy(r,0,i,0,r.length),b.arraycopy(t,0,i,r.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var wn;(function(y){y[y.AZTEC=0]="AZTEC",y[y.CODABAR=1]="CODABAR",y[y.CODE_39=2]="CODE_39",y[y.CODE_93=3]="CODE_93",y[y.CODE_128=4]="CODE_128",y[y.DATA_MATRIX=5]="DATA_MATRIX",y[y.EAN_8=6]="EAN_8",y[y.EAN_13=7]="EAN_13",y[y.ITF=8]="ITF",y[y.MAXICODE=9]="MAXICODE",y[y.PDF_417=10]="PDF_417",y[y.QR_CODE=11]="QR_CODE",y[y.RSS_14=12]="RSS_14",y[y.RSS_EXPANDED=13]="RSS_EXPANDED",y[y.UPC_A=14]="UPC_A",y[y.UPC_E=15]="UPC_E",y[y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(wn||(wn={}));var le=wn,En;(function(y){y[y.OTHER=0]="OTHER",y[y.ORIENTATION=1]="ORIENTATION",y[y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",y[y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",y[y.ISSUE_NUMBER=4]="ISSUE_NUMBER",y[y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",y[y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",y[y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",y[y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",y[y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",y[y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(En||(En={}));var Qe=En;class Gi{constructor(t,r,i,s,l=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=i,this.ecLevel=s,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Yi{exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class zt{constructor(t,r){if(r.length===0)throw new S;this.field=t;const i=r.length;if(i>1&&r[0]===0){let s=1;for(;s<i&&r[s]===0;)s++;s===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-s),b.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(t===1){i=0;for(let u=0,f=r.length;u!==f;u++){const h=r[u];i=Yi.addOrSubtract(i,h)}return i}i=r[0];const s=r.length,l=this.field;for(let u=1;u<s;u++)i=Yi.addOrSubtract(l.multiply(t,i),r[u]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){const u=r;r=i,i=u}let s=new Int32Array(i.length);const l=i.length-r.length;b.arraycopy(i,0,s,0,l);for(let u=l;u<i.length;u++)s[u]=Yi.addOrSubtract(r[u-l],i[u]);return new zt(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,s=t.coefficients,l=s.length,u=new Int32Array(i+l-1),f=this.field;for(let h=0;h<i;h++){const g=r[h];for(let x=0;x<l;x++)u[h+x]=Yi.addOrSubtract(u[h+x],f.multiply(g,s[x]))}return new zt(f,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,i=this.field,s=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)s[u]=i.multiply(l[u],t);return new zt(i,s)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return this.field.getZero();const i=this.coefficients,s=i.length,l=new Int32Array(s+t),u=this.field;for(let f=0;f<s;f++)l[f]=u.multiply(i[f],r);return new zt(u,l)}divide(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new S("Divide by 0");const r=this.field;let i=r.getZero(),s=this;const l=t.getCoefficient(t.getDegree()),u=r.inverse(l);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const f=s.getDegree()-t.getDegree(),h=r.multiply(s.getCoefficient(s.getDegree()),u),g=t.multiplyByMonomial(f,h),x=r.buildMonomial(f,h);i=i.addOrSubtract(x),s=s.addOrSubtract(g)}return[i,s]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),r===0||i!==1){const s=this.field.log(i);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class es extends m{}es.kind="ArithmeticException";class _e extends Yi{constructor(t,r,i){super(),this.primitive=t,this.size=r,this.generatorBase=i;const s=new Int32Array(r);let l=1;for(let f=0;f<r;f++)s[f]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=s;const u=new Int32Array(r);for(let f=0;f<r-1;f++)u[s[f]]=f;this.logTable=u,this.zero=new zt(this,Int32Array.from([0])),this.one=new zt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;const i=new Int32Array(t+1);return i[0]=r,new zt(this,i)}inverse(t){if(t===0)throw new es;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+v.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}_e.AZTEC_DATA_12=new _e(4201,4096,1),_e.AZTEC_DATA_10=new _e(1033,1024,1),_e.AZTEC_DATA_6=new _e(67,64,1),_e.AZTEC_PARAM=new _e(19,16,1),_e.QR_CODE_FIELD_256=new _e(285,256,0),_e.DATA_MATRIX_FIELD_256=new _e(301,256,1),_e.AZTEC_DATA_8=_e.DATA_MATRIX_FIELD_256,_e.MAXICODE_FIELD_64=_e.AZTEC_DATA_6;class ii extends m{}ii.kind="ReedSolomonException";class Rn extends m{}Rn.kind="IllegalStateException";class Xi{constructor(t){this.field=t}decode(t,r){const i=this.field,s=new zt(i,t),l=new Int32Array(r);let u=!0;for(let T=0;T<r;T++){const O=s.evaluateAt(i.exp(T+i.getGeneratorBase()));l[l.length-1-T]=O,O!==0&&(u=!1)}if(u)return;const f=new zt(i,l),h=this.runEuclideanAlgorithm(i.buildMonomial(r,1),f,r),g=h[0],x=h[1],C=this.findErrorLocations(g),A=this.findErrorMagnitudes(x,C);for(let T=0;T<C.length;T++){const O=t.length-1-i.log(C[T]);if(O<0)throw new ii("Bad error location");t[O]=_e.addOrSubtract(t[O],A[T])}}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){const T=t;t=r,r=T}const s=this.field;let l=t,u=r,f=s.getZero(),h=s.getOne();for(;u.getDegree()>=(i/2|0);){let T=l,O=f;if(l=u,f=h,l.isZero())throw new ii("r_{i-1} was zero");u=T;let D=s.getZero();const L=l.getCoefficient(l.getDegree()),z=s.inverse(L);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const q=u.getDegree()-l.getDegree(),J=s.multiply(u.getCoefficient(u.getDegree()),z);D=D.addOrSubtract(s.buildMonomial(q,J)),u=u.addOrSubtract(l.multiplyByMonomial(q,J))}if(h=D.multiply(f).addOrSubtract(O),u.getDegree()>=l.getDegree())throw new Rn("Division algorithm failed to reduce polynomial?")}const g=h.getCoefficient(0);if(g===0)throw new ii("sigmaTilde(0) was zero");const x=s.inverse(g),C=h.multiplyScalar(x),A=u.multiplyScalar(x);return[C,A]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(r);let s=0;const l=this.field;for(let u=1;u<l.getSize()&&s<r;u++)t.evaluateAt(u)===0&&(i[s]=l.inverse(u),s++);if(s!==r)throw new ii("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,r){const i=r.length,s=new Int32Array(i),l=this.field;for(let u=0;u<i;u++){const f=l.inverse(r[u]);let h=1;for(let g=0;g<i;g++)if(u!==g){const x=l.multiply(r[g],f),C=x&1?x&-2:x|1;h=l.multiply(h,C)}s[u]=l.multiply(t.evaluateAt(f),l.inverse(h)),l.getGeneratorBase()!==0&&(s[u]=l.multiply(s[u],f))}return s}}var Ct;(function(y){y[y.UPPER=0]="UPPER",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.DIGIT=3]="DIGIT",y[y.PUNCT=4]="PUNCT",y[y.BINARY=5]="BINARY"})(Ct||(Ct={}));class Ue{decode(t){this.ddata=t;let r=t.getBits(),i=this.extractBits(r),s=this.correctBits(i),l=Ue.convertBoolArrayToByteArray(s),u=Ue.getEncodedData(s),f=new Gi(l,u,null,null);return f.setNumBits(s.length),f}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,i=Ct.UPPER,s=Ct.UPPER,l="",u=0;for(;u<r;)if(s===Ct.BINARY){if(r-u<5)break;let f=Ue.readCode(t,u,5);if(u+=5,f===0){if(r-u<11)break;f=Ue.readCode(t,u,11)+31,u+=11}for(let h=0;h<f;h++){if(r-u<8){u=r;break}const g=Ue.readCode(t,u,8);l+=te.castAsNonUtf8Char(g),u+=8}s=i}else{let f=s===Ct.DIGIT?4:5;if(r-u<f)break;let h=Ue.readCode(t,u,f);u+=f;let g=Ue.getCharacter(s,h);g.startsWith("CTRL_")?(i=s,s=Ue.getTable(g.charAt(5)),g.charAt(6)==="L"&&(i=s)):(l+=g,s=i)}return l}static getTable(t){switch(t){case"L":return Ct.LOWER;case"P":return Ct.PUNCT;case"M":return Ct.MIXED;case"D":return Ct.DIGIT;case"B":return Ct.BINARY;case"U":default:return Ct.UPPER}}static getCharacter(t,r){switch(t){case Ct.UPPER:return Ue.UPPER_TABLE[r];case Ct.LOWER:return Ue.LOWER_TABLE[r];case Ct.MIXED:return Ue.MIXED_TABLE[r];case Ct.PUNCT:return Ue.PUNCT_TABLE[r];case Ct.DIGIT:return Ue.DIGIT_TABLE[r];default:throw new Rn("Bad table")}}correctBits(t){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=_e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=_e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=_e.AZTEC_DATA_10):(i=12,r=_e.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),l=t.length/i;if(l<s)throw new B;let u=t.length%i,f=new Int32Array(l);for(let A=0;A<l;A++,u+=i)f[A]=Ue.readCode(t,u,i);try{new Xi(r).decode(f,l-s)}catch(A){throw new B(A)}let h=(1<<i)-1,g=0;for(let A=0;A<s;A++){let T=f[A];if(T===0||T===h)throw new B;(T===1||T===h-1)&&g++}let x=new Array(s*i-g),C=0;for(let A=0;A<s;A++){let T=f[A];if(T===1||T===h-1)x.fill(T>1,C,C+i-1),C+=i-1;else for(let O=i-1;O>=0;--O)x[C++]=(T&1<<O)!==0}return x}extractBits(t){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),s=(r?11:14)+i*4,l=new Int32Array(s),u=new Array(this.totalBitsInLayer(i,r));if(r)for(let f=0;f<l.length;f++)l[f]=f;else{let f=s+1+2*v.truncDivision(v.truncDivision(s,2)-1,15),h=s/2,g=v.truncDivision(f,2);for(let x=0;x<h;x++){let C=x+v.truncDivision(x,15);l[h-x-1]=g-C-1,l[h+x]=g+C+1}}for(let f=0,h=0;f<i;f++){let g=(i-f)*4+(r?9:12),x=f*2,C=s-1-x;for(let A=0;A<g;A++){let T=A*2;for(let O=0;O<2;O++)u[h+T+O]=t.get(l[x+O],l[x+A]),u[h+2*g+T+O]=t.get(l[x+A],l[C-O]),u[h+4*g+T+O]=t.get(l[C-O],l[C-A]),u[h+6*g+T+O]=t.get(l[C-A],l[x+O])}h+=g*8}return u}static readCode(t,r,i){let s=0;for(let l=r;l<r+i;l++)s<<=1,t[l]&&(s|=1);return s}static readByte(t,r){let i=t.length-r;return i>=8?Ue.readCode(t,r,8):Ue.readCode(t,r,i)<<8-i}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let i=0;i<r.length;i++)r[i]=Ue.readByte(t,8*i);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Ue.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ue.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ue.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ue.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ue.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Te{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,i,s){const l=t-i,u=r-s;return Math.sqrt(l*l+u*u)}static sum(t){let r=0;for(let i=0,s=t.length;i!==s;i++){const l=t[i];r+=l}return r}}class ts{static floatToIntBits(t){return t}}ts.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof oe){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ts.floatToIntBits(this.x)+ts.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let l,u,f;if(i>=r&&i>=s?(u=t[0],l=t[1],f=t[2]):s>=i&&s>=r?(u=t[1],l=t[0],f=t[2]):(u=t[2],l=t[0],f=t[1]),this.crossProductZ(l,u,f)<0){const h=l;l=f,f=h}t[0]=l,t[1]=u,t[2]=f}static distance(t,r){return Te.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,i){const s=r.x,l=r.y;return(i.x-s)*(t.y-l)-(i.y-l)*(t.x-s)}}class ns{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Tc extends ns{constructor(t,r,i,s,l){super(t,r),this.compact=i,this.nbDatablocks=s,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Yn{constructor(t,r,i,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Yn.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=i-l,this.rightInit=i+l,this.upInit=s-l,this.downInit=s+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new j}detect(){let t=this.leftInit,r=this.rightInit,i=this.upInit,s=this.downInit,l=!1,u=!0,f=!1,h=!1,g=!1,x=!1,C=!1;const A=this.width,T=this.height;for(;u;){u=!1;let O=!0;for(;(O||!h)&&r<A;)O=this.containsBlackPoint(i,s,r,!1),O?(r++,u=!0,h=!0):h||r++;if(r>=A){l=!0;break}let D=!0;for(;(D||!g)&&s<T;)D=this.containsBlackPoint(t,r,s,!0),D?(s++,u=!0,g=!0):g||s++;if(s>=T){l=!0;break}let L=!0;for(;(L||!x)&&t>=0;)L=this.containsBlackPoint(i,s,t,!1),L?(t--,u=!0,x=!0):x||t--;if(t<0){l=!0;break}let z=!0;for(;(z||!C)&&i>=0;)z=this.containsBlackPoint(t,r,i,!0),z?(i--,u=!0,C=!0):C||i--;if(i<0){l=!0;break}u&&(f=!0)}if(!l&&f){const O=r-t;let D=null;for(let J=1;D===null&&J<O;J++)D=this.getBlackPointOnSegment(t,s-J,t+J,s);if(D==null)throw new j;let L=null;for(let J=1;L===null&&J<O;J++)L=this.getBlackPointOnSegment(t,i+J,t+J,i);if(L==null)throw new j;let z=null;for(let J=1;z===null&&J<O;J++)z=this.getBlackPointOnSegment(r,i+J,r-J,i);if(z==null)throw new j;let q=null;for(let J=1;q===null&&J<O;J++)q=this.getBlackPointOnSegment(r,s-J,r-J,s);if(q==null)throw new j;return this.centerEdges(q,D,z,L)}else throw new j}getBlackPointOnSegment(t,r,i,s){const l=Te.round(Te.distance(t,r,i,s)),u=(i-t)/l,f=(s-r)/l,h=this.image;for(let g=0;g<l;g++){const x=Te.round(t+g*u),C=Te.round(r+g*f);if(h.get(x,C))return new oe(x,C)}return null}centerEdges(t,r,i,s){const l=t.getX(),u=t.getY(),f=r.getX(),h=r.getY(),g=i.getX(),x=i.getY(),C=s.getX(),A=s.getY(),T=Yn.CORR;return l<this.width/2?[new oe(C-T,A+T),new oe(f+T,h+T),new oe(g-T,x-T),new oe(l+T,u-T)]:[new oe(C+T,A+T),new oe(f+T,h-T),new oe(g-T,x+T),new oe(l-T,u-T)]}containsBlackPoint(t,r,i,s){const l=this.image;if(s){for(let u=t;u<=r;u++)if(l.get(u,i))return!0}else for(let u=t;u<=r;u++)if(l.get(i,u))return!0;return!1}}Yn.INIT_SIZE=10,Yn.CORR=1;class kl{static checkAndNudgePoints(t,r){const i=t.getWidth(),s=t.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const f=Math.floor(r[u]),h=Math.floor(r[u+1]);if(f<-1||f>i||h<-1||h>s)throw new j;l=!1,f===-1?(r[u]=0,l=!0):f===i&&(r[u]=i-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===s&&(r[u+1]=s-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const f=Math.floor(r[u]),h=Math.floor(r[u+1]);if(f<-1||f>i||h<-1||h>s)throw new j;l=!1,f===-1?(r[u]=0,l=!0):f===i&&(r[u]=i-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===s&&(r[u+1]=s-1,l=!0)}}}class yn{constructor(t,r,i,s,l,u,f,h,g){this.a11=t,this.a21=r,this.a31=i,this.a12=s,this.a22=l,this.a32=u,this.a13=f,this.a23=h,this.a33=g}static quadrilateralToQuadrilateral(t,r,i,s,l,u,f,h,g,x,C,A,T,O,D,L){const z=yn.quadrilateralToSquare(t,r,i,s,l,u,f,h);return yn.squareToQuadrilateral(g,x,C,A,T,O,D,L).times(z)}transformPoints(t){const r=t.length,i=this.a11,s=this.a12,l=this.a13,u=this.a21,f=this.a22,h=this.a23,g=this.a31,x=this.a32,C=this.a33;for(let A=0;A<r;A+=2){const T=t[A],O=t[A+1],D=l*T+h*O+C;t[A]=(i*T+u*O+g)/D,t[A+1]=(s*T+f*O+x)/D}}transformPointsWithValues(t,r){const i=this.a11,s=this.a12,l=this.a13,u=this.a21,f=this.a22,h=this.a23,g=this.a31,x=this.a32,C=this.a33,A=t.length;for(let T=0;T<A;T++){const O=t[T],D=r[T],L=l*O+h*D+C;t[T]=(i*O+u*D+g)/L,r[T]=(s*O+f*D+x)/L}}static squareToQuadrilateral(t,r,i,s,l,u,f,h){const g=t-i+l-f,x=r-s+u-h;if(g===0&&x===0)return new yn(i-t,l-i,t,s-r,u-s,r,0,0,1);{const C=i-l,A=f-l,T=s-u,O=h-u,D=C*O-A*T,L=(g*O-A*x)/D,z=(C*x-g*T)/D;return new yn(i-t+L*i,f-t+z*f,t,s-r+L*s,h-r+z*h,r,L,z,1)}}static quadrilateralToSquare(t,r,i,s,l,u,f,h){return yn.squareToQuadrilateral(t,r,i,s,l,u,f,h).buildAdjoint()}buildAdjoint(){return new yn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new yn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class vc extends kl{sampleGrid(t,r,i,s,l,u,f,h,g,x,C,A,T,O,D,L,z,q,J){const Q=yn.quadrilateralToQuadrilateral(s,l,u,f,h,g,x,C,A,T,O,D,L,z,q,J);return this.sampleGridWithTransform(t,r,i,Q)}sampleGridWithTransform(t,r,i,s){if(r<=0||i<=0)throw new j;const l=new be(r,i),u=new Float32Array(2*r);for(let f=0;f<i;f++){const h=u.length,g=f+.5;for(let x=0;x<h;x+=2)u[x]=x/2+.5,u[x+1]=g;s.transformPoints(u),kl.checkAndNudgePoints(t,u);try{for(let x=0;x<h;x+=2)t.get(Math.floor(u[x]),Math.floor(u[x+1]))&&l.set(x/2,f)}catch{throw new j}}return l}}class or{static setGridSampler(t){or.gridSampler=t}static getInstance(){return or.gridSampler}}or.gridSampler=new vc;class bt{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Nc{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(t){let u=i[0];i[0]=i[2],i[2]=u}this.extractParameters(i);let s=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),l=this.getMatrixCornerPoints(i);return new Tc(s,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new j;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(i,r);let s=0;for(let u=0;u<4;u++){let f=i[(this.shift+u)%4];this.compact?(s<<=7,s+=f>>1&127):(s<<=10,s+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let i=0;t.forEach((s,l,u)=>{let f=(s>>r-2<<1)+(s&1);i=(i<<3)+f}),i=((i&1)<<11)+(i>>1);for(let s=0;s<4;s++)if(v.bitCount(i^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new j}getCorrectedParameterData(t,r){let i,s;r?(i=7,s=2):(i=10,s=4);let l=i-s,u=new Int32Array(i);for(let h=i-1;h>=0;--h)u[h]=t&15,t>>=4;try{new Xi(_e.AZTEC_PARAM).decode(u,l)}catch{throw new j}let f=0;for(let h=0;h<s;h++)f=(f<<4)+u[h];return f}getBullsEyeCorners(t){let r=t,i=t,s=t,l=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(r,u,1,-1),A=this.getFirstDifferent(i,u,1,1),T=this.getFirstDifferent(s,u,-1,1),O=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let D=this.distancePoint(O,C)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(D<.75||D>1.25||!this.isWhiteOrBlackRectangle(C,A,T,O))break}r=C,i=A,s=T,l=O,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new j;this.compact=this.nbCenterLayers===5;let f=new oe(r.getX()+.5,r.getY()-.5),h=new oe(i.getX()+.5,i.getY()+.5),g=new oe(s.getX()-.5,s.getY()+.5),x=new oe(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,h,g,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,i,s;try{let f=new Yn(this.image).detect();t=f[0],r=f[1],i=f[2],s=f[3]}catch{let h=this.image.getWidth()/2,g=this.image.getHeight()/2;t=this.getFirstDifferent(new bt(h+7,g-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new bt(h+7,g+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new bt(h-7,g+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new bt(h-7,g-7),!1,-1,-1).toResultPoint()}let l=Te.round((t.getX()+s.getX()+r.getX()+i.getX())/4),u=Te.round((t.getY()+s.getY()+r.getY()+i.getY())/4);try{let f=new Yn(this.image,15,l,u).detect();t=f[0],r=f[1],i=f[2],s=f[3]}catch{t=this.getFirstDifferent(new bt(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new bt(l+7,u+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new bt(l-7,u+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new bt(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Te.round((t.getX()+s.getX()+r.getX()+i.getX())/4),u=Te.round((t.getY()+s.getY()+r.getY()+i.getY())/4),new bt(l,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,i,s,l){let u=or.getInstance(),f=this.getDimension(),h=f/2-this.nbCenterLayers,g=f/2+this.nbCenterLayers;return u.sampleGrid(t,f,f,h,h,g,h,g,g,h,g,r.getX(),r.getY(),i.getX(),i.getY(),s.getX(),s.getY(),l.getX(),l.getY())}sampleLine(t,r,i){let s=0,l=this.distanceResultPoint(t,r),u=l/i,f=t.getX(),h=t.getY(),g=u*(r.getX()-t.getX())/l,x=u*(r.getY()-t.getY())/l;for(let C=0;C<i;C++)this.image.get(Te.round(f+C*g),Te.round(h+C*x))&&(s|=1<<i-C-1);return s}isWhiteOrBlackRectangle(t,r,i,s){let l=3;t=new bt(t.getX()-l,t.getY()+l),r=new bt(r.getX()-l,r.getY()-l),i=new bt(i.getX()+l,i.getY()-l),s=new bt(s.getX()+l,s.getY()+l);let u=this.getColor(s,t);if(u===0)return!1;let f=this.getColor(t,r);return f!==u||(f=this.getColor(r,i),f!==u)?!1:(f=this.getColor(i,s),f===u)}getColor(t,r){let i=this.distancePoint(t,r),s=(r.getX()-t.getX())/i,l=(r.getY()-t.getY())/i,u=0,f=t.getX(),h=t.getY(),g=this.image.get(t.getX(),t.getY()),x=Math.ceil(i);for(let A=0;A<x;A++)f+=s,h+=l,this.image.get(Te.round(f),Te.round(h))!==g&&u++;let C=u/i;return C>.1&&C<.9?0:C<=.1===g?1:-1}getFirstDifferent(t,r,i,s){let l=t.getX()+i,u=t.getY()+s;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=i,u+=s;for(l-=i,u-=s;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=i;for(l-=i;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=s;return u-=s,new bt(l,u)}expandSquare(t,r,i){let s=i/(2*r),l=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),f=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,g=new oe(f+s*l,h+s*u),x=new oe(f-s*l,h-s*u);l=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),f=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let C=new oe(f+s*l,h+s*u),A=new oe(f-s*l,h-s*u);return[g,C,x,A]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Te.round(t.getX()),i=Te.round(t.getY());return this.isValid(r,i)}distancePoint(t,r){return Te.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Te.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(v.truncDivision(this.nbLayers-4,8)+1)+15}}class rs{decode(t,r=null){let i=null,s=new Nc(t.getBlackMatrix()),l=null,u=null;try{let x=s.detectMirror(!1);l=x.getPoints(),this.reportFoundResultPoints(r,l),u=new Ue().decode(x)}catch(x){i=x}if(u==null)try{let x=s.detectMirror(!0);l=x.getPoints(),this.reportFoundResultPoints(r,l),u=new Ue().decode(x)}catch(x){throw i??x}let f=new at(u.getText(),u.getRawBytes(),u.getNumBits(),l,le.AZTEC,b.currentTimeMillis()),h=u.getByteSegments();h!=null&&f.putMetadata(Qe.BYTE_SEGMENTS,h);let g=u.getECLevel();return g!=null&&f.putMetadata(Qe.ERROR_CORRECTION_LEVEL,g),f}reportFoundResultPoints(t,r){if(t!=null){let i=t.get(Y.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((s,l,u)=>{i.foundPossibleResultPoint(s)})}}reset(){}}class Kd extends Fe{constructor(t=500){super(new rs,t)}}class ut{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(Y.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),u=this.doDecode(l,r),f=u.getResultMetadata();let h=270;f!==null&&f.get(Qe.ORIENTATION)===!0&&(h=h+f.get(Qe.ORIENTATION)%360),u.putMetadata(Qe.ORIENTATION,h);const g=u.getResultPoints();if(g!==null){const x=l.getHeight();for(let C=0;C<g.length;C++)g[C]=new oe(x-g[C].getY()-1,g[C].getX())}return u}else throw new j}}reset(){}doDecode(t,r){const i=t.getWidth(),s=t.getHeight();let l=new _(i);const u=r&&r.get(Y.TRY_HARDER)===!0,f=Math.max(1,s>>(u?8:5));let h;u?h=s:h=15;const g=Math.trunc(s/2);for(let x=0;x<h;x++){const C=Math.trunc((x+1)/2),A=(x&1)===0,T=g+f*(A?C:-C);if(T<0||T>=s)break;try{l=t.getBlackRow(T,l)}catch{continue}for(let O=0;O<2;O++){if(O===1&&(l.reverse(),r&&r.get(Y.NEED_RESULT_POINT_CALLBACK)===!0)){const D=new Map;r.forEach((L,z)=>D.set(z,L)),D.delete(Y.NEED_RESULT_POINT_CALLBACK),r=D}try{const D=this.decodeRow(T,l,r);if(O===1){D.putMetadata(Qe.ORIENTATION,180);const L=D.getResultPoints();L!==null&&(L[0]=new oe(i-L[0].getX()-1,L[0].getY()),L[1]=new oe(i-L[1].getX()-1,L[1].getY()))}return D}catch{}}}throw new j}static recordPattern(t,r,i){const s=i.length;for(let g=0;g<s;g++)i[g]=0;const l=t.getSize();if(r>=l)throw new j;let u=!t.get(r),f=0,h=r;for(;h<l;){if(t.get(h)!==u)i[f]++;else{if(++f===s)break;i[f]=1,u=!u}h++}if(!(f===s||f===s-1&&h===l))throw new j}static recordPatternInReverse(t,r,i){let s=i.length,l=t.get(r);for(;r>0&&s>=0;)t.get(--r)!==l&&(s--,l=!l);if(s>=0)throw new j;ut.recordPattern(t,r+1,i)}static patternMatchVariance(t,r,i){const s=t.length;let l=0,u=0;for(let g=0;g<s;g++)l+=t[g],u+=r[g];if(l<u)return Number.POSITIVE_INFINITY;const f=l/u;i*=f;let h=0;for(let g=0;g<s;g++){const x=t[g],C=r[g]*f,A=x>C?x-C:C-x;if(A>i)return Number.POSITIVE_INFINITY;h+=A}return h/l}}class $ extends ut{static findStartPattern(t){const r=t.getSize(),i=t.getNextSet(0);let s=0,l=Int32Array.from([0,0,0,0,0,0]),u=i,f=!1;const h=6;for(let g=i;g<r;g++)if(t.get(g)!==f)l[s]++;else{if(s===h-1){let x=$.MAX_AVG_VARIANCE,C=-1;for(let A=$.CODE_START_A;A<=$.CODE_START_C;A++){const T=ut.patternMatchVariance(l,$.CODE_PATTERNS[A],$.MAX_INDIVIDUAL_VARIANCE);T<x&&(x=T,C=A)}if(C>=0&&t.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,C]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[s-1]=0,l[s]=0,s--}else s++;l[s]=1,f=!f}throw new j}static decodeCode(t,r,i){ut.recordPattern(t,i,r);let s=$.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<$.CODE_PATTERNS.length;u++){const f=$.CODE_PATTERNS[u],h=this.patternMatchVariance(r,f,$.MAX_INDIVIDUAL_VARIANCE);h<s&&(s=h,l=u)}if(l>=0)return l;throw new j}decodeRow(t,r,i){const s=i&&i.get(Y.ASSUME_GS1)===!0,l=$.findStartPattern(r),u=l[2];let f=0;const h=new Uint8Array(20);h[f++]=u;let g;switch(u){case $.CODE_START_A:g=$.CODE_CODE_A;break;case $.CODE_START_B:g=$.CODE_CODE_B;break;case $.CODE_START_C:g=$.CODE_CODE_C;break;default:throw new B}let x=!1,C=!1,A="",T=l[0],O=l[1];const D=Int32Array.from([0,0,0,0,0,0]);let L=0,z=0,q=u,J=0,Q=!0,Se=!1,pe=!1;for(;!x;){const hi=C;switch(C=!1,L=z,z=$.decodeCode(r,D,O),h[f++]=z,z!==$.CODE_STOP&&(Q=!0),z!==$.CODE_STOP&&(J++,q+=J*z),T=O,O+=D.reduce((Nh,Mh)=>Nh+Mh,0),z){case $.CODE_START_A:case $.CODE_START_B:case $.CODE_START_C:throw new B}switch(g){case $.CODE_CODE_A:if(z<64)pe===Se?A+=String.fromCharCode(32+z):A+=String.fromCharCode(32+z+128),pe=!1;else if(z<96)pe===Se?A+=String.fromCharCode(z-64):A+=String.fromCharCode(z+64),pe=!1;else switch(z!==$.CODE_STOP&&(Q=!1),z){case $.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+="");break;case $.CODE_FNC_2:case $.CODE_FNC_3:break;case $.CODE_FNC_4_A:!Se&&pe?(Se=!0,pe=!1):Se&&pe?(Se=!1,pe=!1):pe=!0;break;case $.CODE_SHIFT:C=!0,g=$.CODE_CODE_B;break;case $.CODE_CODE_B:g=$.CODE_CODE_B;break;case $.CODE_CODE_C:g=$.CODE_CODE_C;break;case $.CODE_STOP:x=!0;break}break;case $.CODE_CODE_B:if(z<96)pe===Se?A+=String.fromCharCode(32+z):A+=String.fromCharCode(32+z+128),pe=!1;else switch(z!==$.CODE_STOP&&(Q=!1),z){case $.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+="");break;case $.CODE_FNC_2:case $.CODE_FNC_3:break;case $.CODE_FNC_4_B:!Se&&pe?(Se=!0,pe=!1):Se&&pe?(Se=!1,pe=!1):pe=!0;break;case $.CODE_SHIFT:C=!0,g=$.CODE_CODE_A;break;case $.CODE_CODE_A:g=$.CODE_CODE_A;break;case $.CODE_CODE_C:g=$.CODE_CODE_C;break;case $.CODE_STOP:x=!0;break}break;case $.CODE_CODE_C:if(z<100)z<10&&(A+="0"),A+=z;else switch(z!==$.CODE_STOP&&(Q=!1),z){case $.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+="");break;case $.CODE_CODE_A:g=$.CODE_CODE_A;break;case $.CODE_CODE_B:g=$.CODE_CODE_B;break;case $.CODE_STOP:x=!0;break}break}hi&&(g=g===$.CODE_CODE_A?$.CODE_CODE_B:$.CODE_CODE_A)}const Wt=O-T;if(O=r.getNextUnset(O),!r.isRange(O,Math.min(r.getSize(),O+(O-T)/2),!1))throw new j;if(q-=J*L,q%103!==L)throw new M;const An=A.length;if(An===0)throw new j;An>0&&Q&&(g===$.CODE_CODE_C?A=A.substring(0,An-2):A=A.substring(0,An-1));const Gt=(l[1]+l[0])/2,Pe=T+Wt/2,It=h.length,qt=new Uint8Array(It);for(let hi=0;hi<It;hi++)qt[hi]=h[hi];const di=[new oe(Gt,t),new oe(Pe,t)];return new at(A,qt,0,di,le.CODE_128,new Date().getTime())}}$.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],$.MAX_AVG_VARIANCE=.25,$.MAX_INDIVIDUAL_VARIANCE=.7,$.CODE_SHIFT=98,$.CODE_CODE_C=99,$.CODE_CODE_B=100,$.CODE_CODE_A=101,$.CODE_FNC_1=102,$.CODE_FNC_2=97,$.CODE_FNC_3=96,$.CODE_FNC_4_A=101,$.CODE_FNC_4_B=100,$.CODE_START_A=103,$.CODE_START_B=104,$.CODE_START_C=105,$.CODE_STOP=106;class dt extends ut{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,i){let s=this.counters;s.fill(0),this.decodeRowResult="";let l=dt.findAsteriskPattern(r,s),u=r.getNextSet(l[1]),f=r.getSize(),h,g;do{dt.recordPattern(r,u,s);let D=dt.toNarrowWidePattern(s);if(D<0)throw new j;h=dt.patternToChar(D),this.decodeRowResult+=h,g=u;for(let L of s)u+=L;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let x=0;for(let D of s)x+=D;let C=u-g-x;if(u!==f&&C*2<x)throw new j;if(this.usingCheckDigit){let D=this.decodeRowResult.length-1,L=0;for(let z=0;z<D;z++)L+=dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(z));if(this.decodeRowResult.charAt(D)!==dt.ALPHABET_STRING.charAt(L%43))throw new M;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new j;let A;this.extendedMode?A=dt.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let T=(l[1]+l[0])/2,O=g+x/2;return new at(A,null,0,[new oe(T,t),new oe(O,t)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let i=t.getSize(),s=t.getNextSet(0),l=0,u=s,f=!1,h=r.length;for(let g=s;g<i;g++)if(t.get(g)!==f)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===dt.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((g-u)/2)),u,!1))return[u,g];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,f=!f}throw new j}static toNarrowWidePattern(t){let r=t.length,i=0,s;do{let l=2147483647;for(let h of t)h<l&&h>i&&(l=h);i=l,s=0;let u=0,f=0;for(let h=0;h<r;h++){let g=t[h];g>i&&(f|=1<<r-1-h,s++,u+=g)}if(s===3){for(let h=0;h<r&&s>0;h++){let g=t[h];if(g>i&&(s--,g*2>=u))return-1}return f}}while(s>3);return-1}static patternToChar(t){for(let r=0;r<dt.CHARACTER_ENCODINGS.length;r++)if(dt.CHARACTER_ENCODINGS[r]===t)return dt.ALPHABET_STRING.charAt(r);if(t===dt.ASTERISK_ENCODING)return"*";throw new j}static decodeExtended(t){let r=t.length,i="";for(let s=0;s<r;s++){let l=t.charAt(s);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=t.charAt(s+1),f="\0";switch(l){case"+":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)+32);else throw new B;break;case"$":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)-64);else throw new B;break;case"%":if(u>="A"&&u<="E")f=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")f=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")f=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")f="\0";else if(u==="V")f="@";else if(u==="W")f="`";else if(u==="X"||u==="Y"||u==="Z")f="";else throw new B;break;case"/":if(u>="A"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")f=":";else throw new B;break}i+=f,s++}else i+=l}return i}}dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],dt.ASTERISK_ENCODING=148;class ke extends ut{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,i){let s=this.decodeStart(r),l=this.decodeEnd(r),u=new xe;ke.decodeMiddle(r,s[1],l[0],u);let f=u.toString(),h=null;i!=null&&(h=i.get(Y.ALLOWED_LENGTHS)),h==null&&(h=ke.DEFAULT_ALLOWED_LENGTHS);let g=f.length,x=!1,C=0;for(let O of h){if(g===O){x=!0;break}O>C&&(C=O)}if(!x&&g>C&&(x=!0),!x)throw new B;const A=[new oe(s[1],t),new oe(l[0],t)];return new at(f,null,0,A,le.ITF,new Date().getTime())}static decodeMiddle(t,r,i,s){let l=new Int32Array(10),u=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),u.fill(0),f.fill(0);r<i;){ut.recordPattern(t,r,l);for(let g=0;g<5;g++){let x=2*g;u[g]=l[x],f[g]=l[x+1]}let h=ke.decodeDigit(u);s.append(h.toString()),h=this.decodeDigit(f),s.append(h.toString()),l.forEach(function(g){r+=g})}}decodeStart(t){let r=ke.skipWhiteSpace(t),i=ke.findGuardPattern(t,r,ke.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let s=r-1;i>0&&s>=0&&!t.get(s);s--)i--;if(i!==0)throw new j}static skipWhiteSpace(t){const r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new j;return i}decodeEnd(t){t.reverse();try{let r=ke.skipWhiteSpace(t),i;try{i=ke.findGuardPattern(t,r,ke.END_PATTERN_REVERSED[0])}catch(l){l instanceof j&&(i=ke.findGuardPattern(t,r,ke.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let s=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-s,i}finally{t.reverse()}}static findGuardPattern(t,r,i){let s=i.length,l=new Int32Array(s),u=t.getSize(),f=!1,h=0,g=r;l.fill(0);for(let x=r;x<u;x++)if(t.get(x)!==f)l[h]++;else{if(h===s-1){if(ut.patternMatchVariance(l,i,ke.MAX_INDIVIDUAL_VARIANCE)<ke.MAX_AVG_VARIANCE)return[g,x];g+=l[0]+l[1],b.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,f=!f}throw new j}static decodeDigit(t){let r=ke.MAX_AVG_VARIANCE,i=-1,s=ke.PATTERNS.length;for(let l=0;l<s;l++){let u=ke.PATTERNS[l],f=ut.patternMatchVariance(t,u,ke.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,i=l):f===r&&(i=-1)}if(i>=0)return i%10;throw new j}}ke.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ke.MAX_AVG_VARIANCE=.38,ke.MAX_INDIVIDUAL_VARIANCE=.5,ke.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ke.START_PATTERN=Int32Array.from([1,1,1,1]),ke.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class et extends ut{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,i,s=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),i=et.findGuardPattern(t,s,!1,this.START_END_PATTERN,l);let u=i[0];s=i[1];let f=u-(s-u);f>=0&&(r=t.isRange(f,u,!1))}return i}static checkChecksum(t){return et.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return et.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let s=r-1;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new B;i+=l}i*=3;for(let s=r-2;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new B;i+=l}return(1e3-i)%10}static decodeEnd(t,r){return et.findGuardPattern(t,r,!1,et.START_END_PATTERN,new Int32Array(et.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,i,s){return this.findGuardPattern(t,r,i,s,new Int32Array(s.length))}static findGuardPattern(t,r,i,s,l){let u=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);let f=0,h=r,g=s.length,x=i;for(let C=r;C<u;C++)if(t.get(C)!==x)l[f]++;else{if(f===g-1){if(ut.patternMatchVariance(l,s,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return Int32Array.from([h,C]);h+=l[0]+l[1];let A=l.slice(2,l.length-1);for(let T=0;T<f-1;T++)l[T]=A[T];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,x=!x}throw new j}static decodeDigit(t,r,i,s){this.recordPattern(t,i,r);let l=this.MAX_AVG_VARIANCE,u=-1,f=s.length;for(let h=0;h<f;h++){let g=s[h],x=ut.patternMatchVariance(r,g,et.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,u=h)}if(u>=0)return u;throw new j}}et.MAX_AVG_VARIANCE=.48,et.MAX_INDIVIDUAL_VARIANCE=.7,et.START_END_PATTERN=Int32Array.from([1,1,1]),et.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),et.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),et.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Qi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,s),u=s.toString(),f=Qi.parseExtensionString(u),h=[new oe((i[0]+i[1])/2,t),new oe(l,t)],g=new at(u,null,0,h,le.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(t,r,i){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),u=r[1],f=0;for(let g=0;g<5&&u<l;g++){let x=et.decodeDigit(t,s,u,et.L_AND_G_PATTERNS);i+=String.fromCharCode(48+x%10);for(let C of s)u+=C;x>=10&&(f|=1<<4-g),g!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(i.length!==5)throw new j;let h=this.determineCheckDigit(f);if(Qi.extensionChecksum(i.toString())!==h)throw new j;return u}static extensionChecksum(t){let r=t.length,i=0;for(let s=r-2;s>=0;s-=2)i+=t.charAt(s).charCodeAt(0)-48;i*=3;for(let s=r-1;s>=0;s-=2)i+=t.charAt(s).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new j}static parseExtensionString(t){if(t.length!==5)return null;let r=Qi.parseExtension5String(t);return r==null?null:new Map([[Qe.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(t.substring(1)),s=(i/100).toString(),l=i%100,u=l<10?"0"+l:l.toString();return r+s+"."+u}}class Bl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,s),u=s.toString(),f=Bl.parseExtensionString(u),h=[new oe((i[0]+i[1])/2,t),new oe(l,t)],g=new at(u,null,0,h,le.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(t,r,i){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),u=r[1],f=0;for(let h=0;h<2&&u<l;h++){let g=et.decodeDigit(t,s,u,et.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);for(let x of s)u+=x;g>=10&&(f|=1<<1-h),h!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(i.length!==2)throw new j;if(parseInt(i.toString())%4!==f)throw new j;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[Qe.ISSUE_NUMBER,parseInt(t)]])}}class Mc{static decodeRow(t,r,i){let s=et.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Qi().decodeRow(t,r,s)}catch{return new Bl().decodeRow(t,r,s)}}}Mc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Me extends et{constructor(){super(),this.decodeRowStringBuffer="",Me.L_AND_G_PATTERNS=Me.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Me.L_PATTERNS[t-10],i=new Int32Array(r.length);for(let s=0;s<r.length;s++)i[s]=r[r.length-s-1];Me.L_AND_G_PATTERNS[t]=i}}decodeRow(t,r,i){let s=Me.findStartGuardPattern(r),l=i==null?null:i.get(Y.NEED_RESULT_POINT_CALLBACK);if(l!=null){const Q=new oe((s[0]+s[1])/2,t);l.foundPossibleResultPoint(Q)}let u=this.decodeMiddle(r,s,this.decodeRowStringBuffer),f=u.rowOffset,h=u.resultString;if(l!=null){const Q=new oe(f,t);l.foundPossibleResultPoint(Q)}let g=Me.decodeEnd(r,f);if(l!=null){const Q=new oe((g[0]+g[1])/2,t);l.foundPossibleResultPoint(Q)}let x=g[1],C=x+(x-g[0]);if(C>=r.getSize()||!r.isRange(x,C,!1))throw new j;let A=h.toString();if(A.length<8)throw new B;if(!Me.checkChecksum(A))throw new M;let T=(s[1]+s[0])/2,O=(g[1]+g[0])/2,D=this.getBarcodeFormat(),L=[new oe(T,t),new oe(O,t)],z=new at(A,null,0,L,D,new Date().getTime()),q=0;try{let Q=Mc.decodeRow(t,r,g[1]);z.putMetadata(Qe.UPC_EAN_EXTENSION,Q.getText()),z.putAllMetadata(Q.getResultMetadata()),z.addResultPoints(Q.getResultPoints()),q=Q.getText().length}catch{}let J=i==null?null:i.get(Y.ALLOWED_EAN_EXTENSIONS);if(J!=null){let Q=!1;for(let Se in J)if(q.toString()===Se){Q=!0;break}if(!Q)throw new j}return D===le.EAN_13||le.UPC_A,z}static checkChecksum(t){return Me.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return Me.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let s=r-1;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new B;i+=l}i*=3;for(let s=r-2;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new B;i+=l}return(1e3-i)%10}static decodeEnd(t,r){return Me.findGuardPattern(t,r,!1,Me.START_END_PATTERN,new Int32Array(Me.START_END_PATTERN.length).fill(0))}}class Pr extends Me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),u=r[1],f=0;for(let g=0;g<6&&u<l;g++){let x=Me.decodeDigit(t,s,u,Me.L_AND_G_PATTERNS);i+=String.fromCharCode(48+x%10);for(let C of s)u+=C;x>=10&&(f|=1<<5-g)}i=Pr.determineFirstDigit(i,f),u=Me.findGuardPattern(t,u,!0,Me.MIDDLE_PATTERN,new Int32Array(Me.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&u<l;g++){let x=Me.decodeDigit(t,s,u,Me.L_PATTERNS);i+=String.fromCharCode(48+x);for(let C of s)u+=C}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(t,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new j}}Pr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class _c extends Me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),u=r[1];for(let h=0;h<4&&u<l;h++){let g=Me.decodeDigit(t,s,u,Me.L_PATTERNS);i+=String.fromCharCode(48+g);for(let x of s)u+=x}u=Me.findGuardPattern(t,u,!0,Me.MIDDLE_PATTERN,new Int32Array(Me.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<l;h++){let g=Me.decodeDigit(t,s,u,Me.L_PATTERNS);i+=String.fromCharCode(48+g);for(let x of s)u+=x}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return le.EAN_8}}class qd extends Me{constructor(){super(...arguments),this.ean13Reader=new Pr}getBarcodeFormat(){return le.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))}decodeMiddle(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let i=new at(r.substring(1),null,null,t.getResultPoints(),le.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new j}reset(){this.ean13Reader.reset()}}class Cn extends Me{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,i){const s=this.decodeMiddleCounters.map(h=>h);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const l=t.getSize();let u=r[1],f=0;for(let h=0;h<6&&u<l;h++){const g=Cn.decodeDigit(t,s,u,Cn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);for(let x of s)u+=x;g>=10&&(f|=1<<5-h)}return Cn.determineNumSysAndCheckDigit(new xe(i),f),u}decodeEnd(t,r){return Cn.findGuardPatternWithoutCounters(t,r,!0,Cn.MIDDLE_END_PATTERN)}checkChecksum(t){return Me.checkChecksum(Cn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let i=0;i<=1;i++)for(let s=0;s<10;s++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){t.insert(0,"0"+i),t.append("0"+s);return}throw j.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),i=new xe;i.append(t.charAt(0));let s=r[5];switch(s){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(s),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(s);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}Cn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Cn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];class Pl extends ut{constructor(t){super();let r=t==null?null:t.get(Y.POSSIBLE_FORMATS),i=[];r!=null&&(r.indexOf(le.EAN_13)>-1?i.push(new Pr):r.indexOf(le.UPC_A)>-1&&i.push(new qd),r.indexOf(le.EAN_8)>-1&&i.push(new _c),r.indexOf(le.UPC_E)>-1&&i.push(new Cn)),i.length===0&&(i.push(new Pr),i.push(new _c),i.push(new Cn)),this.readers=i}decodeRow(t,r,i){for(let s of this.readers)try{const l=s.decodeRow(t,r,i),u=l.getBarcodeFormat()===le.EAN_13&&l.getText().charAt(0)==="0",f=i==null?null:i.get(Y.POSSIBLE_FORMATS),h=f==null||f.includes(le.UPC_A);if(u&&h){const g=l.getRawBytes(),x=new at(l.getText().substring(1),g,g.length,l.getResultPoints(),le.UPC_A);return x.putAllMetadata(l.getResultMetadata()),x}return l}catch{}throw new j}reset(){for(let t of this.readers)t.reset()}}class Mt extends ut{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let i=0;i<r.length;i++)if(ut.patternMatchVariance(t,r[i],Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return i;throw new j}static count(t){return Te.sum(new Int32Array(t))}static increment(t,r){let i=0,s=r[0];for(let l=1;l<t.length;l++)r[l]>s&&(s=r[l],i=l);t[i]++}static decrement(t,r){let i=0,s=r[0];for(let l=1;l<t.length;l++)r[l]<s&&(s=r[l],i=l);t[i]--}static isFinderPattern(t){let r=t[0]+t[1],i=r+t[2]+t[3],s=r/i;if(s>=Mt.MIN_FINDER_PATTERN_RATIO&&s<=Mt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let f of t)f>u&&(u=f),f<l&&(l=f);return u<10*l}return!1}}Mt.MAX_AVG_VARIANCE=.2,Mt.MAX_INDIVIDUAL_VARIANCE=.45,Mt.MIN_FINDER_PATTERN_RATIO=9.5/12,Mt.MAX_FINDER_PATTERN_RATIO=12.5/14;class oi{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof oi))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class is{constructor(t,r,i,s,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new oe(i,l)),this.resultPoints.push(new oe(s,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof is))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Dn{constructor(){}static getRSSvalue(t,r,i){let s=0;for(let h of t)s+=h;let l=0,u=0,f=t.length;for(let h=0;h<f-1;h++){let g;for(g=1,u|=1<<h;g<t[h];g++,u&=~(1<<h)){let x=Dn.combins(s-g-1,f-h-2);if(i&&u===0&&s-g-(f-h-1)>=f-h-1&&(x-=Dn.combins(s-g-(f-h),f-h-2)),f-h-1>1){let C=0;for(let A=s-g-(f-h-2);A>r;A--)C+=Dn.combins(s-g-A-1,f-h-3);x-=C*(f-1-h)}else s-g>r&&x--;l+=x}s-=g}return l}static combins(t,r){let i,s;t-r>r?(s=r,i=t-r):(s=t-r,i=r);let l=1,u=1;for(let f=t;f>i;f--)l*=f,u<=s&&(l/=u,u++);for(;u<=s;)l/=u,u++;return l}}class Jd{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let i=12*r,s=new _(i),l=0,f=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)f&1<<h&&s.set(l),l++;for(let h=1;h<t.length;++h){let g=t[h],x=g.getLeftChar().getValue();for(let C=11;C>=0;--C)x&1<<C&&s.set(l),l++;if(g.getRightChar()!=null){let C=g.getRightChar().getValue();for(let A=11;A>=0;--A)C&1<<A&&s.set(l),l++}}return s}}class Fr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Fl{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class jt extends Fl{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===jt.FNC1}}jt.FNC1="$";class Ur extends Fl{constructor(t,r,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class sn extends Fl{constructor(t,r,i){if(super(t),r<0||r>10||i<0||i>10)throw new B;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===sn.FNC1}isSecondDigitFNC1(){return this.secondDigit===sn.FNC1}isAnyFNC1(){return this.firstDigit===sn.FNC1||this.secondDigit===sn.FNC1}}sn.FNC1=10;class ne{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new j;let r=t.substring(0,2);for(let l of ne.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(2,l[2],t):ne.processFixedAI(2,l[1],t);if(t.length<3)throw new j;let i=t.substring(0,3);for(let l of ne.THREE_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(3,l[2],t):ne.processFixedAI(3,l[1],t);for(let l of ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,l[2],t):ne.processFixedAI(4,l[1],t);if(t.length<4)throw new j;let s=t.substring(0,4);for(let l of ne.FOUR_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,l[2],t):ne.processFixedAI(4,l[1],t);throw new j}static processFixedAI(t,r,i){if(i.length<t)throw new j;let s=i.substring(0,t);if(i.length<t+r)throw new j;let l=i.substring(t,t+r),u=i.substring(t+r),f="("+s+")"+l,h=ne.parseFieldsInGeneralPurpose(u);return h==null?f:f+h}static processVariableAI(t,r,i){let s=i.substring(0,t),l;i.length<t+r?l=i.length:l=t+r;let u=i.substring(t,l),f=i.substring(l),h="("+s+")"+u,g=ne.parseFieldsInGeneralPurpose(f);return g==null?h:h+g}}ne.VARIABLE_LENGTH=[],ne.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ne.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ne.VARIABLE_LENGTH,20],["22",ne.VARIABLE_LENGTH,29],["30",ne.VARIABLE_LENGTH,8],["37",ne.VARIABLE_LENGTH,8],["90",ne.VARIABLE_LENGTH,30],["91",ne.VARIABLE_LENGTH,30],["92",ne.VARIABLE_LENGTH,30],["93",ne.VARIABLE_LENGTH,30],["94",ne.VARIABLE_LENGTH,30],["95",ne.VARIABLE_LENGTH,30],["96",ne.VARIABLE_LENGTH,30],["97",ne.VARIABLE_LENGTH,3],["98",ne.VARIABLE_LENGTH,30],["99",ne.VARIABLE_LENGTH,30]],ne.THREE_DIGIT_DATA_LENGTH=[["240",ne.VARIABLE_LENGTH,30],["241",ne.VARIABLE_LENGTH,30],["242",ne.VARIABLE_LENGTH,6],["250",ne.VARIABLE_LENGTH,30],["251",ne.VARIABLE_LENGTH,30],["253",ne.VARIABLE_LENGTH,17],["254",ne.VARIABLE_LENGTH,20],["400",ne.VARIABLE_LENGTH,30],["401",ne.VARIABLE_LENGTH,30],["402",17],["403",ne.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ne.VARIABLE_LENGTH,20],["421",ne.VARIABLE_LENGTH,15],["422",3],["423",ne.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ne.VARIABLE_LENGTH,15],["391",ne.VARIABLE_LENGTH,18],["392",ne.VARIABLE_LENGTH,15],["393",ne.VARIABLE_LENGTH,18],["703",ne.VARIABLE_LENGTH,30]],ne.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ne.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ne.VARIABLE_LENGTH,20],["8003",ne.VARIABLE_LENGTH,30],["8004",ne.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ne.VARIABLE_LENGTH,30],["8008",ne.VARIABLE_LENGTH,12],["8018",18],["8020",ne.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ne.VARIABLE_LENGTH,70],["8200",ne.VARIABLE_LENGTH,70]];class si{constructor(t){this.buffer=new xe,this.information=t}decodeAllCodes(t,r){let i=r,s=null;do{let l=this.decodeGeneralPurposeField(i,s),u=ne.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&t.append(u),l.isRemaining()?s=""+l.getRemainingValue():s=null,i===l.getNewPosition())break;i=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new sn(this.information.getSize(),sn.FNC1,sn.FNC1):new sn(this.information.getSize(),l-1,sn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),i=(r-8)/11,s=(r-8)%11;return new sn(t+7,i,s)}extractNumericValueFromBitArray(t,r){return si.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,i){let s=0;for(let l=0;l<i;++l)t.get(r+l)&&(s|=1<<i-l-1);return s}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Ur(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Ur(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Ur(this.current.getPosition(),this.buffer.toString()):r=new Ur(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Fr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Ur(this.current.getPosition(),this.buffer.toString());return new Fr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Ur(this.current.getPosition(),this.buffer.toString());return new Fr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Ur(this.current.getPosition(),this.buffer.toString());return new Fr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new jt(t+5,jt.FNC1);if(r>=5&&r<15)return new jt(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new jt(t+7,""+(i+1));if(i>=90&&i<116)return new jt(t+7,""+(i+7));let s=this.extractNumericValueFromBitArray(t,8),l;switch(s){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new B}return new jt(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new jt(t+5,jt.FNC1);if(r>=5&&r<15)return new jt(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new jt(t+6,""+(i+33));let s;switch(i){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Rn("Decoding invalid alphanumeric value: "+i)}return new jt(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Oc{constructor(t){this.information=t,this.generalDecoder=new si(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ht extends Oc{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)}encodeCompressedGtinWithoutAI(t,r,i){for(let s=0;s<4;++s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*s,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Ht.appendCheckDigit(t,i)}static appendCheckDigit(t,r){let i=0;for(let s=0;s<13;s++){let l=t.charAt(s+r).charCodeAt(0)-48;i+=s&1?l:3*l}i=10-i%10,i===10&&(i=0),t.append(i)}}Ht.GTIN_SIZE=40;class li extends Ht{constructor(t){super(t)}parseInformation(){let t=new xe;t.append("(01)");let r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(li.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,li.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,li.HEADER_SIZE+44)}}li.HEADER_SIZE=4;class os extends Oc{constructor(t){super(t)}parseInformation(){let t=new xe;return this.getGeneralDecoder().decodeAllCodes(t,os.HEADER_SIZE)}}os.HEADER_SIZE=5;class ss extends Ht{constructor(t){super(t)}encodeCompressedWeight(t,r,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,s);let l=this.checkWeight(s),u=1e5;for(let f=0;f<5;++f)l/u===0&&t.append("0"),u/=10;t.append(l)}}class Ln extends ss{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Ln.HEADER_SIZE+ss.GTIN_SIZE+Ln.WEIGHT_SIZE)throw new j;let t=new xe;return this.encodeCompressedGtin(t,Ln.HEADER_SIZE),this.encodeCompressedWeight(t,Ln.HEADER_SIZE+ss.GTIN_SIZE,Ln.WEIGHT_SIZE),t.toString()}}Ln.HEADER_SIZE=5,Ln.WEIGHT_SIZE=15;class $d extends Ln{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class eh extends Ln{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class bn extends Ht{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<bn.HEADER_SIZE+Ht.GTIN_SIZE)throw new j;let t=new xe;this.encodeCompressedGtin(t,bn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(bn.HEADER_SIZE+Ht.GTIN_SIZE,bn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(bn.HEADER_SIZE+Ht.GTIN_SIZE+bn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}bn.HEADER_SIZE=8,bn.LAST_DIGIT_SIZE=2;class kt extends Ht{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<kt.HEADER_SIZE+Ht.GTIN_SIZE)throw new j;let t=new xe;this.encodeCompressedGtin(t,kt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(kt.HEADER_SIZE+Ht.GTIN_SIZE,kt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(kt.HEADER_SIZE+Ht.GTIN_SIZE+kt.LAST_DIGIT_SIZE,kt.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let s=this.getGeneralDecoder().decodeGeneralPurposeField(kt.HEADER_SIZE+Ht.GTIN_SIZE+kt.LAST_DIGIT_SIZE+kt.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}kt.HEADER_SIZE=8,kt.LAST_DIGIT_SIZE=2,kt.FIRST_THREE_DIGITS_SIZE=10;class Ge extends ss{constructor(t,r,i){super(t),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Ge.HEADER_SIZE+Ge.GTIN_SIZE+Ge.WEIGHT_SIZE+Ge.DATE_SIZE)throw new j;let t=new xe;return this.encodeCompressedGtin(t,Ge.HEADER_SIZE),this.encodeCompressedWeight(t,Ge.HEADER_SIZE+Ge.GTIN_SIZE,Ge.WEIGHT_SIZE),this.encodeCompressedDate(t,Ge.HEADER_SIZE+Ge.GTIN_SIZE+Ge.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Ge.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=i%32;i/=32;let l=i%12+1;i/=12;let u=i;u/10==0&&t.append("0"),t.append(u),l/10==0&&t.append("0"),t.append(l),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Ge.HEADER_SIZE=8,Ge.WEIGHT_SIZE=20,Ge.DATE_SIZE=16;function th(y){try{if(y.get(1))return new li(y);if(!y.get(2))return new os(y);switch(si.extractNumericValueFromBitArray(y,1,4)){case 4:return new $d(y);case 5:return new eh(y)}switch(si.extractNumericValueFromBitArray(y,1,5)){case 12:return new bn(y);case 13:return new kt(y)}switch(si.extractNumericValueFromBitArray(y,1,7)){case 56:return new Ge(y,"310","11");case 57:return new Ge(y,"320","11");case 58:return new Ge(y,"310","13");case 59:return new Ge(y,"320","13");case 60:return new Ge(y,"310","15");case 61:return new Ge(y,"320","15");case 62:return new Ge(y,"310","17");case 63:return new Ge(y,"320","17")}}catch(t){throw console.log(t),new Rn("unknown decoder: "+y)}}class sr{constructor(t,r,i,s){this.leftchar=t,this.rightchar=r,this.finderpattern=i,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof sr?sr.equalsOrNull(t.leftchar,r.leftchar)&&sr.equalsOrNull(t.rightchar,r.rightchar)&&sr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:sr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ul{constructor(t,r,i){this.pairs=t,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Ul?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let i;return t.forEach((s,l)=>{r.forEach(u=>{s.getLeftChar().getValue()===u.getLeftChar().getValue()&&s.getRightChar().getValue()===u.getRightChar().getValue()&&s.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(i=!0)})}),i}}class G extends Mt{constructor(t){super(...arguments),this.pairs=new Array(G.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return G.constructResult(this.decodeRow2pairs(t,r))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,G.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof j){if(!this.pairs.length)throw new j;i=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new j}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let i=r;i<this.rows.length;i++){let s=this.rows[i];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(s.getPairs()),!G.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(s);try{return this.checkRows(l,i+1)}catch(u){this.verbose&&console.log(u)}}throw new j}static isValidSequence(t){for(let r of G.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let i=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=r[s]){i=!1;break}if(i)return!0}return!1}storeRow(t,r){let i=0,s=!1,l=!1;for(;i<this.rows.length;){let u=this.rows[i];if(u.getRowNumber()>t){l=u.isEquivalent(this.pairs);break}s=u.isEquivalent(this.pairs),i++}l||s||G.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Ul(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let i of r)if(i.getPairs().length!==t.length){for(let s of i.getPairs())for(let l of t)if(sr.equals(s,l))break}}static isPartialRow(t,r){for(let i of r){let s=!0;for(let l of t){let u=!1;for(let f of i.getPairs())if(l.equals(f)){u=!0;break}if(!u){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=Jd.buildBitArray(t),s=th(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],u[0],u[1]];return new at(s,null,null,f,le.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let s=i.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let h=this.pairs.get(f);s+=h.getLeftChar().getChecksumPortion(),l++;let g=h.getRightChar();g!=null&&(s+=g.getChecksumPortion(),l++)}return s%=211,211*(l-4)+s==r.getValue()}static getNextSecondBar(t,r){let i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i}retrieveNextPair(t,r,i){let s=r.length%2==0;this.startFromEven&&(s=!s);let l,u=!0,f=-1;do this.findNextPair(t,r,f),l=this.parseFoundFinderPattern(t,i,s),l==null?f=G.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(t,l,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new j;let g;try{g=this.decodeDataCharacter(t,l,s,!1)}catch(x){g=null,this.verbose&&console.log(x)}return new sr(h,g,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),u;i>=0?u=i:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let f=r.length%2!=0;this.startFromEven&&(f=!f);let h=!1;for(;u<l&&(h=!t.get(u),!!h);)u++;let g=0,x=u;for(let C=u;C<l;C++)if(t.get(C)!=h)s[g]++;else{if(g==3){if(f&&G.reverseCounters(s),G.isFinderPattern(s)){this.startEnd[0]=x,this.startEnd[1]=C;return}f&&G.reverseCounters(s),x+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,g--}else g++;s[g]=1,h=!h}throw new j}static reverseCounters(t){let r=t.length;for(let i=0;i<r/2;++i){let s=t[i];t[i]=t[r-i-1],t[r-i-1]=s}}parseFoundFinderPattern(t,r,i){let s,l,u;if(i){let g=this.startEnd[0]-1;for(;g>=0&&!t.get(g);)g--;g++,s=this.startEnd[0]-g,l=g,u=this.startEnd[1]}else l=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),s=u-this.startEnd[1];let f=this.getDecodeFinderCounters();b.arraycopy(f,0,f,1,f.length-1),f[0]=s;let h;try{h=this.parseFinderValue(f,G.FINDER_PATTERNS)}catch{return null}return new is(h,[l,u],l,u,r)}decodeDataCharacter(t,r,i,s){let l=this.getDataCharacterCounters();for(let Pe=0;Pe<l.length;Pe++)l[Pe]=0;if(s)G.recordPatternInReverse(t,r.getStartEnd()[0],l);else{G.recordPattern(t,r.getStartEnd()[1],l);for(let Pe=0,It=l.length-1;Pe<It;Pe++,It--){let qt=l[Pe];l[Pe]=l[It],l[It]=qt}}let u=17,f=Te.sum(new Int32Array(l))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(f-h)/h>.3)throw new j;let g=this.getOddCounts(),x=this.getEvenCounts(),C=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Pe=0;Pe<l.length;Pe++){let It=1*l[Pe]/f,qt=It+.5;if(qt<1){if(It<.3)throw new j;qt=1}else if(qt>8){if(It>8.7)throw new j;qt=8}let di=Pe/2;Pe&1?(x[di]=qt,A[di]=It-qt):(g[di]=qt,C[di]=It-qt)}this.adjustOddEvenCounts(u);let T=4*r.getValue()+(i?0:2)+(s?0:1)-1,O=0,D=0;for(let Pe=g.length-1;Pe>=0;Pe--){if(G.isNotA1left(r,i,s)){let It=G.WEIGHTS[T][2*Pe];D+=g[Pe]*It}O+=g[Pe]}let L=0;for(let Pe=x.length-1;Pe>=0;Pe--)if(G.isNotA1left(r,i,s)){let It=G.WEIGHTS[T][2*Pe+1];L+=x[Pe]*It}let z=D+L;if(O&1||O>13||O<4)throw new j;let q=(13-O)/2,J=G.SYMBOL_WIDEST[q],Q=9-J,Se=Dn.getRSSvalue(g,J,!0),pe=Dn.getRSSvalue(x,Q,!1),Wt=G.EVEN_TOTAL_SUBSET[q],An=G.GSUM[q],Gt=Se*Wt+pe+An;return new oi(Gt,z)}static isNotA1left(t,r,i){return!(t.getValue()==0&&r&&i)}adjustOddEvenCounts(t){let r=Te.sum(new Int32Array(this.getOddCounts())),i=Te.sum(new Int32Array(this.getEvenCounts())),s=!1,l=!1;r>13?l=!0:r<4&&(s=!0);let u=!1,f=!1;i>13?f=!0:i<4&&(u=!0);let h=r+i-t,g=(r&1)==1,x=(i&1)==0;if(h==1)if(g){if(x)throw new j;l=!0}else{if(!x)throw new j;f=!0}else if(h==-1)if(g){if(x)throw new j;s=!0}else{if(!x)throw new j;u=!0}else if(h==0){if(g){if(!x)throw new j;r<i?(s=!0,f=!0):(l=!0,u=!0)}else if(x)throw new j}else throw new j;if(s){if(l)throw new j;G.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&G.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new j;G.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&G.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}G.SYMBOL_WIDEST=[7,5,4,3,1],G.EVEN_TOTAL_SUBSET=[4,20,52,104,204],G.GSUM=[0,348,1388,2948,3988],G.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],G.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],G.FINDER_PAT_A=0,G.FINDER_PAT_B=1,G.FINDER_PAT_C=2,G.FINDER_PAT_D=3,G.FINDER_PAT_E=4,G.FINDER_PAT_F=5,G.FINDER_PATTERN_SEQUENCES=[[G.FINDER_PAT_A,G.FINDER_PAT_A],[G.FINDER_PAT_A,G.FINDER_PAT_B,G.FINDER_PAT_B],[G.FINDER_PAT_A,G.FINDER_PAT_C,G.FINDER_PAT_B,G.FINDER_PAT_D],[G.FINDER_PAT_A,G.FINDER_PAT_E,G.FINDER_PAT_B,G.FINDER_PAT_D,G.FINDER_PAT_C],[G.FINDER_PAT_A,G.FINDER_PAT_E,G.FINDER_PAT_B,G.FINDER_PAT_D,G.FINDER_PAT_D,G.FINDER_PAT_F],[G.FINDER_PAT_A,G.FINDER_PAT_E,G.FINDER_PAT_B,G.FINDER_PAT_D,G.FINDER_PAT_E,G.FINDER_PAT_F,G.FINDER_PAT_F],[G.FINDER_PAT_A,G.FINDER_PAT_A,G.FINDER_PAT_B,G.FINDER_PAT_B,G.FINDER_PAT_C,G.FINDER_PAT_C,G.FINDER_PAT_D,G.FINDER_PAT_D],[G.FINDER_PAT_A,G.FINDER_PAT_A,G.FINDER_PAT_B,G.FINDER_PAT_B,G.FINDER_PAT_C,G.FINDER_PAT_C,G.FINDER_PAT_D,G.FINDER_PAT_E,G.FINDER_PAT_E],[G.FINDER_PAT_A,G.FINDER_PAT_A,G.FINDER_PAT_B,G.FINDER_PAT_B,G.FINDER_PAT_C,G.FINDER_PAT_C,G.FINDER_PAT_D,G.FINDER_PAT_E,G.FINDER_PAT_F,G.FINDER_PAT_F],[G.FINDER_PAT_A,G.FINDER_PAT_A,G.FINDER_PAT_B,G.FINDER_PAT_B,G.FINDER_PAT_C,G.FINDER_PAT_D,G.FINDER_PAT_D,G.FINDER_PAT_E,G.FINDER_PAT_E,G.FINDER_PAT_F,G.FINDER_PAT_F]],G.MAX_PAIRS=11;class nh extends oi{constructor(t,r,i){super(t,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class tt extends Mt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,i){const s=this.decodePair(r,!1,t,i);tt.addOrTally(this.possibleLeftPairs,s),r.reverse();let l=this.decodePair(r,!0,t,i);tt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&tt.checkChecksum(u,f))return tt.constructResult(u,f)}throw new j}static addOrTally(t,r){if(r==null)return;let i=!1;for(let s of t)if(s.getValue()===r.getValue()){s.incrementCount(),i=!0;break}i||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let i=4537077*t.getValue()+r.getValue(),s=new String(i).toString(),l=new xe;for(let g=13-s.length;g>0;g--)l.append("0");l.append(s);let u=0;for(let g=0;g<13;g++){let x=l.charAt(g).charCodeAt(0)-48;u+=g&1?x:3*x}u=10-u%10,u===10&&(u=0),l.append(u.toString());let f=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new at(l.toString(),null,0,[f[0],f[1],h[0],h[1]],le.RSS_14,new Date().getTime())}static checkChecksum(t,r){let i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s}decodePair(t,r,i,s){try{let l=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,i,r,l),f=s==null?null:s.get(Y.NEED_RESULT_POINT_CALLBACK);if(f!=null){let x=(l[0]+l[1])/2;r&&(x=t.getSize()-1-x),f.foundPossibleResultPoint(new oe(x,i))}let h=this.decodeDataCharacter(t,u,!0),g=this.decodeDataCharacter(t,u,!1);return new nh(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,i){let s=this.getDataCharacterCounters();for(let L=0;L<s.length;L++)s[L]=0;if(i)ut.recordPatternInReverse(t,r.getStartEnd()[0],s);else{ut.recordPattern(t,r.getStartEnd()[1]+1,s);for(let L=0,z=s.length-1;L<z;L++,z--){let q=s[L];s[L]=s[z],s[z]=q}}let l=i?16:15,u=Te.sum(new Int32Array(s))/l,f=this.getOddCounts(),h=this.getEvenCounts(),g=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors();for(let L=0;L<s.length;L++){let z=s[L]/u,q=Math.floor(z+.5);q<1?q=1:q>8&&(q=8);let J=Math.floor(L/2);L&1?(h[J]=q,x[J]=z-q):(f[J]=q,g[J]=z-q)}this.adjustOddEvenCounts(i,l);let C=0,A=0;for(let L=f.length-1;L>=0;L--)A*=9,A+=f[L],C+=f[L];let T=0,O=0;for(let L=h.length-1;L>=0;L--)T*=9,T+=h[L],O+=h[L];let D=A+3*T;if(i){if(C&1||C>12||C<4)throw new j;let L=(12-C)/2,z=tt.OUTSIDE_ODD_WIDEST[L],q=9-z,J=Dn.getRSSvalue(f,z,!1),Q=Dn.getRSSvalue(h,q,!0),Se=tt.OUTSIDE_EVEN_TOTAL_SUBSET[L],pe=tt.OUTSIDE_GSUM[L];return new oi(J*Se+Q+pe,D)}else{if(O&1||O>10||O<4)throw new j;let L=(10-O)/2,z=tt.INSIDE_ODD_WIDEST[L],q=9-z,J=Dn.getRSSvalue(f,z,!0),Q=Dn.getRSSvalue(h,q,!1),Se=tt.INSIDE_ODD_TOTAL_SUBSET[L],pe=tt.INSIDE_GSUM[L];return new oi(Q*Se+J+pe,D)}}findFinderPattern(t,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=t.getSize(),l=!1,u=0;for(;u<s&&(l=!t.get(u),r!==l);)u++;let f=0,h=u;for(let g=u;g<s;g++)if(t.get(g)!==l)i[f]++;else{if(f===3){if(Mt.isFinderPattern(i))return[h,g];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,l=!l}throw new j}parseFoundFinderPattern(t,r,i,s){let l=t.get(s[0]),u=s[0]-1;for(;u>=0&&l!==t.get(u);)u--;u++;const f=s[0]-u,h=this.getDecodeFinderCounters(),g=new Int32Array(h.length);b.arraycopy(h,0,g,1,h.length-1),g[0]=f;const x=this.parseFinderValue(g,tt.FINDER_PATTERNS);let C=u,A=s[1];return i&&(C=t.getSize()-1-C,A=t.getSize()-1-A),new is(x,[u,s[1]],C,A,r)}adjustOddEvenCounts(t,r){let i=Te.sum(new Int32Array(this.getOddCounts())),s=Te.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,f=!1,h=!1;t?(i>12?u=!0:i<4&&(l=!0),s>12?h=!0:s<4&&(f=!0)):(i>11?u=!0:i<5&&(l=!0),s>10?h=!0:s<4&&(f=!0));let g=i+s-r,x=(i&1)===(t?1:0),C=(s&1)===1;if(g===1)if(x){if(C)throw new j;u=!0}else{if(!C)throw new j;h=!0}else if(g===-1)if(x){if(C)throw new j;l=!0}else{if(!C)throw new j;f=!0}else if(g===0){if(x){if(!C)throw new j;i<s?(l=!0,h=!0):(u=!0,f=!0)}else if(C)throw new j}else throw new j;if(l){if(u)throw new j;Mt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Mt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new j;Mt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Mt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],tt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],tt.OUTSIDE_GSUM=[0,161,961,2015,2715],tt.INSIDE_GSUM=[0,336,1036,1516],tt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],tt.INSIDE_ODD_WIDEST=[2,4,6,8],tt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ai extends ut{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const i=t?t.get(Y.POSSIBLE_FORMATS):null,s=t&&t.get(Y.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i&&((i.includes(le.EAN_13)||i.includes(le.UPC_A)||i.includes(le.EAN_8)||i.includes(le.UPC_E))&&this.readers.push(new Pl(t)),i.includes(le.CODE_39)&&this.readers.push(new dt(s)),i.includes(le.CODE_128)&&this.readers.push(new $),i.includes(le.ITF)&&this.readers.push(new ke),i.includes(le.RSS_14)&&this.readers.push(new tt),i.includes(le.RSS_EXPANDED)&&this.readers.push(new G(this.verbose))),this.readers.length===0&&(this.readers.push(new Pl(t)),this.readers.push(new dt),this.readers.push(new Pl(t)),this.readers.push(new $),this.readers.push(new ke),this.readers.push(new tt),this.readers.push(new G(this.verbose)))}decodeRow(t,r,i){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,r,i)}catch{}throw new j}reset(){this.readers.forEach(t=>t.reset())}}class rh extends Fe{constructor(t=500,r){super(new ai(r),t,r)}}class Re{constructor(t,r,i){this.ecCodewords=t,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Oe{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ie{constructor(t,r,i,s,l,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=l,this.ecBlocks=u;let f=0;const h=u.getECCodewords(),g=u.getECBlocks();for(let x of g)f+=x.getCount()*(x.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new B;for(let i of Ie.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===r)return i;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new Ie(1,10,10,8,8,new Re(5,new Oe(1,3))),new Ie(2,12,12,10,10,new Re(7,new Oe(1,5))),new Ie(3,14,14,12,12,new Re(10,new Oe(1,8))),new Ie(4,16,16,14,14,new Re(12,new Oe(1,12))),new Ie(5,18,18,16,16,new Re(14,new Oe(1,18))),new Ie(6,20,20,18,18,new Re(18,new Oe(1,22))),new Ie(7,22,22,20,20,new Re(20,new Oe(1,30))),new Ie(8,24,24,22,22,new Re(24,new Oe(1,36))),new Ie(9,26,26,24,24,new Re(28,new Oe(1,44))),new Ie(10,32,32,14,14,new Re(36,new Oe(1,62))),new Ie(11,36,36,16,16,new Re(42,new Oe(1,86))),new Ie(12,40,40,18,18,new Re(48,new Oe(1,114))),new Ie(13,44,44,20,20,new Re(56,new Oe(1,144))),new Ie(14,48,48,22,22,new Re(68,new Oe(1,174))),new Ie(15,52,52,24,24,new Re(42,new Oe(2,102))),new Ie(16,64,64,14,14,new Re(56,new Oe(2,140))),new Ie(17,72,72,16,16,new Re(36,new Oe(4,92))),new Ie(18,80,80,18,18,new Re(48,new Oe(4,114))),new Ie(19,88,88,20,20,new Re(56,new Oe(4,144))),new Ie(20,96,96,22,22,new Re(68,new Oe(4,174))),new Ie(21,104,104,24,24,new Re(56,new Oe(6,136))),new Ie(22,120,120,18,18,new Re(68,new Oe(6,175))),new Ie(23,132,132,20,20,new Re(62,new Oe(8,163))),new Ie(24,144,144,22,22,new Re(62,new Oe(8,156),new Oe(2,155))),new Ie(25,8,18,6,16,new Re(7,new Oe(1,5))),new Ie(26,8,32,6,14,new Re(11,new Oe(1,10))),new Ie(27,12,26,10,24,new Re(14,new Oe(1,16))),new Ie(28,12,36,10,16,new Re(18,new Oe(1,22))),new Ie(29,16,36,14,16,new Re(24,new Oe(1,32))),new Ie(30,16,48,14,22,new Re(28,new Oe(1,49)))]}}Ie.VERSIONS=Ie.buildVersions();class zl{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new B;this.version=zl.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),i=t.getWidth();return Ie.getVersionForDimensions(r,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,s=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let f=!1,h=!1,g=!1,x=!1;do if(i===l&&s===0&&!f)t[r++]=this.readCorner1(l,u)&255,i-=2,s+=2,f=!0;else if(i===l-2&&s===0&&u&3&&!h)t[r++]=this.readCorner2(l,u)&255,i-=2,s+=2,h=!0;else if(i===l+4&&s===2&&!(u&7)&&!g)t[r++]=this.readCorner3(l,u)&255,i-=2,s+=2,g=!0;else if(i===l-2&&s===0&&(u&7)===4&&!x)t[r++]=this.readCorner4(l,u)&255,i-=2,s+=2,x=!0;else{do i<l&&s>=0&&!this.readMappingMatrix.get(s,i)&&(t[r++]=this.readUtah(i,s,l,u)&255),i-=2,s+=2;while(i>=0&&s<u);i+=1,s+=3;do i>=0&&s<u&&!this.readMappingMatrix.get(s,i)&&(t[r++]=this.readUtah(i,s,l,u)&255),i+=2,s-=2;while(i<l&&s>=0);i+=3,s+=1}while(i<l||s<u);if(r!==this.version.getTotalCodewords())throw new B;return t}readModule(t,r,i,s){return t<0&&(t+=i,r+=4-(i+4&7)),r<0&&(r+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,i,s){let l=0;return this.readModule(t-2,r-2,i,s)&&(l|=1),l<<=1,this.readModule(t-2,r-1,i,s)&&(l|=1),l<<=1,this.readModule(t-1,r-2,i,s)&&(l|=1),l<<=1,this.readModule(t-1,r-1,i,s)&&(l|=1),l<<=1,this.readModule(t-1,r,i,s)&&(l|=1),l<<=1,this.readModule(t,r-2,i,s)&&(l|=1),l<<=1,this.readModule(t,r-1,i,s)&&(l|=1),l<<=1,this.readModule(t,r,i,s)&&(l|=1),l}readCorner1(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,1,t,r)&&(i|=1),i<<=1,this.readModule(t-1,2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}readCorner2(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-4,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner3(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-3,t,r)&&(i|=1),i<<=1,this.readModule(1,r-2,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner4(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new S("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/s|0,f=i/l|0,h=u*s,g=f*l,x=new be(g,h);for(let C=0;C<u;++C){const A=C*s;for(let T=0;T<f;++T){const O=T*l;for(let D=0;D<s;++D){const L=C*(s+2)+1+D,z=A+D;for(let q=0;q<l;++q){const J=T*(l+2)+1+q;if(t.get(J,L)){const Q=O+q;x.set(Q,z)}}}}}return x}}class jl{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const i=r.getECBlocks();let s=0;const l=i.getECBlocks();for(let D of l)s+=D.getCount();const u=new Array(s);let f=0;for(let D of l)for(let L=0;L<D.getCount();L++){const z=D.getDataCodewords(),q=i.getECCodewords()+z;u[f++]=new jl(z,new Uint8Array(q))}const g=u[0].codewords.length-i.getECCodewords(),x=g-1;let C=0;for(let D=0;D<x;D++)for(let L=0;L<f;L++)u[L].codewords[D]=t[C++];const A=r.getVersionNumber()===24,T=A?8:f;for(let D=0;D<T;D++)u[D].codewords[g-1]=t[C++];const O=u[0].codewords.length;for(let D=g;D<O;D++)for(let L=0;L<f;L++){const z=A?(L+8)%f:L,q=A&&z>7?D-1:D;u[z].codewords[q]=t[C++]}if(C!==t.length)throw new S;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Hl{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new S(""+t);let r=0,i=this.bitOffset,s=this.byteOffset;const l=this.bytes;if(i>0){const u=8-i,f=t<u?t:u,h=u-f,g=255>>8-f<<h;r=(l[s]&g)>>h,t-=f,i+=f,i===8&&(i=0,s++)}if(t>0){for(;t>=8;)r=r<<8|l[s]&255,s++,t-=8;if(t>0){const u=8-t,f=255>>u<<u;r=r<<t|(l[s]&f)>>u,i+=t}}return this.bitOffset=i,this.byteOffset=s,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ht;(function(y){y[y.PAD_ENCODE=0]="PAD_ENCODE",y[y.ASCII_ENCODE=1]="ASCII_ENCODE",y[y.C40_ENCODE=2]="C40_ENCODE",y[y.TEXT_ENCODE=3]="TEXT_ENCODE",y[y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",y[y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",y[y.BASE256_ENCODE=6]="BASE256_ENCODE"})(ht||(ht={}));class lr{static decode(t){const r=new Hl(t),i=new xe,s=new xe,l=new Array;let u=ht.ASCII_ENCODE;do if(u===ht.ASCII_ENCODE)u=this.decodeAsciiSegment(r,i,s);else{switch(u){case ht.C40_ENCODE:this.decodeC40Segment(r,i);break;case ht.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case ht.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case ht.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case ht.BASE256_ENCODE:this.decodeBase256Segment(r,i,l);break;default:throw new B}u=ht.ASCII_ENCODE}while(u!==ht.PAD_ENCODE&&r.available()>0);return s.length()>0&&i.append(s.toString()),new Gi(t,i.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,i){let s=!1;do{let l=t.readBits(8);if(l===0)throw new B;if(l<=128)return s&&(l+=128),r.append(String.fromCharCode(l-1)),ht.ASCII_ENCODE;if(l===129)return ht.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return ht.C40_ENCODE;case 231:return ht.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return ht.ANSIX12_ENCODE;case 239:return ht.TEXT_ENCODE;case 240:return ht.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new B;break}}while(t.available()>0);return ht.ASCII_ENCODE}static decodeC40Segment(t,r){let i=!1;const s=[];let l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),s);for(let f=0;f<3;f++){const h=s[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else throw new B;break;case 1:i?(r.append(String.fromCharCode(h+128)),i=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:i=!0;break;default:throw new B}l=0;break;case 3:i?(r.append(String.fromCharCode(h+224)),i=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new B}}}while(t.available()>0)}static decodeTextSegment(t,r){let i=!1,s=[],l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),s);for(let f=0;f<3;f++){const h=s[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else throw new B;break;case 1:i?(r.append(String.fromCharCode(h+128)),i=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:i=!0;break;default:throw new B}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g),l=0}else throw new B;break;default:throw new B}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const i=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),i);for(let l=0;l<3;l++){const u=i[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new B;break}}}while(t.available()>0)}static parseTwoBytes(t,r,i){let s=(t<<8)+r-1,l=Math.floor(s/1600);i[0]=l,s-=l*1600,l=Math.floor(s/40),i[1]=l,i[2]=s-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let s=t.readBits(6);if(s===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}s&32||(s|=64),r.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,r,i){let s=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),s++);let u;if(l===0?u=t.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(t.readBits(8),s++),u<0)throw new B;const f=new Uint8Array(u);for(let h=0;h<u;h++){if(t.available()<8)throw new B;f[h]=this.unrandomize255State(t.readBits(8),s++)}i.push(f);try{r.append(se.decode(f,te.ISO88591))}catch(h){throw new Rn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,r){const i=149*r%255+1,s=t-i;return s>=0?s:s+256}}lr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],lr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],lr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],lr.TEXT_SHIFT2_SET_CHARS=lr.C40_SHIFT2_SET_CHARS,lr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ih{constructor(){this.rsDecoder=new Xi(_e.DATA_MATRIX_FIELD_256)}decode(t){const r=new zl(t),i=r.getVersion(),s=r.readCodewords(),l=jl.getDataBlocks(s,i);let u=0;for(let g of l)u+=g.getNumDataCodewords();const f=new Uint8Array(u),h=l.length;for(let g=0;g<h;g++){const x=l[g],C=x.getCodewords(),A=x.getNumDataCodewords();this.correctErrors(C,A);for(let T=0;T<A;T++)f[T*h+g]=C[T]}return lr.decode(f)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new M}for(let s=0;s<r;s++)t[s]=i[s]}}class ot{constructor(t){this.image=t,this.rectangleDetector=new Yn(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new j;r=this.shiftToModuleCenter(r);const i=r[0],s=r[1],l=r[2],u=r[3];let f=this.transitionsBetween(i,u)+1,h=this.transitionsBetween(l,u)+1;(f&1)===1&&(f+=1),(h&1)===1&&(h+=1),4*f<7*h&&4*h<7*f&&(f=h=Math.max(f,h));let g=ot.sampleGrid(this.image,i,s,l,u,f,h);return new ns(g,[i,s,l,u])}static shiftPoint(t,r,i){let s=(r.getX()-t.getX())/(i+1),l=(r.getY()-t.getY())/(i+1);return new oe(t.getX()+s,t.getY()+l)}static moveAway(t,r,i){let s=t.getX(),l=t.getY();return s<r?s-=1:s+=1,l<i?l-=1:l+=1,new oe(s,l)}detectSolid1(t){let r=t[0],i=t[1],s=t[3],l=t[2],u=this.transitionsBetween(r,i),f=this.transitionsBetween(i,s),h=this.transitionsBetween(s,l),g=this.transitionsBetween(l,r),x=u,C=[l,r,i,s];return x>f&&(x=f,C[0]=r,C[1]=i,C[2]=s,C[3]=l),x>h&&(x=h,C[0]=i,C[1]=s,C[2]=l,C[3]=r),x>g&&(C[0]=s,C[1]=l,C[2]=r,C[3]=i),C}detectSolid2(t){let r=t[0],i=t[1],s=t[2],l=t[3],u=this.transitionsBetween(r,l),f=ot.shiftPoint(i,s,(u+1)*4),h=ot.shiftPoint(s,i,(u+1)*4),g=this.transitionsBetween(f,r),x=this.transitionsBetween(h,l);return g<x?(t[0]=r,t[1]=i,t[2]=s,t[3]=l):(t[0]=i,t[1]=s,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],i=t[1],s=t[2],l=t[3],u=this.transitionsBetween(r,l),f=this.transitionsBetween(i,l),h=ot.shiftPoint(r,i,(f+1)*4),g=ot.shiftPoint(s,i,(u+1)*4);u=this.transitionsBetween(h,l),f=this.transitionsBetween(g,l);let x=new oe(l.getX()+(s.getX()-i.getX())/(u+1),l.getY()+(s.getY()-i.getY())/(u+1)),C=new oe(l.getX()+(r.getX()-i.getX())/(f+1),l.getY()+(r.getY()-i.getY())/(f+1));if(!this.isValid(x))return this.isValid(C)?C:null;if(!this.isValid(C))return x;let A=this.transitionsBetween(h,x)+this.transitionsBetween(g,x),T=this.transitionsBetween(h,C)+this.transitionsBetween(g,C);return A>T?x:C}shiftToModuleCenter(t){let r=t[0],i=t[1],s=t[2],l=t[3],u=this.transitionsBetween(r,l)+1,f=this.transitionsBetween(s,l)+1,h=ot.shiftPoint(r,i,f*4),g=ot.shiftPoint(s,i,u*4);u=this.transitionsBetween(h,l)+1,f=this.transitionsBetween(g,l)+1,(u&1)===1&&(u+=1),(f&1)===1&&(f+=1);let x=(r.getX()+i.getX()+s.getX()+l.getX())/4,C=(r.getY()+i.getY()+s.getY()+l.getY())/4;r=ot.moveAway(r,x,C),i=ot.moveAway(i,x,C),s=ot.moveAway(s,x,C),l=ot.moveAway(l,x,C);let A,T;return h=ot.shiftPoint(r,i,f*4),h=ot.shiftPoint(h,l,u*4),A=ot.shiftPoint(i,r,f*4),A=ot.shiftPoint(A,s,u*4),g=ot.shiftPoint(s,l,f*4),g=ot.shiftPoint(g,i,u*4),T=ot.shiftPoint(l,s,f*4),T=ot.shiftPoint(T,r,u*4),[h,A,g,T]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,i,s,l,u,f){return or.getInstance().sampleGrid(t,u,f,.5,.5,u-.5,.5,u-.5,f-.5,.5,f-.5,r.getX(),r.getY(),l.getX(),l.getY(),s.getX(),s.getY(),i.getX(),i.getY())}transitionsBetween(t,r){let i=Math.trunc(t.getX()),s=Math.trunc(t.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),f=Math.abs(u-s)>Math.abs(l-i);if(f){let D=i;i=s,s=D,D=l,l=u,u=D}let h=Math.abs(l-i),g=Math.abs(u-s),x=-h/2,C=s<u?1:-1,A=i<l?1:-1,T=0,O=this.image.get(f?s:i,f?i:s);for(let D=i,L=s;D!==l;D+=A){let z=this.image.get(f?L:D,f?D:L);if(z!==O&&(T++,O=z),x+=g,x>0){if(L===u)break;L+=C,x-=h}}return T}}class ar{constructor(){this.decoder=new ih}decode(t,r=null){let i,s;if(r!=null&&r.has(Y.PURE_BARCODE)){const g=ar.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(g),s=ar.NO_POINTS}else{const g=new ot(t.getBlackMatrix()).detect();i=this.decoder.decode(g.getBits()),s=g.getPoints()}const l=i.getRawBytes(),u=new at(i.getText(),l,8*l.length,s,le.DATA_MATRIX,b.currentTimeMillis()),f=i.getByteSegments();f!=null&&u.putMetadata(Qe.BYTE_SEGMENTS,f);const h=i.getECLevel();return h!=null&&u.putMetadata(Qe.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r==null||i==null)throw new j;const s=this.moduleSize(r,t);let l=r[1];const u=i[1];let f=r[0];const g=(i[0]-f+1)/s,x=(u-l+1)/s;if(g<=0||x<=0)throw new j;const C=s/2;l+=C,f+=C;const A=new be(g,x);for(let T=0;T<x;T++){const O=l+T*s;for(let D=0;D<g;D++)t.get(f+D*s,O)&&A.set(D,T)}return A}static moduleSize(t,r){const i=r.getWidth();let s=t[0];const l=t[1];for(;s<i&&r.get(s,l);)s++;if(s===i)throw new j;const u=s-t[0];if(u===0)throw new j;return u}}ar.NO_POINTS=[];class oh extends Fe{constructor(t=500){super(new ar,t)}}var ui;(function(y){y[y.L=0]="L",y[y.M=1]="M",y[y.Q=2]="Q",y[y.H=3]="H"})(ui||(ui={}));class ze{constructor(t,r,i){this.value=t,this.stringValue=r,this.bits=i,ze.FOR_BITS.set(i,this),ze.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return ze.L;case"M":return ze.M;case"Q":return ze.Q;case"H":return ze.H;default:throw new w(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof ze))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=ze.FOR_BITS.size)throw new S;return ze.FOR_BITS.get(t)}}ze.FOR_BITS=new Map,ze.FOR_VALUE=new Map,ze.L=new ze(ui.L,"L",1),ze.M=new ze(ui.M,"M",0),ze.Q=new ze(ui.Q,"Q",3),ze.H=new ze(ui.H,"H",2);class _t{constructor(t){this.errorCorrectionLevel=ze.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return v.bitCount(t^r)}static decodeFormatInformation(t,r){const i=_t.doDecodeFormatInformation(t,r);return i!==null?i:_t.doDecodeFormatInformation(t^_t.FORMAT_INFO_MASK_QR,r^_t.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let i=Number.MAX_SAFE_INTEGER,s=0;for(const l of _t.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===t||u===r)return new _t(l[1]);let f=_t.numBitsDiffering(t,u);f<i&&(s=l[1],i=f),t!==r&&(f=_t.numBitsDiffering(r,u),f<i&&(s=l[1],i=f))}return i<=3?new _t(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof _t))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}_t.FORMAT_INFO_MASK_QR=21522,_t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class k{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const i of r)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class I{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ae{constructor(t,r,...i){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;let s=0;const l=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();for(const f of u)s+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new B;try{return this.getVersionForNumber((t-17)/4)}catch{throw new B}}static getVersionForNumber(t){if(t<1||t>40)throw new S;return ae.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,i=0;for(let s=0;s<ae.VERSION_DECODE_INFO.length;s++){const l=ae.VERSION_DECODE_INFO[s];if(l===t)return ae.getVersionForNumber(s+7);const u=_t.numBitsDiffering(t,l);u<r&&(i=s+7,r=u)}return r<=3?ae.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new be(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let s=0;s<i;s++){const l=this.alignmentPatternCenters[s]-2;for(let u=0;u<i;u++)s===0&&(u===0||u===i-1)||s===i-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}ae.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ae.VERSIONS=[new ae(1,new Int32Array(0),new k(7,new I(1,19)),new k(10,new I(1,16)),new k(13,new I(1,13)),new k(17,new I(1,9))),new ae(2,Int32Array.from([6,18]),new k(10,new I(1,34)),new k(16,new I(1,28)),new k(22,new I(1,22)),new k(28,new I(1,16))),new ae(3,Int32Array.from([6,22]),new k(15,new I(1,55)),new k(26,new I(1,44)),new k(18,new I(2,17)),new k(22,new I(2,13))),new ae(4,Int32Array.from([6,26]),new k(20,new I(1,80)),new k(18,new I(2,32)),new k(26,new I(2,24)),new k(16,new I(4,9))),new ae(5,Int32Array.from([6,30]),new k(26,new I(1,108)),new k(24,new I(2,43)),new k(18,new I(2,15),new I(2,16)),new k(22,new I(2,11),new I(2,12))),new ae(6,Int32Array.from([6,34]),new k(18,new I(2,68)),new k(16,new I(4,27)),new k(24,new I(4,19)),new k(28,new I(4,15))),new ae(7,Int32Array.from([6,22,38]),new k(20,new I(2,78)),new k(18,new I(4,31)),new k(18,new I(2,14),new I(4,15)),new k(26,new I(4,13),new I(1,14))),new ae(8,Int32Array.from([6,24,42]),new k(24,new I(2,97)),new k(22,new I(2,38),new I(2,39)),new k(22,new I(4,18),new I(2,19)),new k(26,new I(4,14),new I(2,15))),new ae(9,Int32Array.from([6,26,46]),new k(30,new I(2,116)),new k(22,new I(3,36),new I(2,37)),new k(20,new I(4,16),new I(4,17)),new k(24,new I(4,12),new I(4,13))),new ae(10,Int32Array.from([6,28,50]),new k(18,new I(2,68),new I(2,69)),new k(26,new I(4,43),new I(1,44)),new k(24,new I(6,19),new I(2,20)),new k(28,new I(6,15),new I(2,16))),new ae(11,Int32Array.from([6,30,54]),new k(20,new I(4,81)),new k(30,new I(1,50),new I(4,51)),new k(28,new I(4,22),new I(4,23)),new k(24,new I(3,12),new I(8,13))),new ae(12,Int32Array.from([6,32,58]),new k(24,new I(2,92),new I(2,93)),new k(22,new I(6,36),new I(2,37)),new k(26,new I(4,20),new I(6,21)),new k(28,new I(7,14),new I(4,15))),new ae(13,Int32Array.from([6,34,62]),new k(26,new I(4,107)),new k(22,new I(8,37),new I(1,38)),new k(24,new I(8,20),new I(4,21)),new k(22,new I(12,11),new I(4,12))),new ae(14,Int32Array.from([6,26,46,66]),new k(30,new I(3,115),new I(1,116)),new k(24,new I(4,40),new I(5,41)),new k(20,new I(11,16),new I(5,17)),new k(24,new I(11,12),new I(5,13))),new ae(15,Int32Array.from([6,26,48,70]),new k(22,new I(5,87),new I(1,88)),new k(24,new I(5,41),new I(5,42)),new k(30,new I(5,24),new I(7,25)),new k(24,new I(11,12),new I(7,13))),new ae(16,Int32Array.from([6,26,50,74]),new k(24,new I(5,98),new I(1,99)),new k(28,new I(7,45),new I(3,46)),new k(24,new I(15,19),new I(2,20)),new k(30,new I(3,15),new I(13,16))),new ae(17,Int32Array.from([6,30,54,78]),new k(28,new I(1,107),new I(5,108)),new k(28,new I(10,46),new I(1,47)),new k(28,new I(1,22),new I(15,23)),new k(28,new I(2,14),new I(17,15))),new ae(18,Int32Array.from([6,30,56,82]),new k(30,new I(5,120),new I(1,121)),new k(26,new I(9,43),new I(4,44)),new k(28,new I(17,22),new I(1,23)),new k(28,new I(2,14),new I(19,15))),new ae(19,Int32Array.from([6,30,58,86]),new k(28,new I(3,113),new I(4,114)),new k(26,new I(3,44),new I(11,45)),new k(26,new I(17,21),new I(4,22)),new k(26,new I(9,13),new I(16,14))),new ae(20,Int32Array.from([6,34,62,90]),new k(28,new I(3,107),new I(5,108)),new k(26,new I(3,41),new I(13,42)),new k(30,new I(15,24),new I(5,25)),new k(28,new I(15,15),new I(10,16))),new ae(21,Int32Array.from([6,28,50,72,94]),new k(28,new I(4,116),new I(4,117)),new k(26,new I(17,42)),new k(28,new I(17,22),new I(6,23)),new k(30,new I(19,16),new I(6,17))),new ae(22,Int32Array.from([6,26,50,74,98]),new k(28,new I(2,111),new I(7,112)),new k(28,new I(17,46)),new k(30,new I(7,24),new I(16,25)),new k(24,new I(34,13))),new ae(23,Int32Array.from([6,30,54,78,102]),new k(30,new I(4,121),new I(5,122)),new k(28,new I(4,47),new I(14,48)),new k(30,new I(11,24),new I(14,25)),new k(30,new I(16,15),new I(14,16))),new ae(24,Int32Array.from([6,28,54,80,106]),new k(30,new I(6,117),new I(4,118)),new k(28,new I(6,45),new I(14,46)),new k(30,new I(11,24),new I(16,25)),new k(30,new I(30,16),new I(2,17))),new ae(25,Int32Array.from([6,32,58,84,110]),new k(26,new I(8,106),new I(4,107)),new k(28,new I(8,47),new I(13,48)),new k(30,new I(7,24),new I(22,25)),new k(30,new I(22,15),new I(13,16))),new ae(26,Int32Array.from([6,30,58,86,114]),new k(28,new I(10,114),new I(2,115)),new k(28,new I(19,46),new I(4,47)),new k(28,new I(28,22),new I(6,23)),new k(30,new I(33,16),new I(4,17))),new ae(27,Int32Array.from([6,34,62,90,118]),new k(30,new I(8,122),new I(4,123)),new k(28,new I(22,45),new I(3,46)),new k(30,new I(8,23),new I(26,24)),new k(30,new I(12,15),new I(28,16))),new ae(28,Int32Array.from([6,26,50,74,98,122]),new k(30,new I(3,117),new I(10,118)),new k(28,new I(3,45),new I(23,46)),new k(30,new I(4,24),new I(31,25)),new k(30,new I(11,15),new I(31,16))),new ae(29,Int32Array.from([6,30,54,78,102,126]),new k(30,new I(7,116),new I(7,117)),new k(28,new I(21,45),new I(7,46)),new k(30,new I(1,23),new I(37,24)),new k(30,new I(19,15),new I(26,16))),new ae(30,Int32Array.from([6,26,52,78,104,130]),new k(30,new I(5,115),new I(10,116)),new k(28,new I(19,47),new I(10,48)),new k(30,new I(15,24),new I(25,25)),new k(30,new I(23,15),new I(25,16))),new ae(31,Int32Array.from([6,30,56,82,108,134]),new k(30,new I(13,115),new I(3,116)),new k(28,new I(2,46),new I(29,47)),new k(30,new I(42,24),new I(1,25)),new k(30,new I(23,15),new I(28,16))),new ae(32,Int32Array.from([6,34,60,86,112,138]),new k(30,new I(17,115)),new k(28,new I(10,46),new I(23,47)),new k(30,new I(10,24),new I(35,25)),new k(30,new I(19,15),new I(35,16))),new ae(33,Int32Array.from([6,30,58,86,114,142]),new k(30,new I(17,115),new I(1,116)),new k(28,new I(14,46),new I(21,47)),new k(30,new I(29,24),new I(19,25)),new k(30,new I(11,15),new I(46,16))),new ae(34,Int32Array.from([6,34,62,90,118,146]),new k(30,new I(13,115),new I(6,116)),new k(28,new I(14,46),new I(23,47)),new k(30,new I(44,24),new I(7,25)),new k(30,new I(59,16),new I(1,17))),new ae(35,Int32Array.from([6,30,54,78,102,126,150]),new k(30,new I(12,121),new I(7,122)),new k(28,new I(12,47),new I(26,48)),new k(30,new I(39,24),new I(14,25)),new k(30,new I(22,15),new I(41,16))),new ae(36,Int32Array.from([6,24,50,76,102,128,154]),new k(30,new I(6,121),new I(14,122)),new k(28,new I(6,47),new I(34,48)),new k(30,new I(46,24),new I(10,25)),new k(30,new I(2,15),new I(64,16))),new ae(37,Int32Array.from([6,28,54,80,106,132,158]),new k(30,new I(17,122),new I(4,123)),new k(28,new I(29,46),new I(14,47)),new k(30,new I(49,24),new I(10,25)),new k(30,new I(24,15),new I(46,16))),new ae(38,Int32Array.from([6,32,58,84,110,136,162]),new k(30,new I(4,122),new I(18,123)),new k(28,new I(13,46),new I(32,47)),new k(30,new I(48,24),new I(14,25)),new k(30,new I(42,15),new I(32,16))),new ae(39,Int32Array.from([6,26,54,82,110,138,166]),new k(30,new I(20,117),new I(4,118)),new k(28,new I(40,47),new I(7,48)),new k(30,new I(43,24),new I(22,25)),new k(30,new I(10,15),new I(67,16))),new ae(40,Int32Array.from([6,30,58,86,114,142,170]),new k(30,new I(19,118),new I(6,119)),new k(28,new I(18,47),new I(31,48)),new k(30,new I(34,24),new I(34,25)),new k(30,new I(20,15),new I(61,16)))];var mt;(function(y){y[y.DATA_MASK_000=0]="DATA_MASK_000",y[y.DATA_MASK_001=1]="DATA_MASK_001",y[y.DATA_MASK_010=2]="DATA_MASK_010",y[y.DATA_MASK_011=3]="DATA_MASK_011",y[y.DATA_MASK_100=4]="DATA_MASK_100",y[y.DATA_MASK_101=5]="DATA_MASK_101",y[y.DATA_MASK_110=6]="DATA_MASK_110",y[y.DATA_MASK_111=7]="DATA_MASK_111"})(mt||(mt={}));class ln{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let i=0;i<r;i++)for(let s=0;s<r;s++)this.isMasked(i,s)&&t.flip(s,i)}}ln.values=new Map([[mt.DATA_MASK_000,new ln(mt.DATA_MASK_000,(y,t)=>(y+t&1)===0)],[mt.DATA_MASK_001,new ln(mt.DATA_MASK_001,(y,t)=>(y&1)===0)],[mt.DATA_MASK_010,new ln(mt.DATA_MASK_010,(y,t)=>t%3===0)],[mt.DATA_MASK_011,new ln(mt.DATA_MASK_011,(y,t)=>(y+t)%3===0)],[mt.DATA_MASK_100,new ln(mt.DATA_MASK_100,(y,t)=>(Math.floor(y/2)+Math.floor(t/3)&1)===0)],[mt.DATA_MASK_101,new ln(mt.DATA_MASK_101,(y,t)=>y*t%6===0)],[mt.DATA_MASK_110,new ln(mt.DATA_MASK_110,(y,t)=>y*t%6<3)],[mt.DATA_MASK_111,new ln(mt.DATA_MASK_111,(y,t)=>(y+t+y*t%3&1)===0)]]);class sh{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new B;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let i=0;const s=r-7;for(let l=r-1;l>=s;l--)i=this.copyBit(8,l,i);for(let l=r-8;l<r;l++)i=this.copyBit(l,8,i);if(this.parsedFormatInfo=_t.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return ae.getVersionForNumber(r);let i=0;const s=t-11;for(let u=5;u>=0;u--)for(let f=t-9;f>=s;f--)i=this.copyBit(f,u,i);let l=ae.decodeVersionInformation(i);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;i=0;for(let u=5;u>=0;u--)for(let f=t-9;f>=s;f--)i=this.copyBit(u,f,i);if(l=ae.decodeVersionInformation(i),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new B}copyBit(t,r,i){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),i=ln.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,s);const l=r.buildFunctionPattern();let u=!0;const f=new Uint8Array(r.getTotalCodewords());let h=0,g=0,x=0;for(let C=s-1;C>0;C-=2){C===6&&C--;for(let A=0;A<s;A++){const T=u?s-1-A:A;for(let O=0;O<2;O++)l.get(C-O,T)||(x++,g<<=1,this.bitMatrix.get(C-O,T)&&(g|=1),x===8&&(f[h++]=g,x=0,g=0))}u=!u}if(h!==r.getTotalCodewords())throw new B;return f}remask(){if(this.parsedFormatInfo===null)return;const t=ln.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,i=t.getWidth();r<i;r++)for(let s=r+1,l=t.getHeight();s<l;s++)t.get(r,s)!==t.get(s,r)&&(t.flip(s,r),t.flip(r,s))}}class Vl{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,i){if(t.length!==r.getTotalCodewords())throw new S;const s=r.getECBlocksForLevel(i);let l=0;const u=s.getECBlocks();for(const O of u)l+=O.getCount();const f=new Array(l);let h=0;for(const O of u)for(let D=0;D<O.getCount();D++){const L=O.getDataCodewords(),z=s.getECCodewordsPerBlock()+L;f[h++]=new Vl(L,new Uint8Array(z))}const g=f[0].codewords.length;let x=f.length-1;for(;x>=0&&f[x].codewords.length!==g;)x--;x++;const C=g-s.getECCodewordsPerBlock();let A=0;for(let O=0;O<C;O++)for(let D=0;D<h;D++)f[D].codewords[O]=t[A++];for(let O=x;O<h;O++)f[O].codewords[C]=t[A++];const T=f[0].codewords.length;for(let O=C;O<T;O++)for(let D=0;D<h;D++){const L=D<x?O:O+1;f[D].codewords[L]=t[A++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var an;(function(y){y[y.TERMINATOR=0]="TERMINATOR",y[y.NUMERIC=1]="NUMERIC",y[y.ALPHANUMERIC=2]="ALPHANUMERIC",y[y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",y[y.BYTE=4]="BYTE",y[y.ECI=5]="ECI",y[y.KANJI=6]="KANJI",y[y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",y[y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",y[y.HANZI=9]="HANZI"})(an||(an={}));class ue{constructor(t,r,i,s){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=s,ue.FOR_BITS.set(s,this),ue.FOR_VALUE.set(t,this)}static forBits(t){const r=ue.FOR_BITS.get(t);if(r===void 0)throw new S;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof ue))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}ue.FOR_BITS=new Map,ue.FOR_VALUE=new Map,ue.TERMINATOR=new ue(an.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ue.NUMERIC=new ue(an.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ue.ALPHANUMERIC=new ue(an.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ue.STRUCTURED_APPEND=new ue(an.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ue.BYTE=new ue(an.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ue.ECI=new ue(an.ECI,"ECI",Int32Array.from([0,0,0]),7),ue.KANJI=new ue(an.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ue.FNC1_FIRST_POSITION=new ue(an.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ue.FNC1_SECOND_POSITION=new ue(an.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ue.HANZI=new ue(an.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ze{static decode(t,r,i,s){const l=new Hl(t);let u=new xe;const f=new Array;let h=-1,g=-1;try{let x=null,C=!1,A;do{if(l.available()<4)A=ue.TERMINATOR;else{const T=l.readBits(4);A=ue.forBits(T)}switch(A){case ue.TERMINATOR:break;case ue.FNC1_FIRST_POSITION:case ue.FNC1_SECOND_POSITION:C=!0;break;case ue.STRUCTURED_APPEND:if(l.available()<16)throw new B;h=l.readBits(8),g=l.readBits(8);break;case ue.ECI:const T=Ze.parseECIValue(l);if(x=P.getCharacterSetECIByValue(T),x===null)throw new B;break;case ue.HANZI:const O=l.readBits(4),D=l.readBits(A.getCharacterCountBits(r));O===Ze.GB2312_SUBSET&&Ze.decodeHanziSegment(l,u,D);break;default:const L=l.readBits(A.getCharacterCountBits(r));switch(A){case ue.NUMERIC:Ze.decodeNumericSegment(l,u,L);break;case ue.ALPHANUMERIC:Ze.decodeAlphanumericSegment(l,u,L,C);break;case ue.BYTE:Ze.decodeByteSegment(l,u,L,x,f,s);break;case ue.KANJI:Ze.decodeKanjiSegment(l,u,L);break;default:throw new B}break}}while(A!==ue.TERMINATOR)}catch{throw new B}return new Gi(t,u.toString(),f.length===0?null:f,i===null?null:i.toString(),h,g)}static decodeHanziSegment(t,r,i){if(i*13>t.available())throw new B;const s=new Uint8Array(2*i);let l=0;for(;i>0;){const u=t.readBits(13);let f=u/96<<8&4294967295|u%96;f<959?f+=41377:f+=42657,s[l]=f>>8&255,s[l+1]=f&255,l+=2,i--}try{r.append(se.decode(s,te.GB2312))}catch(u){throw new B(u)}}static decodeKanjiSegment(t,r,i){if(i*13>t.available())throw new B;const s=new Uint8Array(2*i);let l=0;for(;i>0;){const u=t.readBits(13);let f=u/192<<8&4294967295|u%192;f<7936?f+=33088:f+=49472,s[l]=f>>8,s[l+1]=f,l+=2,i--}try{r.append(se.decode(s,te.SHIFT_JIS))}catch(u){throw new B(u)}}static decodeByteSegment(t,r,i,s,l,u){if(8*i>t.available())throw new B;const f=new Uint8Array(i);for(let g=0;g<i;g++)f[g]=t.readBits(8);let h;s===null?h=te.guessEncoding(f,u):h=s.getName();try{r.append(se.decode(f,h))}catch(g){throw new B(g)}l.push(f)}static toAlphaNumericChar(t){if(t>=Ze.ALPHANUMERIC_CHARS.length)throw new B;return Ze.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,i,s){const l=r.length();for(;i>1;){if(t.available()<11)throw new B;const u=t.readBits(11);r.append(Ze.toAlphaNumericChar(Math.floor(u/45))),r.append(Ze.toAlphaNumericChar(u%45)),i-=2}if(i===1){if(t.available()<6)throw new B;r.append(Ze.toAlphaNumericChar(t.readBits(6)))}if(s)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(t,r,i){for(;i>=3;){if(t.available()<10)throw new B;const s=t.readBits(10);if(s>=1e3)throw new B;r.append(Ze.toAlphaNumericChar(Math.floor(s/100))),r.append(Ze.toAlphaNumericChar(Math.floor(s/10)%10)),r.append(Ze.toAlphaNumericChar(s%10)),i-=3}if(i===2){if(t.available()<7)throw new B;const s=t.readBits(7);if(s>=100)throw new B;r.append(Ze.toAlphaNumericChar(Math.floor(s/10))),r.append(Ze.toAlphaNumericChar(s%10))}else if(i===1){if(t.available()<4)throw new B;const s=t.readBits(4);if(s>=10)throw new B;r.append(Ze.toAlphaNumericChar(s))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const i=t.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=t.readBits(16);return(r&31)<<16&4294967295|i}throw new B}}Ze.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ze.GB2312_SUBSET=1;class Rc{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class lh{constructor(){this.rsDecoder=new Xi(_e.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(be.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const i=new sh(t);let s=null;try{return this.decodeBitMatrixParser(i,r)}catch(l){s=l}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const l=this.decodeBitMatrixParser(i,r);return l.setOther(new Rc(!0)),l}catch(l){throw s!==null?s:l}}decodeBitMatrixParser(t,r){const i=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),u=Vl.getDataBlocks(l,i,s);let f=0;for(const x of u)f+=x.getNumDataCodewords();const h=new Uint8Array(f);let g=0;for(const x of u){const C=x.getCodewords(),A=x.getNumDataCodewords();this.correctErrors(C,A);for(let T=0;T<A;T++)h[g++]=C[T]}return Ze.decode(h,i,s,r)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new M}for(let s=0;s<r;s++)t[s]=i[s]}}class Wl extends oe{constructor(t,r,i){super(t,r),this.estimatedModuleSize=i}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const s=(this.getX()+r)/2,l=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new Wl(s,l,u)}}class ls{constructor(t,r,i,s,l,u,f){this.image=t,this.startX=r,this.startY=i,this.width=s,this.height=l,this.moduleSize=u,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,i=this.width,s=t+i,l=this.startY+r/2,u=new Int32Array(3),f=this.image;for(let h=0;h<r;h++){const g=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let x=t;for(;x<s&&!f.get(x,g);)x++;let C=0;for(;x<s;){if(f.get(x,g))if(C===1)u[1]++;else if(C===2){if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,g,x);if(A!==null)return A}u[0]=u[2],u[1]=1,u[2]=0,C=1}else u[++C]++;else C===1&&C++,u[C]++;x++}if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,g,s);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new j}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,i=r/2;for(let s=0;s<3;s++)if(Math.abs(r-t[s])>=i)return!1;return!0}crossCheckVertical(t,r,i,s){const l=this.image,u=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let h=t;for(;h>=0&&l.get(r,h)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&!l.get(r,h)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<u&&l.get(r,h)&&f[1]<=i;)f[1]++,h++;if(h===u||f[1]>i)return NaN;for(;h<u&&!l.get(r,h)&&f[2]<=i;)f[2]++,h++;if(f[2]>i)return NaN;const g=f[0]+f[1]+f[2];return 5*Math.abs(g-s)>=2*s?NaN:this.foundPatternCross(f)?ls.centerFromEnd(f,h):NaN}handlePossibleCenter(t,r,i){const s=t[0]+t[1]+t[2],l=ls.centerFromEnd(t,i),u=this.crossCheckVertical(r,l,2*t[1],s);if(!isNaN(u)){const f=(t[0]+t[1]+t[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(f,u,l))return g.combineEstimate(u,l,f);const h=new Wl(l,u,f);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Gl extends oe{constructor(t,r,i,s){super(t,r),this.estimatedModuleSize=i,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const s=this.count+1,l=(this.count*this.getX()+r)/s,u=(this.count*this.getY()+t)/s,f=(this.count*this.estimatedModuleSize+i)/s;return new Gl(l,u,f,s)}}class ah{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class wt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(Y.TRY_HARDER)!==void 0,i=t!=null&&t.get(Y.PURE_BARCODE)!==void 0,s=this.image,l=s.getHeight(),u=s.getWidth();let f=Math.floor(3*l/(4*wt.MAX_MODULES));(f<wt.MIN_SKIP||r)&&(f=wt.MIN_SKIP);let h=!1;const g=new Int32Array(5);for(let C=f-1;C<l&&!h;C+=f){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let A=0;for(let T=0;T<u;T++)if(s.get(T,C))(A&1)===1&&A++,g[A]++;else if(A&1)g[A]++;else if(A===4)if(wt.foundPatternCross(g)){if(this.handlePossibleCenter(g,C,T,i)===!0)if(f=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const D=this.findRowSkip();D>g[2]&&(C+=D-g[2]-f,T=u-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,A=3;continue}A=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,A=3;else g[++A]++;wt.foundPatternCross(g)&&this.handlePossibleCenter(g,C,u,i)===!0&&(f=g[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const x=this.selectBestPatterns();return oe.orderBestPatterns(x),new ah(x)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const u=t[l];if(u===0)return!1;r+=u}if(r<7)return!1;const i=r/7,s=i/2;return Math.abs(i-t[0])<s&&Math.abs(i-t[1])<s&&Math.abs(3*i-t[2])<3*s&&Math.abs(i-t[3])<s&&Math.abs(i-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,i,s){const l=this.getCrossCheckStateCount();let u=0;const f=this.image;for(;t>=u&&r>=u&&f.get(r-u,t-u);)l[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!f.get(r-u,t-u)&&l[1]<=i;)l[1]++,u++;if(t<u||r<u||l[1]>i)return!1;for(;t>=u&&r>=u&&f.get(r-u,t-u)&&l[0]<=i;)l[0]++,u++;if(l[0]>i)return!1;const h=f.getHeight(),g=f.getWidth();for(u=1;t+u<h&&r+u<g&&f.get(r+u,t+u);)l[2]++,u++;if(t+u>=h||r+u>=g)return!1;for(;t+u<h&&r+u<g&&!f.get(r+u,t+u)&&l[3]<i;)l[3]++,u++;if(t+u>=h||r+u>=g||l[3]>=i)return!1;for(;t+u<h&&r+u<g&&f.get(r+u,t+u)&&l[4]<i;)l[4]++,u++;if(l[4]>=i)return!1;const x=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(x-s)<2*s&&wt.foundPatternCross(l)}crossCheckVertical(t,r,i,s){const l=this.image,u=l.getHeight(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(r,h);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&l.get(r,h)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<u&&l.get(r,h);)f[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(r,h)&&f[3]<i;)f[3]++,h++;if(h===u||f[3]>=i)return NaN;for(;h<u&&l.get(r,h)&&f[4]<i;)f[4]++,h++;if(f[4]>=i)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-s)>=2*s?NaN:wt.foundPatternCross(f)?wt.centerFromEnd(f,h):NaN}crossCheckHorizontal(t,r,i,s){const l=this.image,u=l.getWidth(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(h,r);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&l.get(h,r)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<u&&l.get(h,r);)f[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(h,r)&&f[3]<i;)f[3]++,h++;if(h===u||f[3]>=i)return NaN;for(;h<u&&l.get(h,r)&&f[4]<i;)f[4]++,h++;if(f[4]>=i)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-s)>=s?NaN:wt.foundPatternCross(f)?wt.centerFromEnd(f,h):NaN}handlePossibleCenter(t,r,i,s){const l=t[0]+t[1]+t[2]+t[3]+t[4];let u=wt.centerFromEnd(t,i),f=this.crossCheckVertical(r,Math.floor(u),t[2],l);if(!isNaN(f)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(f),t[2],l),!isNaN(u)&&(!s||this.crossCheckDiagonal(Math.floor(f),Math.floor(u),t[2],l)))){const h=l/7;let g=!1;const x=this.possibleCenters;for(let C=0,A=x.length;C<A;C++){const T=x[C];if(T.aboutEquals(h,f,u)){x[C]=T.combineEstimate(f,u,h),g=!0;break}}if(!g){const C=new Gl(u,f,h);x.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=wt.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const i=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=wt.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const s=r/i;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-s);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new j;const r=this.possibleCenters;let i;if(t>3){let s=0,l=0;for(const h of this.possibleCenters){const g=h.getEstimatedModuleSize();s+=g,l+=g*g}i=s/t;let u=Math.sqrt(l/t-i*i);r.sort((h,g)=>{const x=Math.abs(g.getEstimatedModuleSize()-i),C=Math.abs(h.getEstimatedModuleSize()-i);return x<C?-1:x>C?1:0});const f=Math.max(.2*i,u);for(let h=0;h<r.length&&r.length>3;h++){const g=r[h];Math.abs(g.getEstimatedModuleSize()-i)>f&&(r.splice(h,1),h--)}}if(r.length>3){let s=0;for(const l of r)s+=l.getEstimatedModuleSize();i=s/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const f=Math.abs(u.getEstimatedModuleSize()-i),h=Math.abs(l.getEstimatedModuleSize()-i);return f<h?1:f>h?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}wt.CENTER_QUORUM=2,wt.MIN_SKIP=3,wt.MAX_MODULES=57;class Zi{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Y.NEED_RESULT_POINT_CALLBACK);const i=new wt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const r=t.getTopLeft(),i=t.getTopRight(),s=t.getBottomLeft(),l=this.calculateModuleSize(r,i,s);if(l<1)throw new j("No pattern found in proccess finder.");const u=Zi.computeDimension(r,i,s,l),f=ae.getProvisionalVersionForDimension(u),h=f.getDimensionForVersion()-7;let g=null;if(f.getAlignmentPatternCenters().length>0){const T=i.getX()-r.getX()+s.getX(),O=i.getY()-r.getY()+s.getY(),D=1-3/h,L=Math.floor(r.getX()+D*(T-r.getX())),z=Math.floor(r.getY()+D*(O-r.getY()));for(let q=4;q<=16;q<<=1)try{g=this.findAlignmentInRegion(l,L,z,q);break}catch(J){if(!(J instanceof j))throw J}}const x=Zi.createTransform(r,i,s,g,u),C=Zi.sampleGrid(this.image,x,u);let A;return g===null?A=[s,r,i]:A=[s,r,i,g],new ns(C,A)}static createTransform(t,r,i,s,l){const u=l-3.5;let f,h,g,x;return s!==null?(f=s.getX(),h=s.getY(),g=u-3,x=g):(f=r.getX()-t.getX()+i.getX(),h=r.getY()-t.getY()+i.getY(),g=u,x=u),yn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,g,x,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),f,h,i.getX(),i.getY())}static sampleGrid(t,r,i){return or.getInstance().sampleGridWithTransform(t,i,i,r)}static computeDimension(t,r,i,s){const l=Te.round(oe.distance(t,r)/s),u=Te.round(oe.distance(t,i)/s);let f=Math.floor((l+u)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new j("Dimensions could be not found.")}return f}calculateModuleSize(t,r,i){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?s/7:isNaN(s)?i/7:(i+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,i,s){let l=this.sizeOfBlackWhiteBlackRun(t,r,i,s),u=1,f=t-(i-t);f<0?(u=t/(t-f),f=0):f>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(f-t),f=this.image.getWidth()-1);let h=Math.floor(r-(s-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),f=Math.floor(t+(f-t)*u),l+=this.sizeOfBlackWhiteBlackRun(t,r,f,h),l-1}sizeOfBlackWhiteBlackRun(t,r,i,s){const l=Math.abs(s-r)>Math.abs(i-t);if(l){let T=t;t=r,r=T,T=i,i=s,s=T}const u=Math.abs(i-t),f=Math.abs(s-r);let h=-u/2;const g=t<i?1:-1,x=r<s?1:-1;let C=0;const A=i+g;for(let T=t,O=r;T!==A;T+=g){const D=l?O:T,L=l?T:O;if(C===1===this.image.get(D,L)){if(C===2)return Te.distance(T,O,t,r);C++}if(h+=f,h>0){if(O===s)break;O+=x,h-=u}}return C===2?Te.distance(i+g,s,t,r):NaN}findAlignmentInRegion(t,r,i,s){const l=Math.floor(s*t),u=Math.max(0,r-l),f=Math.min(this.image.getWidth()-1,r+l);if(f-u<t*3)throw new j("Alignment top exceeds estimated module size.");const h=Math.max(0,i-l),g=Math.min(this.image.getHeight()-1,i+l);if(g-h<t*3)throw new j("Alignment bottom exceeds estimated module size.");return new ls(this.image,u,h,f-u,g-h,t,this.resultPointCallback).find()}}class ur{constructor(){this.decoder=new lh}getDecoder(){return this.decoder}decode(t,r){let i,s;if(r!=null&&r.get(Y.PURE_BARCODE)!==void 0){const h=ur.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(h,r),s=ur.NO_POINTS}else{const h=new Zi(t.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(h.getBits(),r),s=h.getPoints()}i.getOther()instanceof Rc&&i.getOther().applyMirroredCorrection(s);const l=new at(i.getText(),i.getRawBytes(),void 0,s,le.QR_CODE,void 0),u=i.getByteSegments();u!==null&&l.putMetadata(Qe.BYTE_SEGMENTS,u);const f=i.getECLevel();return f!==null&&l.putMetadata(Qe.ERROR_CORRECTION_LEVEL,f),i.hasStructuredAppend()&&(l.putMetadata(Qe.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),l.putMetadata(Qe.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r===null||i===null)throw new j;const s=this.moduleSize(r,t);let l=r[1],u=i[1],f=r[0],h=i[0];if(f>=h||l>=u)throw new j;if(u-l!==h-f&&(h=f+(u-l),h>=t.getWidth()))throw new j;const g=Math.round((h-f+1)/s),x=Math.round((u-l+1)/s);if(g<=0||x<=0)throw new j;if(x!==g)throw new j;const C=Math.floor(s/2);l+=C,f+=C;const A=f+Math.floor((g-1)*s)-h;if(A>0){if(A>C)throw new j;f-=A}const T=l+Math.floor((x-1)*s)-u;if(T>0){if(T>C)throw new j;l-=T}const O=new be(g,x);for(let D=0;D<x;D++){const L=l+Math.floor(D*s);for(let z=0;z<g;z++)t.get(f+Math.floor(z*s),L)&&O.set(z,D)}return O}static moduleSize(t,r){const i=r.getHeight(),s=r.getWidth();let l=t[0],u=t[1],f=!0,h=0;for(;l<s&&u<i;){if(f!==r.get(l,u)){if(++h===5)break;f=!f}l++,u++}if(l===s||u===i)throw new j;return(l-t[0])/7}}ur.NO_POINTS=new Array;class de{PDF417Common(){}static getBitCountSum(t){return Te.sum(t)}static toIntArray(t){if(t==null||!t.length)return de.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let i=0;for(const s of t)r[i++]=s;return r}static getCodeword(t){const r=N.binarySearch(de.SYMBOL_TABLE,t&262143);return r<0?-1:(de.CODEWORD_TABLE[r]-1)%de.NUMBER_OF_CODEWORDS}}de.NUMBER_OF_CODEWORDS=929,de.MAX_CODEWORDS_IN_BARCODE=de.NUMBER_OF_CODEWORDS-1,de.MIN_ROWS_IN_BARCODE=3,de.MAX_ROWS_IN_BARCODE=90,de.MODULES_IN_CODEWORD=17,de.MODULES_IN_STOP_PATTERN=18,de.BARS_IN_MODULE=8,de.EMPTY_INT_ARRAY=new Int32Array([]),de.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),de.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class uh{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class we{static detectMultiple(t,r,i){let s=t.getBlackMatrix(),l=we.detect(i,s);return l.length||(s=s.clone(),s.rotate180(),l=we.detect(i,s)),new uh(s,l)}static detect(t,r){const i=new Array;let s=0,l=0,u=!1;for(;s<r.getHeight();){const f=we.findVertices(r,s,l);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,l=0;for(const h of i)h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())));s+=we.ROW_STEP;continue}if(u=!0,i.push(f),!t)break;f[2]!=null?(l=Math.trunc(f[2].getX()),s=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY()))}return i}static findVertices(t,r,i){const s=t.getHeight(),l=t.getWidth(),u=new Array(8);return we.copyToResult(u,we.findRowsWithPattern(t,s,l,r,i,we.START_PATTERN),we.INDEXES_START_PATTERN),u[4]!=null&&(i=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),we.copyToResult(u,we.findRowsWithPattern(t,s,l,r,i,we.STOP_PATTERN),we.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,i){for(let s=0;s<i.length;s++)t[i[s]]=r[s]}static findRowsWithPattern(t,r,i,s,l,u){const f=new Array(4);let h=!1;const g=new Int32Array(u.length);for(;s<r;s+=we.ROW_STEP){let C=we.findGuardPattern(t,l,s,i,!1,u,g);if(C!=null){for(;s>0;){const A=we.findGuardPattern(t,l,--s,i,!1,u,g);if(A!=null)C=A;else{s++;break}}f[0]=new oe(C[0],s),f[1]=new oe(C[1],s),h=!0;break}}let x=s+1;if(h){let C=0,A=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;x<r;x++){const T=we.findGuardPattern(t,A[0],x,i,!1,u,g);if(T!=null&&Math.abs(A[0]-T[0])<we.MAX_PATTERN_DRIFT&&Math.abs(A[1]-T[1])<we.MAX_PATTERN_DRIFT)A=T,C=0;else{if(C>we.SKIPPED_ROW_COUNT_MAX)break;C++}}x-=C+1,f[2]=new oe(A[0],x),f[3]=new oe(A[1],x)}return x-s<we.BARCODE_MIN_HEIGHT&&N.fill(f,null),f}static findGuardPattern(t,r,i,s,l,u,f){N.fillWithin(f,0,f.length,0);let h=r,g=0;for(;t.get(h,i)&&h>0&&g++<we.MAX_PIXEL_DRIFT;)h--;let x=h,C=0,A=u.length;for(let T=l;x<s;x++)if(t.get(x,i)!==T)f[C]++;else{if(C===A-1){if(we.patternMatchVariance(f,u,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return new Int32Array([h,x]);h+=f[0]+f[1],b.arraycopy(f,2,f,0,C-1),f[C-1]=0,f[C]=0,C--}else C++;f[C]=1,T=!T}return C===A-1&&we.patternMatchVariance(f,u,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE?new Int32Array([h,x-1]):null}static patternMatchVariance(t,r,i){let s=t.length,l=0,u=0;for(let g=0;g<s;g++)l+=t[g],u+=r[g];if(l<u)return 1/0;let f=l/u;i*=f;let h=0;for(let g=0;g<s;g++){let x=t[g],C=r[g]*f,A=x>C?x-C:C-x;if(A>i)return 1/0;h+=A}return h/l}}we.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),we.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),we.MAX_AVG_VARIANCE=.42,we.MAX_INDIVIDUAL_VARIANCE=.8,we.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),we.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),we.MAX_PIXEL_DRIFT=3,we.MAX_PATTERN_DRIFT=5,we.SKIPPED_ROW_COUNT_MAX=25,we.ROW_STEP=5,we.BARCODE_MIN_HEIGHT=10;class At{constructor(t,r){if(r.length===0)throw new S;this.field=t;let i=r.length;if(i>1&&r[0]===0){let s=1;for(;s<i&&r[s]===0;)s++;s===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-s),b.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let l of this.coefficients)s=this.field.add(s,l);return s}let r=this.coefficients[0],i=this.coefficients.length;for(let s=1;s<i;s++)r=this.field.add(this.field.multiply(t,r),this.coefficients[s]);return r}add(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){let u=r;r=i,i=u}let s=new Int32Array(i.length),l=i.length-r.length;b.arraycopy(i,0,s,0,l);for(let u=l;u<i.length;u++)s[u]=this.field.add(r[u-l],i[u]);return new At(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof At?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new At(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,s=t.coefficients,l=s.length,u=new Int32Array(i+l-1);for(let f=0;f<i;f++){let h=r[f];for(let g=0;g<l;g++)u[f+g]=this.field.add(u[f+g],this.field.multiply(h,s[g]))}return new At(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let i=0;i<t;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new At(this.field,r)}multiplyScalar(t){if(t===0)return new At(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let s=0;s<r;s++)i[s]=this.field.multiply(this.coefficients[s],t);return new At(this.field,i)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return new At(this.field,new Int32Array([0]));let i=this.coefficients.length,s=new Int32Array(i+t);for(let l=0;l<i;l++)s[l]=this.field.multiply(this.coefficients[l],r);return new At(this.field,s)}toString(){let t=new xe;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(r===0||i!==1)&&t.append(i),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class ch{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}inverse(t){if(t===0)throw new es;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Yl extends ch{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let s=0;s<t;s++)this.expTable[s]=i,i=i*r%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new At(this,new Int32Array([0])),this.one=new At(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;let i=new Int32Array(t+1);return i[0]=r,new At(this,i)}}Yl.PDF417_GF=new Yl(de.NUMBER_OF_CODEWORDS,3);class Dc{constructor(){this.field=Yl.PDF417_GF}decode(t,r,i){let s=new At(this.field,t),l=new Int32Array(r),u=!1;for(let O=r;O>0;O--){let D=s.evaluateAt(this.field.exp(O));l[r-O]=D,D!==0&&(u=!0)}if(!u)return 0;let f=this.field.getOne();if(i!=null)for(const O of i){let D=this.field.exp(t.length-1-O),L=new At(this.field,new Int32Array([this.field.subtract(0,D),1]));f=f.multiply(L)}let h=new At(this.field,l),g=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),x=g[0],C=g[1],A=this.findErrorLocations(x),T=this.findErrorMagnitudes(C,x,A);for(let O=0;O<A.length;O++){let D=t.length-1-this.field.log(A[O]);if(D<0)throw M.getChecksumInstance();t[D]=this.field.subtract(t[D],T[O])}return A.length}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){let A=t;t=r,r=A}let s=t,l=r,u=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(i/2);){let A=s,T=u;if(s=l,u=f,s.isZero())throw M.getChecksumInstance();l=A;let O=this.field.getZero(),D=s.getCoefficient(s.getDegree()),L=this.field.inverse(D);for(;l.getDegree()>=s.getDegree()&&!l.isZero();){let z=l.getDegree()-s.getDegree(),q=this.field.multiply(l.getCoefficient(l.getDegree()),L);O=O.add(this.field.buildMonomial(z,q)),l=l.subtract(s.multiplyByMonomial(z,q))}f=O.multiply(u).subtract(T).negative()}let h=f.getCoefficient(0);if(h===0)throw M.getChecksumInstance();let g=this.field.inverse(h),x=f.multiply(g),C=l.multiply(g);return[x,C]}findErrorLocations(t){let r=t.getDegree(),i=new Int32Array(r),s=0;for(let l=1;l<this.field.getSize()&&s<r;l++)t.evaluateAt(l)===0&&(i[s]=this.field.inverse(l),s++);if(s!==r)throw M.getChecksumInstance();return i}findErrorMagnitudes(t,r,i){let s=r.getDegree(),l=new Int32Array(s);for(let g=1;g<=s;g++)l[s-g]=this.field.multiply(g,r.getCoefficient(g));let u=new At(this.field,l),f=i.length,h=new Int32Array(f);for(let g=0;g<f;g++){let x=this.field.inverse(i[g]),C=this.field.subtract(0,t.evaluateAt(x)),A=this.field.inverse(u.evaluateAt(x));h[g]=this.field.multiply(C,A)}return h}}class zr{constructor(t,r,i,s,l){t instanceof zr?this.constructor_2(t):this.constructor_1(t,r,i,s,l)}constructor_1(t,r,i,s,l){const u=r==null||i==null,f=s==null||l==null;if(u&&f)throw new j;u?(r=new oe(0,s.getY()),i=new oe(0,l.getY())):f&&(s=new oe(t.getWidth()-1,r.getY()),l=new oe(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=r,this.bottomLeft=i,this.topRight=s,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(s.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),s.getY())),this.maxY=Math.trunc(Math.max(i.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new zr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,i){let s=this.topLeft,l=this.bottomLeft,u=this.topRight,f=this.bottomRight;if(t>0){let h=i?this.topLeft:this.topRight,g=Math.trunc(h.getY()-t);g<0&&(g=0);let x=new oe(h.getX(),g);i?s=x:u=x}if(r>0){let h=i?this.bottomLeft:this.bottomRight,g=Math.trunc(h.getY()+r);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let x=new oe(h.getX(),g);i?l=x:f=x}return new zr(this.image,s,l,u,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class fh{constructor(t,r,i,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ki{constructor(){this.buffer=""}static form(t,r){let i=-1;function s(u,f,h,g,x,C){if(u==="%%")return"%";if(r[++i]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let A=x?parseInt(x.substr(1)):void 0,T;switch(C){case"s":T=r[i];break;case"c":T=r[i][0];break;case"f":T=parseFloat(r[i]).toFixed(u);break;case"p":T=parseFloat(r[i]).toPrecision(u);break;case"e":T=parseFloat(r[i]).toExponential(u);break;case"x":T=parseInt(r[i]).toString(A||16);break;case"d":T=parseFloat(parseInt(r[i],A||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(A);let O=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";for(;T.length<O;)T=f!==void 0?T+D:D+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,s)}format(t,...r){this.buffer+=Ki.form(t,r)}toString(){return this.buffer}}class qi{constructor(t){this.boundingBox=new zr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let i=1;i<qi.MAX_NEARBY_DISTANCE;i++){let s=this.imageRowToCodewordIndex(t)-i;if(s>=0&&(r=this.codewords[s],r!=null)||(s=this.imageRowToCodewordIndex(t)+i,s<this.codewords.length&&(r=this.codewords[s],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Ki;let r=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return t.toString()}}qi.MAX_NEARBY_DISTANCE=5;class Ji{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[i,s]of this.values.entries()){const l={getKey:()=>i,getValue:()=>s};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return de.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Lc extends qi{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,g=1,x=0;for(let C=u;C<f;C++){if(r[C]==null)continue;let A=r[C],T=A.getRowNumber()-h;if(T===0)x++;else if(T===1)g=Math.max(g,x),x=1,h=A.getRowNumber();else if(T<0||A.getRowNumber()>=t.getRowCount()||T>C)r[C]=null;else{let O;g>2?O=(g-2)*T:O=T;let D=O>=C;for(let L=1;L<=O&&!D;L++)D=r[C-L]!=null;D?r[C]=null:(h=A.getRowNumber(),x=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let s=i.getRowNumber();if(s>=r.length)continue;r[s]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.getCodewords(),h=-1;for(let g=l;g<u;g++){if(f[g]==null)continue;let x=f[g];x.setRowNumberAsRowIndicatorColumn();let C=x.getRowNumber()-h;C===0||(C===1?h=x.getRowNumber():x.getRowNumber()>=t.getRowCount()?f[g]=null:h=x.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new Ji,i=new Ji,s=new Ji,l=new Ji;for(let f of t){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let h=f.getValue()%30,g=f.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:i.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||i.getValue().length===0||s.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+s.getValue()[0]<de.MIN_ROWS_IN_BARCODE||i.getValue()[0]+s.getValue()[0]>de.MAX_ROWS_IN_BARCODE)return null;let u=new fh(r.getValue()[0],i.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let i=0;i<t.length;i++){let s=t[i];if(t[i]==null)continue;let l=s.getValue()%30,u=s.getRowNumber();if(u>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:l+1!==r.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class $i{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=de.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let s=0;s<i.length;s++)i[s]!=null&&(i[s].hasValidRowNumber()||this.adjustRowNumbers(r,s,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&r[i]!=null&&t[i].getRowNumber()===r[i].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let l=this.detectionResultColumns[s].getCodewords()[i];l!=null&&(l.setRowNumber(t[i].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let s=r[i].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let f=this.detectionResultColumns[u].getCodewords()[i];f!=null&&(l=$i.adjustRowNumberIfValid(s,l,f),f.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let s=r[i].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let f=this.detectionResultColumns[u].getCodewords()[i];f!=null&&(l=$i.adjustRowNumberIfValid(s,l,f),f.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,i){let s=i[r],l=this.detectionResultColumns[t-1].getCodewords(),u=l;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let f=new Array(14);f[2]=l[r],f[3]=u[r],r>0&&(f[0]=i[r-1],f[4]=l[r-1],f[5]=u[r-1]),r>1&&(f[8]=i[r-2],f[10]=l[r-2],f[11]=u[r-2]),r<i.length-1&&(f[1]=i[r+1],f[6]=l[r+1],f[7]=u[r+1]),r<i.length-2&&(f[9]=i[r+2],f[12]=l[r+2],f[13]=u[r+2]);for(let h of f)if($i.adjustRowNumber(s,h))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Ki;for(let i=0;i<t.getCodewords().length;i++){r.format("CW %3d:",i);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[s].getCodewords()[i];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class eo{constructor(t,r,i,s){this.rowNumber=eo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==eo.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}eo.BARCODE_ROW_UNKNOWN=-1;class Vt{static initialize(){for(let t=0;t<de.SYMBOL_TABLE.length;t++){let r=de.SYMBOL_TABLE[t],i=r&1;for(let s=0;s<de.BARS_IN_MODULE;s++){let l=0;for(;(r&1)===i;)l+=1,r>>=1;i=r&1,Vt.RATIOS_TABLE[t]||(Vt.RATIOS_TABLE[t]=new Array(de.BARS_IN_MODULE)),Vt.RATIOS_TABLE[t][de.BARS_IN_MODULE-s-1]=Math.fround(l/de.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Vt.getDecodedCodewordValue(Vt.sampleBitCounts(t));return r!==-1?r:Vt.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Te.sum(t),i=new Int32Array(de.BARS_IN_MODULE),s=0,l=0;for(let u=0;u<de.MODULES_IN_CODEWORD;u++){let f=r/(2*de.MODULES_IN_CODEWORD)+u*r/de.MODULES_IN_CODEWORD;l+t[s]<=f&&(l+=t[s],s++),i[s]++}return i}static getDecodedCodewordValue(t){let r=Vt.getBitValue(t);return de.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let i=0;i<t.length;i++)for(let s=0;s<t[i];s++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Te.sum(t),i=new Array(de.BARS_IN_MODULE);if(r>1)for(let u=0;u<i.length;u++)i[u]=Math.fround(t[u]/r);let s=ts.MAX_VALUE,l=-1;this.bSymbolTableReady||Vt.initialize();for(let u=0;u<Vt.RATIOS_TABLE.length;u++){let f=0,h=Vt.RATIOS_TABLE[u];for(let g=0;g<de.BARS_IN_MODULE;g++){let x=Math.fround(h[g]-i[g]);if(f+=Math.fround(x*x),f>=s)break}f<s&&(s=f,l=de.SYMBOL_TABLE[u])}return l}}Vt.bSymbolTableReady=!1,Vt.RATIOS_TABLE=new Array(de.SYMBOL_TABLE.length).map(y=>new Array(de.BARS_IN_MODULE));class bc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class kc{static parseLong(t,r=void 0){return parseInt(t,r)}}class Bc extends m{}Bc.kind="NullPointerException";class dh{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,i){if(t==null)throw new Bc;if(r<0||r>t.length||i<0||r+i>t.length||r+i<0)throw new H;if(i===0)return;for(let s=0;s<i;s++)this.write(t[r+s])}flush(){}close(){}}class hh extends m{}class gh extends dh{constructor(t=32){if(super(),this.count=0,t<0)throw new S("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new hh;i=v.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new H;this.ensureCapacity(this.count+i),b.arraycopy(t,r,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Le;(function(y){y[y.ALPHA=0]="ALPHA",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.PUNCT=3]="PUNCT",y[y.ALPHA_SHIFT=4]="ALPHA_SHIFT",y[y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Le||(Le={}));function Pc(){if(typeof window<"u")return window.BigInt||null;if(typeof ro<"u")return ro.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let as;function cr(y){if(typeof as>"u"&&(as=Pc()),as===null)throw new Error("BigInt is not supported!");return as(y)}function ph(){let y=[];y[0]=cr(1);let t=cr(900);y[1]=t;for(let r=2;r<16;r++)y[r]=y[r-1]*t;return y}class U{static decode(t,r){let i=new xe(""),s=P.ISO8859_1;i.enableDecoding(s);let l=1,u=t[l++],f=new bc;for(;l<t[0];){switch(u){case U.TEXT_COMPACTION_MODE_LATCH:l=U.textCompaction(t,l,i);break;case U.BYTE_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:l=U.byteCompaction(u,t,s,l,i);break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l++]);break;case U.NUMERIC_COMPACTION_MODE_LATCH:l=U.numericCompaction(t,l,i);break;case U.ECI_CHARSET:P.getCharacterSetECIByValue(t[l++]);break;case U.ECI_GENERAL_PURPOSE:l+=2;break;case U.ECI_USER_DEFINED:l++;break;case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=U.decodeMacroBlock(t,l,f);break;case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:throw new B;default:l--,l=U.textCompaction(t,l,i);break}if(l<t.length)u=t[l++];else throw B.getFormatInstance()}if(i.length()===0)throw B.getFormatInstance();let h=new Gi(null,i.toString(),null,r);return h.setOther(f),h}static decodeMacroBlock(t,r,i){if(r+U.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw B.getFormatInstance();let s=new Int32Array(U.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<U.NUMBER_OF_SEQUENCE_CODEWORDS;f++,r++)s[f]=t[r];i.setSegmentIndex(v.parseInt(U.decodeBase900toBase10(s,U.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new xe;r=U.textCompaction(t,r,l),i.setFileId(l.toString());let u=-1;for(t[r]===U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case U.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new xe;r=U.textCompaction(t,r+1,f),i.setFileName(f.toString());break;case U.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new xe;r=U.textCompaction(t,r+1,h),i.setSender(h.toString());break;case U.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new xe;r=U.textCompaction(t,r+1,g),i.setAddressee(g.toString());break;case U.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let x=new xe;r=U.numericCompaction(t,r+1,x),i.setSegmentCount(v.parseInt(x.toString()));break;case U.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new xe;r=U.numericCompaction(t,r+1,C),i.setTimestamp(kc.parseLong(C.toString()));break;case U.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new xe;r=U.numericCompaction(t,r+1,A),i.setChecksum(v.parseInt(A.toString()));break;case U.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new xe;r=U.numericCompaction(t,r+1,T),i.setFileSize(kc.parseLong(T.toString()));break;default:throw B.getFormatInstance()}break;case U.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(u!==-1){let f=r-u;i.isLastSegment()&&f--,i.setOptionalData(N.copyOfRange(t,u,u+f))}return r}static textCompaction(t,r,i){let s=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),u=0,f=!1;for(;r<t[0]&&!f;){let h=t[r++];if(h<U.TEXT_COMPACTION_MODE_LATCH)s[u]=h/30,s[u+1]=h%30,u+=2;else switch(h){case U.TEXT_COMPACTION_MODE_LATCH:s[u++]=U.TEXT_COMPACTION_MODE_LATCH;break;case U.BYTE_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.NUMERIC_COMPACTION_MODE_LATCH:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:r--,f=!0;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[u]=U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[r++],l[u]=h,u++;break}}return U.decodeTextCompaction(s,l,u,i),r}static decodeTextCompaction(t,r,i,s){let l=Le.ALPHA,u=Le.ALPHA,f=0;for(;f<i;){let h=t[f],g="";switch(l){case Le.ALPHA:if(h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case U.LL:l=Le.LOWER;break;case U.ML:l=Le.MIXED;break;case U.PS:u=l,l=Le.PUNCT_SHIFT;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[f]);break;case U.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.LOWER:if(h<26)g=String.fromCharCode(97+h);else switch(h){case 26:g=" ";break;case U.AS:u=l,l=Le.ALPHA_SHIFT;break;case U.ML:l=Le.MIXED;break;case U.PS:u=l,l=Le.PUNCT_SHIFT;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[f]);break;case U.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.MIXED:if(h<U.PL)g=U.MIXED_CHARS[h];else switch(h){case U.PL:l=Le.PUNCT;break;case 26:g=" ";break;case U.LL:l=Le.LOWER;break;case U.AL:l=Le.ALPHA;break;case U.PS:u=l,l=Le.PUNCT_SHIFT;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[f]);break;case U.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.PUNCT:if(h<U.PAL)g=U.PUNCT_CHARS[h];else switch(h){case U.PAL:l=Le.ALPHA;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[f]);break;case U.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.ALPHA_SHIFT:if(l=u,h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case U.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.PUNCT_SHIFT:if(l=u,h<U.PAL)g=U.PUNCT_CHARS[h];else switch(h){case U.PAL:l=Le.ALPHA;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[f]);break;case U.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break}g!==""&&s.append(g),f++}}static byteCompaction(t,r,i,s,l){let u=new gh,f=0,h=0,g=!1;switch(t){case U.BYTE_COMPACTION_MODE_LATCH:let x=new Int32Array(6),C=r[s++];for(;s<r[0]&&!g;)switch(x[f++]=C,h=900*h+C,C=r[s++],C){case U.TEXT_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH:case U.NUMERIC_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:s--,g=!0;break;default:if(f%5===0&&f>0){for(let A=0;A<6;++A)u.write(Number(cr(h)>>cr(8*(5-A))));h=0,f=0}break}s===r[0]&&C<U.TEXT_COMPACTION_MODE_LATCH&&(x[f++]=C);for(let A=0;A<f;A++)u.write(x[A]);break;case U.BYTE_COMPACTION_MODE_LATCH_6:for(;s<r[0]&&!g;){let A=r[s++];if(A<U.TEXT_COMPACTION_MODE_LATCH)f++,h=900*h+A;else switch(A){case U.TEXT_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH:case U.NUMERIC_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:s--,g=!0;break}if(f%5===0&&f>0){for(let T=0;T<6;++T)u.write(Number(cr(h)>>cr(8*(5-T))));h=0,f=0}}break}return l.append(se.decode(u.toByteArray(),i)),s}static numericCompaction(t,r,i){let s=0,l=!1,u=new Int32Array(U.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let f=t[r++];if(r===t[0]&&(l=!0),f<U.TEXT_COMPACTION_MODE_LATCH)u[s]=f,s++;else switch(f){case U.TEXT_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(s%U.MAX_NUMERIC_CODEWORDS===0||f===U.NUMERIC_COMPACTION_MODE_LATCH||l)&&s>0&&(i.append(U.decodeBase900toBase10(u,s)),s=0)}return r}static decodeBase900toBase10(t,r){let i=cr(0);for(let l=0;l<r;l++)i+=U.EXP900[r-l-1]*cr(t[l]);let s=i.toString();if(s.charAt(0)!=="1")throw new B;return s.substring(1)}}U.TEXT_COMPACTION_MODE_LATCH=900,U.BYTE_COMPACTION_MODE_LATCH=901,U.NUMERIC_COMPACTION_MODE_LATCH=902,U.BYTE_COMPACTION_MODE_LATCH_6=924,U.ECI_USER_DEFINED=925,U.ECI_GENERAL_PURPOSE=926,U.ECI_CHARSET=927,U.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,U.MACRO_PDF417_TERMINATOR=922,U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,U.MAX_NUMERIC_CODEWORDS=15,U.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,U.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,U.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,U.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,U.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,U.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,U.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,U.PL=25,U.LL=27,U.AS=27,U.ML=28,U.AL=28,U.PS=29,U.PAL=29,U.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,U.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",U.EXP900=Pc()?ph():[],U.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ee{constructor(){}static decode(t,r,i,s,l,u,f){let h=new zr(t,r,i,s,l),g=null,x=null,C;for(let O=!0;;O=!1){if(r!=null&&(g=Ee.getRowIndicatorColumn(t,h,r,!0,u,f)),s!=null&&(x=Ee.getRowIndicatorColumn(t,h,s,!1,u,f)),C=Ee.merge(g,x),C==null)throw j.getNotFoundInstance();let D=C.getBoundingBox();if(O&&D!=null&&(D.getMinY()<h.getMinY()||D.getMaxY()>h.getMaxY()))h=D;else break}C.setBoundingBox(h);let A=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,g),C.setDetectionResultColumn(A,x);let T=g!=null;for(let O=1;O<=A;O++){let D=T?O:A-O;if(C.getDetectionResultColumn(D)!==void 0)continue;let L;D===0||D===A?L=new Lc(h,D===0):L=new qi(h),C.setDetectionResultColumn(D,L);let z=-1,q=z;for(let J=h.getMinY();J<=h.getMaxY();J++){if(z=Ee.getStartColumn(C,D,J,T),z<0||z>h.getMaxX()){if(q===-1)continue;z=q}let Q=Ee.detectCodeword(t,h.getMinX(),h.getMaxX(),T,z,J,u,f);Q!=null&&(L.setCodeword(J,Q),q=z,u=Math.min(u,Q.getWidth()),f=Math.max(f,Q.getWidth()))}}return Ee.createDecoderResult(C)}static merge(t,r){if(t==null&&r==null)return null;let i=Ee.getBarcodeMetadata(t,r);if(i==null)return null;let s=zr.merge(Ee.adjustBoundingBox(t),Ee.adjustBoundingBox(r));return new $i(i,s)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let i=Ee.getMax(r),s=0;for(let f of r)if(s+=i-f,f>0)break;let l=t.getCodewords();for(let f=0;s>0&&l[f]==null;f++)s--;let u=0;for(let f=r.length-1;f>=0&&(u+=i-r[f],!(r[f]>0));f--);for(let f=l.length-1;u>0&&l[f]==null;f--)u--;return t.getBoundingBox().addMissingRows(s,u,t.isLeft())}static getMax(t){let r=-1;for(let i of t)r=Math.max(r,i);return r}static getBarcodeMetadata(t,r){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let s;return r==null||(s=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==s.getColumnCount()&&i.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&i.getRowCount()!==s.getRowCount()?null:i}static getRowIndicatorColumn(t,r,i,s,l,u){let f=new Lc(r,s);for(let h=0;h<2;h++){let g=h===0?1:-1,x=Math.trunc(Math.trunc(i.getX()));for(let C=Math.trunc(Math.trunc(i.getY()));C<=r.getMaxY()&&C>=r.getMinY();C+=g){let A=Ee.detectCodeword(t,0,t.getWidth(),s,x,C,l,u);A!=null&&(f.setCodeword(C,A),s?x=A.getStartX():x=A.getEndX())}}return f}static adjustCodewordCount(t,r){let i=r[0][1],s=i.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ee.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(l<1||l>de.MAX_CODEWORDS_IN_BARCODE)throw j.getNotFoundInstance();i.setValue(l)}else s[0]!==l&&i.setValue(l)}static createDecoderResult(t){let r=Ee.createBarcodeMatrix(t);Ee.adjustCodewordCount(t,r);let i=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],u=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let g=0;g<t.getBarcodeColumnCount();g++){let x=r[h][g+1].getValue(),C=h*t.getBarcodeColumnCount()+g;x.length===0?i.push(C):x.length===1?s[C]=x[0]:(u.push(C),l.push(x))}let f=new Array(l.length);for(let h=0;h<f.length;h++)f[h]=l[h];return Ee.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,de.toIntArray(i),de.toIntArray(u),f)}static createDecoderResultFromAmbiguousValues(t,r,i,s,l){let u=new Int32Array(s.length),f=100;for(;f-- >0;){for(let h=0;h<u.length;h++)r[s[h]]=l[h][u[h]];try{return Ee.decodeCodewords(r,t,i)}catch(h){if(!(h instanceof M))throw h}if(u.length===0)throw M.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<l[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw M.getChecksumInstance()}throw M.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<r.length;s++)for(let l=0;l<r[s].length;l++)r[s][l]=new Ji;let i=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let l of s.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][i].setValue(l.getValue())}}}i++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,i,s){let l=s?1:-1,u=null;if(Ee.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodeword(i)),u!=null)return s?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(i),u!=null)return s?u.getStartX():u.getEndX();if(Ee.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodewordNearby(i)),u!=null)return s?u.getEndX():u.getStartX();let f=0;for(;Ee.isValidBarcodeColumn(t,r-l);){r-=l;for(let h of t.getDetectionResultColumn(r).getCodewords())if(h!=null)return(s?h.getEndX():h.getStartX())+l*f*(h.getEndX()-h.getStartX());f++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,i,s,l,u,f,h){l=Ee.adjustCodewordStartColumn(t,r,i,s,l,u);let g=Ee.getModuleBitCount(t,r,i,s,l,u);if(g==null)return null;let x,C=Te.sum(g);if(s)x=l+C;else{for(let O=0;O<g.length/2;O++){let D=g[O];g[O]=g[g.length-1-O],g[g.length-1-O]=D}x=l,l=x-C}if(!Ee.checkCodewordSkew(C,f,h))return null;let A=Vt.getDecodedValue(g),T=de.getCodeword(A);return T===-1?null:new eo(l,x,Ee.getCodewordBucketNumber(A),T)}static getModuleBitCount(t,r,i,s,l,u){let f=l,h=new Int32Array(8),g=0,x=s?1:-1,C=s;for(;(s?f<i:f>=r)&&g<h.length;)t.get(f,u)===C?(h[g]++,f+=x):(g++,C=!C);return g===h.length||f===(s?i:r)&&g===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,i,s,l,u){let f=l,h=s?-1:1;for(let g=0;g<2;g++){for(;(s?f>=r:f<i)&&s===t.get(f,u);){if(Math.abs(l-f)>Ee.CODEWORD_SKEW_SIZE)return l;f+=h}h=-h,s=!s}return f}static checkCodewordSkew(t,r,i){return r-Ee.CODEWORD_SKEW_SIZE<=t&&t<=i+Ee.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,i){if(t.length===0)throw B.getFormatInstance();let s=1<<r+1,l=Ee.correctErrors(t,i,s);Ee.verifyCodewordCount(t,s);let u=U.decode(t,""+r);return u.setErrorsCorrected(l),u.setErasures(i.length),u}static correctErrors(t,r,i){if(r!=null&&r.length>i/2+Ee.MAX_ERRORS||i<0||i>Ee.MAX_EC_CODEWORDS)throw M.getChecksumInstance();return Ee.errorCorrection.decode(t,i,r)}static verifyCodewordCount(t,r){if(t.length<4)throw B.getFormatInstance();let i=t[0];if(i>t.length)throw B.getFormatInstance();if(i===0)if(r<t.length)t[0]=t.length-r;else throw B.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),i=0,s=r.length-1;for(;!((t&1)!==i&&(i=t&1,s--,s<0));)r[s]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ee.getCodewordBucketNumber(Ee.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new Ki;for(let i=0;i<t.length;i++){r.format("Row %2d: ",i);for(let s=0;s<t[i].length;s++){let l=t[i][s];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Ee.CODEWORD_SKEW_SIZE=2,Ee.MAX_ERRORS=3,Ee.MAX_EC_CODEWORDS=512,Ee.errorCorrection=new Dc;class St{decode(t,r=null){let i=St.decode(t,r,!1);if(i==null||i.length===0||i[0]==null)throw j.getNotFoundInstance();return i[0]}decodeMultiple(t,r=null){try{return St.decode(t,r,!0)}catch(i){throw i instanceof B||i instanceof M?j.getNotFoundInstance():i}}static decode(t,r,i){const s=new Array,l=we.detectMultiple(t,r,i);for(const u of l.getPoints()){const f=Ee.decode(l.getBits(),u[4],u[5],u[6],u[7],St.getMinCodewordWidth(u),St.getMaxCodewordWidth(u)),h=new at(f.getText(),f.getRawBytes(),void 0,u,le.PDF_417);h.putMetadata(Qe.ERROR_CORRECTION_LEVEL,f.getECLevel());const g=f.getOther();g!=null&&h.putMetadata(Qe.PDF417_EXTRA_METADATA,g),s.push(h)}return s.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?v.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(St.getMaxWidth(t[0],t[4]),St.getMaxWidth(t[6],t[2])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN),Math.max(St.getMaxWidth(t[1],t[5]),St.getMaxWidth(t[7],t[3])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(St.getMinWidth(t[0],t[4]),St.getMinWidth(t[6],t[2])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN),Math.min(St.getMinWidth(t[1],t[5]),St.getMinWidth(t[7],t[3])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN)))}reset(){}}class us extends m{}us.kind="ReaderException";class Fc{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=t!=null&&t.get(Y.TRY_HARDER)!==void 0,i=t==null?null:t.get(Y.POSSIBLE_FORMATS),s=new Array;if(i!=null){const l=i.some(u=>u===le.UPC_A||u===le.UPC_E||u===le.EAN_13||u===le.EAN_8||u===le.CODABAR||u===le.CODE_39||u===le.CODE_93||u===le.CODE_128||u===le.ITF||u===le.RSS_14||u===le.RSS_EXPANDED);l&&!r&&s.push(new ai(t,this.verbose)),i.includes(le.QR_CODE)&&s.push(new ur),i.includes(le.DATA_MATRIX)&&s.push(new ar),i.includes(le.AZTEC)&&s.push(new rs),i.includes(le.PDF_417)&&s.push(new St),l&&r&&s.push(new ai(t,this.verbose))}s.length===0&&(r||s.push(new ai(t,this.verbose)),s.push(new ur),s.push(new ar),s.push(new rs),s.push(new St),r&&s.push(new ai(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new us("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(i){if(i instanceof us)continue}throw new j("No MultiFormat Readers were able to detect the code.")}}class xh extends Fe{constructor(t=null,r=500){const i=new Fc;i.setHints(t),super(i,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class mh extends Fe{constructor(t=500){super(new St,t)}}class wh extends Fe{constructor(t=500){super(new ur,t)}}var Xl;(function(y){y[y.ERROR_CORRECTION=0]="ERROR_CORRECTION",y[y.CHARACTER_SET=1]="CHARACTER_SET",y[y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",y[y.MIN_SIZE=3]="MIN_SIZE",y[y.MAX_SIZE=4]="MAX_SIZE",y[y.MARGIN=5]="MARGIN",y[y.PDF417_COMPACT=6]="PDF417_COMPACT",y[y.PDF417_COMPACTION=7]="PDF417_COMPACTION",y[y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",y[y.AZTEC_LAYERS=9]="AZTEC_LAYERS",y[y.QR_VERSION=10]="QR_VERSION"})(Xl||(Xl={}));var gt=Xl;class Ql{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new zt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let i=r[r.length-1];const s=this.field;for(let l=r.length;l<=t;l++){const u=i.multiply(new zt(s,Int32Array.from([1,s.exp(l-1+s.getGeneratorBase())])));r.push(u),i=u}}return r[t]}encode(t,r){if(r===0)throw new S("No error correction bytes");const i=t.length-r;if(i<=0)throw new S("No data bytes provided");const s=this.buildGenerator(r),l=new Int32Array(i);b.arraycopy(t,0,l,0,i);let u=new zt(this.field,l);u=u.multiplyByMonomial(r,1);const h=u.divide(s)[1].getCoefficients(),g=r-h.length;for(let x=0;x<g;x++)t[i+x]=0;b.arraycopy(h,0,t,i+g,h.length)}}class nt{constructor(){}static applyMaskPenaltyRule1(t){return nt.applyMaskPenaltyRule1Internal(t,!0)+nt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const i=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let u=0;u<l-1;u++){const f=i[u];for(let h=0;h<s-1;h++){const g=f[h];g===f[h+1]&&g===i[u+1][h]&&g===i[u+1][h+1]&&r++}}return nt.N2*r}static applyMaskPenaltyRule3(t){let r=0;const i=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let u=0;u<l;u++)for(let f=0;f<s;f++){const h=i[u];f+6<s&&h[f]===1&&h[f+1]===0&&h[f+2]===1&&h[f+3]===1&&h[f+4]===1&&h[f+5]===0&&h[f+6]===1&&(nt.isWhiteHorizontal(h,f-4,f)||nt.isWhiteHorizontal(h,f+7,f+11))&&r++,u+6<l&&i[u][f]===1&&i[u+1][f]===0&&i[u+2][f]===1&&i[u+3][f]===1&&i[u+4][f]===1&&i[u+5][f]===0&&i[u+6][f]===1&&(nt.isWhiteVertical(i,f,u-4,u)||nt.isWhiteVertical(i,f,u+7,u+11))&&r++}return r*nt.N3}static isWhiteHorizontal(t,r,i){r=Math.max(r,0),i=Math.min(i,t.length);for(let s=r;s<i;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,r,i,s){i=Math.max(i,0),s=Math.min(s,t.length);for(let l=i;l<s;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const i=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++){const g=i[h];for(let x=0;x<s;x++)g[x]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*nt.N4}static getDataMaskBit(t,r,i){let s,l;switch(t){case 0:s=i+r&1;break;case 1:s=i&1;break;case 2:s=r%3;break;case 3:s=(i+r)%3;break;case 4:s=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:l=i*r,s=(l&1)+l%3;break;case 6:l=i*r,s=(l&1)+l%3&1;break;case 7:l=i*r,s=l%3+(i+r&1)&1;break;default:throw new S("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,r){let i=0;const s=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),u=t.getArray();for(let f=0;f<s;f++){let h=0,g=-1;for(let x=0;x<l;x++){const C=r?u[f][x]:u[x][f];C===g?h++:(h>=5&&(i+=nt.N1+(h-5)),h=1,g=C)}h>=5&&(i+=nt.N1+(h-5))}return i}}nt.N1=3,nt.N2=3,nt.N3=40,nt.N4=10;class cs{constructor(t,r){this.width=t,this.height=r;const i=new Array(r);for(let s=0;s!==r;s++)i[s]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,i){this.bytes[r][t]=i}setBoolean(t,r,i){this.bytes[r][t]=i?1:0}clear(t){for(const r of this.bytes)N.fill(r,t)}equals(t){if(!(t instanceof cs))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,s=this.height;i<s;++i){const l=this.bytes[i],u=r.bytes[i];for(let f=0,h=this.width;f<h;++f)if(l[f]!==u[f])return!1}return!0}toString(){const t=new xe;for(let r=0,i=this.height;r<i;++r){const s=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(s[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class jr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new xe;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<jr.NUM_MASK_PATTERNS}}jr.NUM_MASK_PATTERNS=8;class Be extends m{}Be.kind="WriterException";class ce{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,i,s,l){ce.clearMatrix(l),ce.embedBasicPatterns(i,l),ce.embedTypeInfo(r,s,l),ce.maybeEmbedVersionInfo(i,l),ce.embedDataBits(t,s,l)}static embedBasicPatterns(t,r){ce.embedPositionDetectionPatternsAndSeparators(r),ce.embedDarkDotAtLeftBottomCorner(r),ce.maybeEmbedPositionAdjustmentPatterns(t,r),ce.embedTimingPatterns(r)}static embedTypeInfo(t,r,i){const s=new _;ce.makeTypeInfoBits(t,r,s);for(let l=0,u=s.getSize();l<u;++l){const f=s.get(s.getSize()-1-l),h=ce.TYPE_INFO_COORDINATES[l],g=h[0],x=h[1];if(i.setBoolean(g,x,f),l<8){const C=i.getWidth()-l-1;i.setBoolean(C,8,f)}else{const A=i.getHeight()-7+(l-8);i.setBoolean(8,A,f)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const i=new _;ce.makeVersionInfoBits(t,i);let s=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const f=i.get(s);s--,r.setBoolean(l,r.getHeight()-11+u,f),r.setBoolean(r.getHeight()-11+u,l,f)}}static embedDataBits(t,r,i){let s=0,l=-1,u=i.getWidth()-1,f=i.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);f>=0&&f<i.getHeight();){for(let h=0;h<2;++h){const g=u-h;if(!ce.isEmpty(i.get(g,f)))continue;let x;s<t.getSize()?(x=t.get(s),++s):x=!1,r!==255&&nt.getDataMaskBit(r,g,f)&&(x=!x),i.setBoolean(g,f,x)}f+=l}l=-l,f+=l,u-=2}if(s!==t.getSize())throw new Be("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-v.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new S("0 polynomial");const i=ce.findMSBSet(r);for(t<<=i-1;ce.findMSBSet(t)>=i;)t^=r<<ce.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,r,i){if(!jr.isValidMaskPattern(r))throw new Be("Invalid mask pattern");const s=t.getBits()<<3|r;i.appendBits(s,5);const l=ce.calculateBCHCode(s,ce.TYPE_INFO_POLY);i.appendBits(l,10);const u=new _;if(u.appendBits(ce.TYPE_INFO_MASK_PATTERN,15),i.xor(u),i.getSize()!==15)throw new Be("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const i=ce.calculateBCHCode(t.getVersionNumber(),ce.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new Be("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const i=(r+1)%2;ce.isEmpty(t.get(r,6))&&t.setNumber(r,6,i),ce.isEmpty(t.get(6,r))&&t.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Be;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,i){for(let s=0;s<8;++s){if(!ce.isEmpty(i.get(t+s,r)))throw new Be;i.setNumber(t+s,r,0)}}static embedVerticalSeparationPattern(t,r,i){for(let s=0;s<7;++s){if(!ce.isEmpty(i.get(t,r+s)))throw new Be;i.setNumber(t,r+s,0)}}static embedPositionAdjustmentPattern(t,r,i){for(let s=0;s<5;++s){const l=ce.POSITION_ADJUSTMENT_PATTERN[s];for(let u=0;u<5;++u)i.setNumber(t+u,r+s,l[u])}}static embedPositionDetectionPattern(t,r,i){for(let s=0;s<7;++s){const l=ce.POSITION_DETECTION_PATTERN[s];for(let u=0;u<7;++u)i.setNumber(t+u,r+s,l[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=ce.POSITION_DETECTION_PATTERN[0].length;ce.embedPositionDetectionPattern(0,0,t),ce.embedPositionDetectionPattern(t.getWidth()-r,0,t),ce.embedPositionDetectionPattern(0,t.getWidth()-r,t);const i=8;ce.embedHorizontalSeparationPattern(0,i-1,t),ce.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),ce.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const s=7;ce.embedVerticalSeparationPattern(s,0,t),ce.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),ce.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,s=ce.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let l=0,u=s.length;l!==u;l++){const f=s[l];if(f>=0)for(let h=0;h!==u;h++){const g=s[h];g>=0&&ce.isEmpty(r.get(g,f))&&ce.embedPositionAdjustmentPattern(g-2,f-2,r)}}}}ce.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ce.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ce.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ce.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ce.VERSION_INFO_POLY=7973,ce.TYPE_INFO_POLY=1335,ce.TYPE_INFO_MASK_PATTERN=21522;class Eh{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class He{constructor(){}static calculateMaskPenalty(t){return nt.applyMaskPenaltyRule1(t)+nt.applyMaskPenaltyRule2(t)+nt.applyMaskPenaltyRule3(t)+nt.applyMaskPenaltyRule4(t)}static encode(t,r,i=null){let s=He.DEFAULT_BYTE_MODE_ENCODING;const l=i!==null&&i.get(gt.CHARACTER_SET)!==void 0;l&&(s=i.get(gt.CHARACTER_SET).toString());const u=this.chooseMode(t,s),f=new _;if(u===ue.BYTE&&(l||He.DEFAULT_BYTE_MODE_ENCODING!==s)){const J=P.getCharacterSetECIByName(s);J!==void 0&&this.appendECI(J,f)}this.appendModeInfo(u,f);const h=new _;this.appendBytes(t,u,h,s);let g;if(i!==null&&i.get(gt.QR_VERSION)!==void 0){const J=Number.parseInt(i.get(gt.QR_VERSION).toString(),10);g=ae.getVersionForNumber(J);const Q=this.calculateBitsNeeded(u,f,h,g);if(!this.willFit(Q,g,r))throw new Be("Data too big for requested version")}else g=this.recommendVersion(r,u,f,h);const x=new _;x.appendBitArray(f);const C=u===ue.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(C,g,u,x),x.appendBitArray(h);const A=g.getECBlocksForLevel(r),T=g.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(T,x);const O=this.interleaveWithECBytes(x,g.getTotalCodewords(),T,A.getNumBlocks()),D=new jr;D.setECLevel(r),D.setMode(u),D.setVersion(g);const L=g.getDimensionForVersion(),z=new cs(L,L),q=this.chooseMaskPattern(O,r,g,z);return D.setMaskPattern(q),ce.buildMatrix(O,r,g,q,z),D.setMatrix(z),D}static recommendVersion(t,r,i,s){const l=this.calculateBitsNeeded(r,i,s,ae.getVersionForNumber(1)),u=this.chooseVersion(l,t),f=this.calculateBitsNeeded(r,i,s,u);return this.chooseVersion(f,t)}static calculateBitsNeeded(t,r,i,s){return r.getSize()+t.getCharacterCountBits(s)+i.getSize()}static getAlphanumericCode(t){return t<He.ALPHANUMERIC_TABLE.length?He.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(P.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return ue.KANJI;let i=!1,s=!1;for(let l=0,u=t.length;l<u;++l){const f=t.charAt(l);if(He.isDigit(f))i=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)s=!0;else return ue.BYTE}return s?ue.ALPHANUMERIC:i?ue.NUMERIC:ue.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=se.encode(t,P.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let s=0;s<i;s+=2){const l=r[s]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,i,s){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let f=0;f<jr.NUM_MASK_PATTERNS;f++){ce.buildMatrix(t,r,i,f,s);let h=this.calculateMaskPenalty(s);h<l&&(l=h,u=f)}return u}static chooseVersion(t,r){for(let i=1;i<=40;i++){const s=ae.getVersionForNumber(i);if(He.willFit(t,s,r))return s}throw new Be("Data too big")}static willFit(t,r,i){const s=r.getTotalCodewords(),u=r.getECBlocksForLevel(i).getTotalECCodewords(),f=s-u,h=(t+7)/8;return f>=h}static terminateBits(t,r){const i=t*8;if(r.getSize()>i)throw new Be("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let u=0;u<4&&r.getSize()<i;++u)r.appendBit(!1);const s=r.getSize()&7;if(s>0)for(let u=s;u<8;u++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==i)throw new Be("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,i,s,l,u){if(s>=i)throw new Be("Block ID too large");const f=t%i,h=i-f,g=Math.floor(t/i),x=g+1,C=Math.floor(r/i),A=C+1,T=g-C,O=x-A;if(T!==O)throw new Be("EC bytes mismatch");if(i!==h+f)throw new Be("RS blocks mismatch");if(t!==(C+T)*h+(A+O)*f)throw new Be("Total bytes mismatch");s<h?(l[0]=C,u[0]=T):(l[0]=A,u[0]=O)}static interleaveWithECBytes(t,r,i,s){if(t.getSizeInBytes()!==i)throw new Be("Number of bits and data bytes does not match");let l=0,u=0,f=0;const h=new Array;for(let x=0;x<s;++x){const C=new Int32Array(1),A=new Int32Array(1);He.getNumDataBytesAndNumECBytesForBlockID(r,i,s,x,C,A);const T=C[0],O=new Uint8Array(T);t.toBytes(8*l,O,0,T);const D=He.generateECBytes(O,A[0]);h.push(new Eh(O,D)),u=Math.max(u,T),f=Math.max(f,D.length),l+=C[0]}if(i!==l)throw new Be("Data bytes does not match offset");const g=new _;for(let x=0;x<u;++x)for(const C of h){const A=C.getDataBytes();x<A.length&&g.appendBits(A[x],8)}for(let x=0;x<f;++x)for(const C of h){const A=C.getErrorCorrectionBytes();x<A.length&&g.appendBits(A[x],8)}if(r!==g.getSizeInBytes())throw new Be("Interleaving error: "+r+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(t,r){const i=t.length,s=new Int32Array(i+r);for(let u=0;u<i;u++)s[u]=t[u]&255;new Ql(_e.QR_CODE_FIELD_256).encode(s,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=s[i+u];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,i,s){const l=i.getCharacterCountBits(r);if(t>=1<<l)throw new Be(t+" is bigger than "+((1<<l)-1));s.appendBits(t,l)}static appendBytes(t,r,i,s){switch(r){case ue.NUMERIC:He.appendNumericBytes(t,i);break;case ue.ALPHANUMERIC:He.appendAlphanumericBytes(t,i);break;case ue.BYTE:He.append8BitBytes(t,i,s);break;case ue.KANJI:He.appendKanjiBytes(t,i);break;default:throw new Be("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=He.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const i=t.length;let s=0;for(;s<i;){const l=He.getDigit(t.charAt(s));if(s+2<i){const u=He.getDigit(t.charAt(s+1)),f=He.getDigit(t.charAt(s+2));r.appendBits(l*100+u*10+f,10),s+=3}else if(s+1<i){const u=He.getDigit(t.charAt(s+1));r.appendBits(l*10+u,7),s+=2}else r.appendBits(l,4),s++}}static appendAlphanumericBytes(t,r){const i=t.length;let s=0;for(;s<i;){const l=He.getAlphanumericCode(t.charCodeAt(s));if(l===-1)throw new Be;if(s+1<i){const u=He.getAlphanumericCode(t.charCodeAt(s+1));if(u===-1)throw new Be;r.appendBits(l*45+u,11),s+=2}else r.appendBits(l,6),s++}}static append8BitBytes(t,r,i){let s;try{s=se.encode(t,i)}catch(l){throw new Be(l)}for(let l=0,u=s.length;l!==u;l++){const f=s[l];r.appendBits(f,8)}}static appendKanjiBytes(t,r){let i;try{i=se.encode(t,P.SJIS)}catch(l){throw new Be(l)}const s=i.length;for(let l=0;l<s;l+=2){const u=i[l]&255,f=i[l+1]&255,h=u<<8&4294967295|f;let g=-1;if(h>=33088&&h<=40956?g=h-33088:h>=57408&&h<=60351&&(g=h-49472),g===-1)throw new Be("Invalid byte sequence");const x=(g>>8)*192+(g&255);r.appendBits(x,13)}}static appendECI(t,r){r.appendBits(ue.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}He.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),He.DEFAULT_BYTE_MODE_ENCODING=P.UTF8.getName();class Hr{write(t,r,i,s=null){if(t.length===0)throw new S("Found empty contents");if(r<0||i<0)throw new S("Requested dimensions are too small: "+r+"x"+i);let l=ze.L,u=Hr.QUIET_ZONE_SIZE;s!==null&&(s.get(gt.ERROR_CORRECTION)!==void 0&&(l=ze.fromString(s.get(gt.ERROR_CORRECTION).toString())),s.get(gt.MARGIN)!==void 0&&(u=Number.parseInt(s.get(gt.MARGIN).toString(),10)));const f=He.encode(t,l,s);return this.renderResult(f,r,i,u)}writeToDom(t,r,i,s,l=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,i,s,l);t&&t.appendChild(u)}renderResult(t,r,i,s){const l=t.getMatrix();if(l===null)throw new Rn;const u=l.getWidth(),f=l.getHeight(),h=u+s*2,g=f+s*2,x=Math.max(r,h),C=Math.max(i,g),A=Math.min(Math.floor(x/h),Math.floor(C/g)),T=Math.floor((x-u*A)/2),O=Math.floor((C-f*A)/2),D=this.createSVGElement(x,C);for(let L=0,z=O;L<f;L++,z+=A)for(let q=0,J=T;q<u;q++,J+=A)if(l.get(q,L)===1){const Q=this.createSvgRectElement(J,z,A,A);D.appendChild(Q)}return D}createSVGElement(t,r){const i=document.createElementNS(Hr.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(t,r,i,s){const l=document.createElementNS(Hr.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",s.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Hr.QUIET_ZONE_SIZE=4,Hr.SVG_NS="http://www.w3.org/2000/svg";class ci{encode(t,r,i,s,l){if(t.length===0)throw new S("Found empty contents");if(r!==le.QR_CODE)throw new S("Can only encode QR_CODE, but got "+r);if(i<0||s<0)throw new S(`Requested dimensions are too small: ${i}x${s}`);let u=ze.L,f=ci.QUIET_ZONE_SIZE;l!==null&&(l.get(gt.ERROR_CORRECTION)!==void 0&&(u=ze.fromString(l.get(gt.ERROR_CORRECTION).toString())),l.get(gt.MARGIN)!==void 0&&(f=Number.parseInt(l.get(gt.MARGIN).toString(),10)));const h=He.encode(t,u,l);return ci.renderResult(h,i,s,f)}static renderResult(t,r,i,s){const l=t.getMatrix();if(l===null)throw new Rn;const u=l.getWidth(),f=l.getHeight(),h=u+s*2,g=f+s*2,x=Math.max(r,h),C=Math.max(i,g),A=Math.min(Math.floor(x/h),Math.floor(C/g)),T=Math.floor((x-u*A)/2),O=Math.floor((C-f*A)/2),D=new be(x,C);for(let L=0,z=O;L<f;L++,z+=A)for(let q=0,J=T;q<u;q++,J+=A)l.get(q,L)===1&&D.setRegion(J,z,A,A);return D}}ci.QUIET_ZONE_SIZE=4;class yh{encode(t,r,i,s,l){let u;switch(r){case le.QR_CODE:u=new ci;break;default:throw new S("No encoder available for format "+r)}return u.encode(t,r,i,s,l)}}class kn extends Gn{constructor(t,r,i,s,l,u,f,h){if(super(u,f),this.yuvData=t,this.dataWidth=r,this.dataHeight=i,this.left=s,this.top=l,s+u>r||l+f>i)throw new S("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,f)}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const s=(t+this.top)*this.dataWidth+this.left;return b.arraycopy(this.yuvData,s,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=t*r,s=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return b.arraycopy(this.yuvData,l,s,0,i),s;for(let u=0;u<r;u++){const f=u*t;b.arraycopy(this.yuvData,l,s,f,t),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,r,i,s){return new kn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,s,!1)}renderThumbnail(){const t=this.getWidth()/kn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/kn.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),s=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const f=u*t;for(let h=0;h<t;h++){const g=s[l+h*kn.THUMBNAIL_SCALE_FACTOR]&255;i[f+h]=4278190080|g*65793}l+=this.dataWidth*kn.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/kn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/kn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const i=this.yuvData;for(let s=0,l=this.top*this.dataWidth+this.left;s<r;s++,l+=this.dataWidth){const u=l+t/2;for(let f=l,h=l+t-1;f<u;f++,h--){const g=i[f];i[f]=i[h],i[h]=g}}}invert(){return new ee(this)}}kn.THUMBNAIL_SCALE_FACTOR=2;class Zl extends Gn{constructor(t,r,i,s,l,u,f){if(super(r,i),this.dataWidth=s,this.dataHeight=l,this.left=u,this.top=f,t.BYTES_PER_ELEMENT===4){const h=r*i,g=new Uint8ClampedArray(h);for(let x=0;x<h;x++){const C=t[x],A=C>>16&255,T=C>>7&510,O=C&255;g[x]=(A+T+O)/4&255}this.luminances=g}else this.luminances=t;if(s===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=i),u===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const s=(t+this.top)*this.dataWidth+this.left;return b.arraycopy(this.luminances,s,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=t*r,s=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return b.arraycopy(this.luminances,l,s,0,i),s;for(let u=0;u<r;u++){const f=u*t;b.arraycopy(this.luminances,l,s,f,t),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,r,i,s){return new Zl(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new ee(this)}}class Uc extends P{static forName(t){return this.getCharacterSetECIByName(t)}}class Kl{}Kl.ISO_8859_1=P.ISO8859_1;class zc{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class jc{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Ch{constructor(t){this.previous=t}getPrevious(){return this.previous}}class fi extends Ch{constructor(t,r,i){super(t),this.value=r,this.bitCount=i}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new fi(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new fi(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+v.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class ql extends fi{constructor(t,r,i){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(t,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(t,r){return new ql(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ah(y,t,r){return new ql(y,t,r)}function to(y,t,r){return new fi(y,t,r)}const Sh=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],fr=0,fs=1,un=2,Hc=3,Bn=4,Ih=new fi(null,0,0),Jl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Th(y){for(let t of y)N.fill(t,-1);return y[fr][Bn]=0,y[fs][Bn]=0,y[fs][fr]=28,y[Hc][Bn]=0,y[un][Bn]=0,y[un][fr]=15,y}const Vc=Th(N.createInt32Array(6,6));class Pn{constructor(t,r,i,s){this.token=t,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let i=this.bitCount,s=this.token;if(t!==this.mode){let u=Jl[this.mode][t];s=to(s,u&65535,u>>16),i+=u>>16}let l=t===un?4:5;return s=to(s,r,l),new Pn(s,t,0,i+l)}shiftAndAppend(t,r){let i=this.token,s=this.mode===un?4:5;return i=to(i,Vc[this.mode][t],s),i=to(i,r,5),new Pn(i,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let r=this.token,i=this.mode,s=this.bitCount;if(this.mode===Bn||this.mode===un){let f=Jl[i][fr];r=to(r,f&65535,f>>16),s+=f>>16,i=fr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Pn(r,i,this.binaryShiftByteCount+1,s+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Ah(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Pn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(Jl[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Pn.calculateBinaryShiftCost(t)-Pn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())r.unshift(s);let i=new _;for(const s of r)s.appendTo(i,t);return i}toString(){return te.format("%s bits=%d bytes=%d",Sh[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Pn.INITIAL_STATE=new Pn(Ih,fr,0,0);function vh(y){const t=te.getCharCode(" "),r=te.getCharCode("."),i=te.getCharCode(",");y[fr][t]=1;const s=te.getCharCode("Z"),l=te.getCharCode("A");for(let A=l;A<=s;A++)y[fr][A]=A-l+2;y[fs][t]=1;const u=te.getCharCode("z"),f=te.getCharCode("a");for(let A=f;A<=u;A++)y[fs][A]=A-f+2;y[un][t]=1;const h=te.getCharCode("9"),g=te.getCharCode("0");for(let A=g;A<=h;A++)y[un][A]=A-g+2;y[un][i]=12,y[un][r]=13;const x=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<x.length;A++)y[Hc][te.getCharCode(x[A])]=A;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<C.length;A++)te.getCharCode(C[A])>0&&(y[Bn][te.getCharCode(C[A])]=A);return y}const $l=vh(N.createInt32Array(5,256));class no{constructor(t){this.text=t}encode(){const t=te.getCharCode(" "),r=te.getCharCode(`
`);let i=jc.singletonList(Pn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case te.getCharCode("\r"):u=f===r?2:0;break;case te.getCharCode("."):u=f===t?3:0;break;case te.getCharCode(","):u=f===t?4:0;break;case te.getCharCode(":"):u=f===t?5:0;break;default:u=0}u>0?(i=no.updateStateListForPair(i,l,u),l++):i=this.updateStateListForChar(i,l)}return jc.min(i,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const i=[];for(let s of t)this.updateStateForChar(s,r,i);return no.simplifyStates(i)}updateStateForChar(t,r,i){let s=this.text[r]&255,l=$l[t.getMode()][s]>0,u=null;for(let f=0;f<=Bn;f++){let h=$l[f][s];if(h>0){if(u==null&&(u=t.endBinaryShift(r)),!l||f===t.getMode()||f===un){const g=u.latchAndAppend(f,h);i.push(g)}if(!l&&Vc[t.getMode()][f]>=0){const g=u.shiftAndAppend(f,h);i.push(g)}}}if(t.getBinaryShiftByteCount()>0||$l[t.getMode()][s]===0){let f=t.addBinaryShiftChar(r);i.push(f)}}static updateStateListForPair(t,r,i){const s=[];for(let l of t)this.updateStateForPair(l,r,i,s);return this.simplifyStates(s)}static updateStateForPair(t,r,i,s){let l=t.endBinaryShift(r);if(s.push(l.latchAndAppend(Bn,i)),t.getMode()!==Bn&&s.push(l.shiftAndAppend(Bn,i)),i===3||i===4){let u=l.latchAndAppend(un,16-i).latchAndAppend(un,1);s.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);s.push(u)}}static simplifyStates(t){let r=[];for(const i of t){let s=!0;for(const l of r){if(l.isBetterThanOrEqualTo(i)){s=!1;break}i.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}s&&r.push(i)}return r}}class ve{constructor(){}static encodeBytes(t){return ve.encode(t,ve.DEFAULT_EC_PERCENT,ve.DEFAULT_AZTEC_LAYERS)}static encode(t,r,i){let s=new no(t).encode(),l=v.truncDivision(s.getSize()*r,100)+11,u=s.getSize()+l,f,h,g,x,C;if(i!==ve.DEFAULT_AZTEC_LAYERS){if(f=i<0,h=Math.abs(i),h>(f?ve.MAX_NB_BITS_COMPACT:ve.MAX_NB_BITS))throw new S(te.format("Illegal value %s for layers",i));g=ve.totalBitsInLayer(h,f),x=ve.WORD_SIZE[h];let Q=g-g%x;if(C=ve.stuffBits(s,x),C.getSize()+l>Q)throw new S("Data to large for user specified layer");if(f&&C.getSize()>x*64)throw new S("Data to large for user specified layer")}else{x=0,C=null;for(let Q=0;;Q++){if(Q>ve.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(f=Q<=3,h=f?Q+1:Q,g=ve.totalBitsInLayer(h,f),u>g)continue;(C==null||x!==ve.WORD_SIZE[h])&&(x=ve.WORD_SIZE[h],C=ve.stuffBits(s,x));let Se=g-g%x;if(!(f&&C.getSize()>x*64)&&C.getSize()+l<=Se)break}}let A=ve.generateCheckWords(C,g,x),T=C.getSize()/x,O=ve.generateModeMessage(f,h,T),D=(f?11:14)+h*4,L=new Int32Array(D),z;if(f){z=D;for(let Q=0;Q<L.length;Q++)L[Q]=Q}else{z=D+1+2*v.truncDivision(v.truncDivision(D,2)-1,15);let Q=v.truncDivision(D,2),Se=v.truncDivision(z,2);for(let pe=0;pe<Q;pe++){let Wt=pe+v.truncDivision(pe,15);L[Q-pe-1]=Se-Wt-1,L[Q+pe]=Se+Wt+1}}let q=new be(z);for(let Q=0,Se=0;Q<h;Q++){let pe=(h-Q)*4+(f?9:12);for(let Wt=0;Wt<pe;Wt++){let An=Wt*2;for(let Gt=0;Gt<2;Gt++)A.get(Se+An+Gt)&&q.set(L[Q*2+Gt],L[Q*2+Wt]),A.get(Se+pe*2+An+Gt)&&q.set(L[Q*2+Wt],L[D-1-Q*2-Gt]),A.get(Se+pe*4+An+Gt)&&q.set(L[D-1-Q*2-Gt],L[D-1-Q*2-Wt]),A.get(Se+pe*6+An+Gt)&&q.set(L[D-1-Q*2-Wt],L[Q*2+Gt])}Se+=pe*8}if(ve.drawModeMessage(q,f,z,O),f)ve.drawBullsEye(q,v.truncDivision(z,2),5);else{ve.drawBullsEye(q,v.truncDivision(z,2),7);for(let Q=0,Se=0;Q<v.truncDivision(D,2)-1;Q+=15,Se+=16)for(let pe=v.truncDivision(z,2)&1;pe<z;pe+=2)q.set(v.truncDivision(z,2)-Se,pe),q.set(v.truncDivision(z,2)+Se,pe),q.set(pe,v.truncDivision(z,2)-Se),q.set(pe,v.truncDivision(z,2)+Se)}let J=new zc;return J.setCompact(f),J.setSize(z),J.setLayers(h),J.setCodeWords(T),J.setMatrix(q),J}static drawBullsEye(t,r,i){for(let s=0;s<i;s+=2)for(let l=r-s;l<=r+s;l++)t.set(l,r-s),t.set(l,r+s),t.set(r-s,l),t.set(r+s,l);t.set(r-i,r-i),t.set(r-i+1,r-i),t.set(r-i,r-i+1),t.set(r+i,r-i),t.set(r+i,r-i+1),t.set(r+i,r+i-1)}static generateModeMessage(t,r,i){let s=new _;return t?(s.appendBits(r-1,2),s.appendBits(i-1,6),s=ve.generateCheckWords(s,28,4)):(s.appendBits(r-1,5),s.appendBits(i-1,11),s=ve.generateCheckWords(s,40,4)),s}static drawModeMessage(t,r,i,s){let l=v.truncDivision(i,2);if(r)for(let u=0;u<7;u++){let f=l-3+u;s.get(u)&&t.set(f,l-5),s.get(u+7)&&t.set(l+5,f),s.get(20-u)&&t.set(f,l+5),s.get(27-u)&&t.set(l-5,f)}else for(let u=0;u<10;u++){let f=l-5+u+v.truncDivision(u,5);s.get(u)&&t.set(f,l-7),s.get(u+10)&&t.set(l+7,f),s.get(29-u)&&t.set(f,l+7),s.get(39-u)&&t.set(l-7,f)}}static generateCheckWords(t,r,i){let s=t.getSize()/i,l=new Ql(ve.getGF(i)),u=v.truncDivision(r,i),f=ve.bitsToWords(t,i,u);l.encode(f,u-s);let h=r%i,g=new _;g.appendBits(0,h);for(const x of Array.from(f))g.appendBits(x,i);return g}static bitsToWords(t,r,i){let s=new Int32Array(i),l,u;for(l=0,u=t.getSize()/r;l<u;l++){let f=0;for(let h=0;h<r;h++)f|=t.get(l*r+h)?1<<r-h-1:0;s[l]=f}return s}static getGF(t){switch(t){case 4:return _e.AZTEC_PARAM;case 6:return _e.AZTEC_DATA_6;case 8:return _e.AZTEC_DATA_8;case 10:return _e.AZTEC_DATA_10;case 12:return _e.AZTEC_DATA_12;default:throw new S("Unsupported word size "+t)}}static stuffBits(t,r){let i=new _,s=t.getSize(),l=(1<<r)-2;for(let u=0;u<s;u+=r){let f=0;for(let h=0;h<r;h++)(u+h>=s||t.get(u+h))&&(f|=1<<r-1-h);(f&l)===l?(i.appendBits(f&l,r),u--):f&l?i.appendBits(f,r):(i.appendBits(f|1,r),u--)}return i}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}ve.DEFAULT_EC_PERCENT=33,ve.DEFAULT_AZTEC_LAYERS=0,ve.MAX_NB_BITS=32,ve.MAX_NB_BITS_COMPACT=4,ve.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ds{encode(t,r,i,s){return this.encodeWithHints(t,r,i,s,null)}encodeWithHints(t,r,i,s,l){let u=Kl.ISO_8859_1,f=ve.DEFAULT_EC_PERCENT,h=ve.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(gt.CHARACTER_SET)&&(u=Uc.forName(l.get(gt.CHARACTER_SET).toString())),l.has(gt.ERROR_CORRECTION)&&(f=v.parseInt(l.get(gt.ERROR_CORRECTION).toString())),l.has(gt.AZTEC_LAYERS)&&(h=v.parseInt(l.get(gt.AZTEC_LAYERS).toString()))),ds.encodeLayers(t,r,i,s,u,f,h)}static encodeLayers(t,r,i,s,l,u,f){if(r!==le.AZTEC)throw new S("Can only encode AZTEC, but got "+r);let h=ve.encode(te.getBytes(t,l),u,f);return ds.renderResult(h,i,s)}static renderResult(t,r,i){let s=t.getMatrix();if(s==null)throw new Rn;let l=s.getWidth(),u=s.getHeight(),f=Math.max(r,l),h=Math.max(i,u),g=Math.min(f/l,h/u),x=(f-l*g)/2,C=(h-u*g)/2,A=new be(f,h);for(let T=0,O=C;T<u;T++,O+=g)for(let D=0,L=x;D<l;D++,L+=g)s.get(D,T)&&A.setRegion(L,O,g,g);return A}}o.ArgumentException=w,o.ArithmeticException=es,o.AztecCode=zc,o.AztecCodeReader=rs,o.AztecCodeWriter=ds,o.AztecDecoder=Ue,o.AztecDetector=Nc,o.AztecDetectorResult=Tc,o.AztecEncoder=ve,o.AztecHighLevelEncoder=no,o.AztecPoint=bt,o.BarcodeFormat=le,o.Binarizer=F,o.BinaryBitmap=R,o.BitArray=_,o.BitMatrix=be,o.BitSource=Hl,o.BrowserAztecCodeReader=Kd,o.BrowserBarcodeReader=rh,o.BrowserCodeReader=Fe,o.BrowserDatamatrixCodeReader=oh,o.BrowserMultiFormatReader=xh,o.BrowserPDF417Reader=mh,o.BrowserQRCodeReader=wh,o.BrowserQRCodeSvgWriter=Hr,o.CharacterSetECI=P,o.ChecksumException=M,o.Code128Reader=$,o.Code39Reader=dt,o.DataMatrixDecodedBitStreamParser=lr,o.DataMatrixReader=ar,o.DecodeHintType=Y,o.DecoderResult=Gi,o.DefaultGridSampler=vc,o.DetectorResult=ns,o.EAN13Reader=Pr,o.EncodeHintType=gt,o.Exception=m,o.FormatException=B,o.GenericGF=_e,o.GenericGFPoly=zt,o.GlobalHistogramBinarizer=lt,o.GridSampler=kl,o.GridSamplerInstance=or,o.HTMLCanvasElementLuminanceSource=fe,o.HybridBinarizer=ge,o.ITFReader=ke,o.IllegalArgumentException=S,o.IllegalStateException=Rn,o.InvertedLuminanceSource=ee,o.LuminanceSource=Gn,o.MathUtils=Te,o.MultiFormatOneDReader=ai,o.MultiFormatReader=Fc,o.MultiFormatWriter=yh,o.NotFoundException=j,o.OneDReader=ut,o.PDF417DecodedBitStreamParser=U,o.PDF417DecoderErrorCorrection=Dc,o.PDF417Reader=St,o.PDF417ResultMetadata=bc,o.PerspectiveTransform=yn,o.PlanarYUVLuminanceSource=kn,o.QRCodeByteMatrix=cs,o.QRCodeDataMask=ln,o.QRCodeDecodedBitStreamParser=Ze,o.QRCodeDecoderErrorCorrectionLevel=ze,o.QRCodeDecoderFormatInformation=_t,o.QRCodeEncoder=He,o.QRCodeEncoderQRCode=jr,o.QRCodeMaskUtil=nt,o.QRCodeMatrixUtil=ce,o.QRCodeMode=ue,o.QRCodeReader=ur,o.QRCodeVersion=ae,o.QRCodeWriter=ci,o.RGBLuminanceSource=Zl,o.RSS14Reader=tt,o.RSSExpandedReader=G,o.ReaderException=us,o.ReedSolomonDecoder=Xi,o.ReedSolomonEncoder=Ql,o.ReedSolomonException=ii,o.Result=at,o.ResultMetadataType=Qe,o.ResultPoint=oe,o.StringUtils=te,o.UnsupportedOperationException=he,o.VideoInputDevice=me,o.WhiteRectangleDetector=Yn,o.WriterException=Be,o.ZXingArrays=N,o.ZXingCharset=Uc,o.ZXingInteger=v,o.ZXingStandardCharsets=Kl,o.ZXingStringBuilder=xe,o.ZXingStringEncoding=se,o.ZXingSystem=b,Object.defineProperty(o,"__esModule",{value:!0})})})(Su,Su.exports);var Ye=Su.exports;const jx=Oh(Ye),Hx=_h({__proto__:null,default:jx},[Ye]);var Vx=function(){function e(n,o,a){if(this.formatMap=new Map([[re.QR_CODE,Ye.BarcodeFormat.QR_CODE],[re.AZTEC,Ye.BarcodeFormat.AZTEC],[re.CODABAR,Ye.BarcodeFormat.CODABAR],[re.CODE_39,Ye.BarcodeFormat.CODE_39],[re.CODE_93,Ye.BarcodeFormat.CODE_93],[re.CODE_128,Ye.BarcodeFormat.CODE_128],[re.DATA_MATRIX,Ye.BarcodeFormat.DATA_MATRIX],[re.MAXICODE,Ye.BarcodeFormat.MAXICODE],[re.ITF,Ye.BarcodeFormat.ITF],[re.EAN_13,Ye.BarcodeFormat.EAN_13],[re.EAN_8,Ye.BarcodeFormat.EAN_8],[re.PDF_417,Ye.BarcodeFormat.PDF_417],[re.RSS_14,Ye.BarcodeFormat.RSS_14],[re.RSS_EXPANDED,Ye.BarcodeFormat.RSS_EXPANDED],[re.UPC_A,Ye.BarcodeFormat.UPC_A],[re.UPC_E,Ye.BarcodeFormat.UPC_E],[re.UPC_EAN_EXTENSION,Ye.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Hx)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=o,this.logger=a;var c=this.createZXingFormats(n),d=new Map;d.set(Ye.DecodeHintType.POSSIBLE_FORMATS,c),this.hints=d}return e.prototype.decodeAsync=function(n){var o=this;return new Promise(function(a,c){try{a(o.decode(n))}catch(d){c(d)}})},e.prototype.decode=function(n){var o=new Ye.MultiFormatReader(this.verbose,this.hints),a=new Ye.HTMLCanvasElementLuminanceSource(n),c=new Ye.BinaryBitmap(new Ye.HybridBinarizer(a)),d=o.decode(c);return{text:d.text,format:Wd.create(this.toHtml5QrcodeSupportedFormats(d.format))}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(o,a,c){n.set(o,a)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have "+n;return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var o=[],a=0,c=n;a<c.length;a++){var d=c[a];this.formatMap.has(d)?o.push(this.formatMap.get(d)):this.logger.logError(d+" is not supported byZXingHtml5QrcodeShim")}return o},e}(),Wx=function(e,n,o,a){function c(d){return d instanceof o?d:new o(function(p){p(d)})}return new(o||(o=Promise))(function(d,p){function E(S){try{w(a.next(S))}catch(R){p(R)}}function m(S){try{w(a.throw(S))}catch(R){p(R)}}function w(S){S.done?d(S.value):c(S.value).then(E,m)}w((a=a.apply(e,n||[])).next())})},Gx=function(e,n){var o={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(S){return m([w,S])}}function m(w){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,c&&(d=w[0]&2?c.return:w[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,w[1])).done)return d;switch(c=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return o.label++,{value:w[1],done:!1};case 5:o.label++,c=w[1],w=[0];continue;case 7:w=o.ops.pop(),o.trys.pop();continue;default:if(d=o.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){o=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){o.label=w[1];break}if(w[0]===6&&o.label<d[1]){o.label=d[1],d=w;break}if(d&&o.label<d[2]){o.label=d[2],o.ops.push(w);break}d[2]&&o.ops.pop(),o.trys.pop();continue}w=n.call(e,o)}catch(S){w=[6,S],c=0}finally{a=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},c0=function(){function e(n,o,a){if(this.formatMap=new Map([[re.QR_CODE,"qr_code"],[re.AZTEC,"aztec"],[re.CODABAR,"codabar"],[re.CODE_39,"code_39"],[re.CODE_93,"code_93"],[re.CODE_128,"code_128"],[re.DATA_MATRIX,"data_matrix"],[re.ITF,"itf"],[re.EAN_13,"ean_13"],[re.EAN_8,"ean_8"],[re.PDF_417,"pdf417"],[re.UPC_A,"upc_a"],[re.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=o,this.logger=a;var c=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Wx(this,void 0,void 0,function(){var o,a;return Gx(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(n)];case 1:if(o=c.sent(),!o||o.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(o),[2,{text:a.rawValue,format:Wd.create(this.toHtml5QrcodeSupportedFormats(a.format))}]}})})},e.prototype.selectLargestBarcode=function(n){for(var o=null,a=0,c=0,d=n;c<d.length;c++){var p=d[c],E=p.boundingBox.width*p.boundingBox.height;E>a&&(a=E,o=p)}if(!o)throw"No largest barcode found";return o},e.prototype.createBarcodeDetectorFormats=function(n){for(var o=[],a=0,c=n;a<c.length;a++){var d=c[a];this.formatMap.has(d)?o.push(this.formatMap.get(d)):this.logger.warn(d+" is not supported byBarcodeDetectorDelegate")}return{formats:o}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have "+n;return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(o,a,c){n.set(o,a)}),n},e}(),Yx=function(e,n,o,a){function c(d){return d instanceof o?d:new o(function(p){p(d)})}return new(o||(o=Promise))(function(d,p){function E(S){try{w(a.next(S))}catch(R){p(R)}}function m(S){try{w(a.throw(S))}catch(R){p(R)}}function w(S){S.done?d(S.value):c(S.value).then(E,m)}w((a=a.apply(e,n||[])).next())})},Xx=function(e,n){var o={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(S){return m([w,S])}}function m(w){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,c&&(d=w[0]&2?c.return:w[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,w[1])).done)return d;switch(c=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return o.label++,{value:w[1],done:!1};case 5:o.label++,c=w[1],w=[0];continue;case 7:w=o.ops.pop(),o.trys.pop();continue;default:if(d=o.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){o=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){o.label=w[1];break}if(w[0]===6&&o.label<d[1]){o.label=d[1],d=w;break}if(d&&o.label<d[2]){o.label=d[2],o.ops.push(w);break}d[2]&&o.ops.pop(),o.trys.pop();continue}w=n.call(e,o)}catch(S){w=[6,S],c=0}finally{a=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Qx=function(){function e(n,o,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.verbose=a,o&&c0.isSupported()?this.decoder=new c0(n,a,c):this.decoder=new Vx(n,a,c)}return e.prototype.decodeAsync=function(n){return Yx(this,void 0,void 0,function(){var o,a;return Xx(this,function(c){switch(c.label){case 0:o=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.decoder.decodeAsync(n)];case 2:return[2,c.sent()];case 3:return this.verbose&&(a=performance.now()-o,this.executionResults.push(a),this.executions++,this.possiblyFlushPerformanceReport()),[7];case 4:return[2]}})})},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,o=0,a=this.executionResults;o<a.length;o++){var c=a[o];n+=c}var d=n/this.executionResults.length;console.log(d+" ms for "+this.executionResults.length+" last runs."),this.executions=0,this.executionResults=[]}},e}(),rt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(rt||(rt={}));var Zx=function(){function e(){this.state=rt.NOT_STARTED,this.onGoingTransactionNewState=rt.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===rt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=rt.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===rt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=rt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==rt.UNKNOWN)throw"Cannnot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case rt.UNKNOWN:throw"Transition from unknown is not allowed";case rt.NOT_STARTED:this.failIfNewStateIs(n,[rt.PAUSED]);break;case rt.SCANNING:break;case rt.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,o){for(var a=0,c=o;a<c.length;a++){var d=c[a];if(n===d)throw"Cannot transition from "+this.state+" to "+n}},e}(),Kx=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===rt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==rt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===rt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===rt.PAUSED},e}(),qx=function(){function e(){}return e.create=function(){return new Kx(new Zx)},e}(),Jx=function(){var e=function(n,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},e(n,o)};return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");e(n,o);function a(){this.constructor=n}n.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),cn=function(e){Jx(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(vn),$x=function(){function e(n,o){this.logger=o,this.fps=cn.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=cn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Xd.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!zn(this.qrbox)},e.create=function(n,o){return new e(n,o)},e}(),f0=function(){function e(n,o){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.videoElement=null,this.localMediaStream=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id="+n+" not found";this.elementId=n,this.verbose=!1;var a;typeof o=="boolean"?this.verbose=o===!0:o&&(a=o,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Yd(this.verbose),this.qrcode=new Qx(this.getSupportedFormats(o),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.localMediaStream,this.shouldScan=!0,this.stateManagerProxy=qx.create()}return e.prototype.start=function(n,o,a,c){if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";c||(c=this.verbose?this.logger.log:function(){});var d=$x.create(o,this.logger);this.clearElement();var p=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=p;d.isShadedBoxEnabled();var m=document.getElementById(this.elementId),w=m.clientWidth?m.clientWidth:cn.DEFAULT_WIDTH;m.style.position="relative",this.shouldScan=!0,this.element=m;var S=this,R=this.stateManagerProxy.startTransition(rt.SCANNING);return new Promise(function(M,F){var b=E?d.videoConstraints:S.createVideoConstraints(n);if(!b){R.cancel(),F("videoConstraints should be defined");return}navigator.mediaDevices?navigator.mediaDevices.getUserMedia({audio:!1,video:b}).then(function(H){S.onMediaStreamReceived(H,d,E,w,a,c).then(function(X){R.execute(),S.isScanning=!0,M(null)}).catch(function(X){R.cancel(),F(X)})}).catch(function(H){R.cancel(),F(go.errorGettingUserMedia(H))}):(R.cancel(),F(go.cameraStreamingNotSupported()))})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(rt.PAUSED),this.showPausedState(),(zn(n)||n!==!0)&&(n=!1),n&&this.videoElement&&this.videoElement.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.videoElement)throw"VideoElement doesn't exist while trying resume()";var n=this,o=function(){n.stateManagerProxy.directTransition(rt.SCANNING),n.hidePausedState()},a=this.videoElement.paused;if(!a){o();return}var c=function(){var d;setTimeout(o,200),(d=n.videoElement)===null||d===void 0||d.removeEventListener("playing",c)};this.videoElement.addEventListener("playing",c),this.videoElement.play()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var o=this.stateManagerProxy.startTransition(rt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var c=document.getElementById(cn.SHADED_REGION_ELEMENT_ID);c&&n.element.removeChild(c)}};return new Promise(function(c,d){var p=function(){n.localMediaStream=null,n.element&&(n.element.removeChild(n.videoElement),n.element.removeChild(n.canvasElement)),a(),n.qrRegion&&(n.qrRegion=null),n.context&&(n.context=null),o.execute(),n.hidePausedState(),n.isScanning=!1,c()};n.localMediaStream||p();var E=n.localMediaStream.getVideoTracks().length,m=0;n.localMediaStream.getVideoTracks().forEach(function(w){n.localMediaStream.removeTrack(w),w.stop(),++m,m>=E&&p()})})},e.prototype.scanFile=function(n,o){return this.scanFileV2(n,o).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(n,o){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(zn(o)&&(o=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,d){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var p=new Image;p.onload=function(){var E=p.width,m=p.height,w=document.getElementById(a.elementId),S=w.clientWidth?w.clientWidth:cn.DEFAULT_WIDTH,R=Math.max(w.clientHeight?w.clientHeight:m,cn.FILE_SCAN_MIN_HEIGHT),M=a.computeCanvasDrawConfig(E,m,S,R);if(o){var F=a.createCanvasElement(S,R,"qr-canvas-visible");F.style.display="inline-block",w.appendChild(F);var b=F.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=S,b.canvas.height=R,b.drawImage(p,0,0,E,m,M.x,M.y,M.width,M.height)}var H=a.createCanvasElement(M.width,M.height);w.appendChild(H);var X=H.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=M.width,X.canvas.height=M.height,X.drawImage(p,0,0,E,m,0,0,M.width,M.height);try{a.qrcode.decodeAsync(H).then(function(N){c(a0.createFromQrcodeResult(N))}).catch(d)}catch(N){d("QR code parse error, error = "+N)}},p.onerror=d,p.onabort=d,p.onstalled=d,p.onsuspend=d,p.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;if(MediaStreamTrack&&n.getSources)return e.getCamerasFromMediaStreamTrack();var o=function(){if(location.protocol==="https:")return!0;var c=location.host.split(":")[0];return c==="127.0.0.1"||c==="localhost"},a=go.unableToQuerySupportedDevices();return o()||(a=go.insecureContextCameraQueryError()),Promise.reject(a)},e.prototype.getRunningTrackCapabilities=function(){if(this.localMediaStream==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(this.localMediaStream.getVideoTracks().length===0)throw"No video tracks found";var n=this.localMediaStream.getVideoTracks()[0];return n.getCapabilities()},e.prototype.getRunningTrackSettings=function(){if(this.localMediaStream==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(this.localMediaStream.getVideoTracks().length===0)throw"No video tracks found";var n=this.localMediaStream.getVideoTracks()[0];return n.getSettings()},e.prototype.applyVideoConstraints=function(n){var o=this;if(n){if(!Xd.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";if(this.localMediaStream===null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(this.localMediaStream.getVideoTracks().length===0)throw"No video tracks found";return new Promise(function(a,c){if("aspectRatio"in n){c("Chaning 'aspectRatio' in run-time is not yet supported.");return}var d=o.localMediaStream.getVideoTracks()[0];d.applyConstraints(n).then(function(p){a(p)}).catch(function(p){c(p)})})},e.getCamerasFromMediaDevices=function(){return new Promise(function(n,o){navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(a){var c=function(d){for(var p=d.getVideoTracks(),E=0,m=p;E<m.length;E++){var w=m[E];w.enabled=!1,w.stop(),d.removeTrack(w)}};navigator.mediaDevices.enumerateDevices().then(function(d){for(var p=[],E=0,m=d;E<m.length;E++){var w=m[E];w.kind==="videoinput"&&p.push({id:w.deviceId,label:w.label})}c(a),n(p)}).catch(function(d){o(d.name+" : "+d.message)})}).catch(function(a){o(a.name+" : "+a.message)})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,o){var a=function(d){for(var p=[],E=0,m=d;E<m.length;E++){var w=m[E];w.kind==="video"&&p.push({id:w.id,label:w.label})}n(p)},c=MediaStreamTrack;c.getSources(a)})},e.prototype.getSupportedFormats=function(n){var o=[re.QR_CODE,re.AZTEC,re.CODABAR,re.CODE_39,re.CODE_93,re.CODE_128,re.DATA_MATRIX,re.MAXICODE,re.ITF,re.EAN_13,re.EAN_8,re.PDF_417,re.RSS_14,re.RSS_EXPANDED,re.UPC_A,re.UPC_E,re.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return o;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,d=n.formatsToSupport;c<d.length;c++){var p=d[c];zx(p)?a.push(p):this.logger.warn("Invalid format: "+p+" passed in config, ignoring.")}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(zn(n))return!1;if(!zn(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported===!0;if(zn(n.experimentalFeatures))return!1;var o=n.experimentalFeatures;return zn(o.useBarCodeDetectorIfSupported)?!1:o.useBarCodeDetectorIfSupported===!0},e.prototype.validateQrboxSize=function(n,o,a){var c=this,d=a.qrbox;this.validateQrboxConfig(d);var p=this.toQrdimensions(n,o,d),E=function(w){if(w<cn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+(" "+cn.MIN_QR_BOX_SIZE+"px.")},m=function(w){return w>n&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=n),w};E(p.width),E(p.height),p.width=m(p.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,o,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,o)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},e.prototype.setupUi=function(n,o,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,o,a);var c=zn(a.qrbox)?{width:n,height:o}:a.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(n,o,c);d.height>o&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=a.isShadedBoxEnabled()&&d.height<=o,E={x:0,y:0,width:n,height:o},m=p?this.getShadedRegionBounds(n,o,d):E,w=this.createCanvasElement(m.width,m.height),S=w.getContext("2d");S.canvas.width=m.width,S.canvas.height=m.height,this.element.append(w),p&&this.possiblyInsertShadingElement(this.element,n,o,d),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=S,this.canvasElement=w},e.prototype.createScannerPausedUiElement=function(n){var o=document.createElement("div");o.innerText="Scanner paused",o.style.display="none",o.style.position="absolute",o.style.top="0px",o.style.zIndex="1",o.style.background="yellow",o.style.textAlign="center",o.style.width="100%",n.appendChild(o),this.scannerPausedUiElement=o},e.prototype.scanContext=function(n,o){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return n(c.text,a0.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var d=go.codeParseError(c);return o(d,Gd.createFrom(d)),!1})},e.prototype.foreverScan=function(n,o,a){var c=this;if(this.shouldScan&&this.localMediaStream){var d=this.videoElement,p=d.videoWidth/d.clientWidth,E=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*p,w=this.qrRegion.height*E,S=this.qrRegion.x*p,R=this.qrRegion.y*E;this.context.drawImage(d,S,R,m,w,0,0,this.qrRegion.width,this.qrRegion.height);var M=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(n,o,a)},c.getTimeoutFps(n.fps))};this.scanContext(o,a).then(function(F){!F&&n.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(o,a).finally(function(){M()})):M()}).catch(function(F){c.logger.logError("Error happend while scanning context",F),M()})}},e.prototype.onMediaStreamReceived=function(n,o,a,c,d,p){var E=this,m=this;return new Promise(function(w,S){var R=function(){var b=E.createVideoElement(c);m.element.append(b),b.onabort=S,b.onerror=S;var H=function(){var X=b.clientWidth,N=b.clientHeight;m.setupUi(X,N,o),m.foreverScan(o,d,p),b.removeEventListener("playing",H),w(null)};b.addEventListener("playing",H),b.srcObject=n,b.play(),m.videoElement=b};if(m.localMediaStream=n,a||!o.aspectRatio)R();else{var M={aspectRatio:o.aspectRatio},F=n.getVideoTracks()[0];F.applyConstraints(M).then(function(b){return R()}).catch(function(b){m.logger.logErrors(["[Html5Qrcode] Constriants could not be satisfied, ignoring constraints",b]),R()})}})},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var o="facingMode",a="deviceId",c={user:!0,environment:!0},d="exact",p=function(b){if(b in c)return!0;throw"config has invalid 'facingMode' value = "+("'"+b+"'")},E=Object.keys(n);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+(" if passed as an object, found "+E.length+" keys");var m=Object.keys(n)[0];if(m!==o&&m!==a)throw"Only '"+o+"' and '"+a+"'  are supported for 'cameraIdOrConfig'";if(m===o){var w=n.facingMode;if(typeof w=="string"){if(p(w))return{facingMode:w}}else if(typeof w=="object")if(d in w){if(p(w[""+d]))return{facingMode:{exact:w[""+d]}}}else throw"'facingMode' should be string or object with"+(" "+d+" as key.");else{var S=typeof w;throw"Invalid type of 'facingMode' = "+S}}else{var R=n.deviceId;if(typeof R=="string")return{deviceId:R};if(typeof R=="object"){if(d in R)return{deviceId:{exact:R[""+d]}};throw"'deviceId' should be string or object with"+(" "+d+" as key.")}else{var M=typeof R;throw"Invalid type of 'deviceId' = "+M}}}var F=typeof n;throw"Invalid type of 'cameraIdOrConfig' = "+F},e.prototype.computeCanvasDrawConfig=function(n,o,a,c){if(n<=a&&o<=c){var d=(a-n)/2,p=(c-o)/2;return{x:d,y:p,width:n,height:o}}else{var E=n,m=o;return n>a&&(o=a/n*o,n=a),o>c&&(n=c/o*n,o=c),this.logger.log("Image downsampled from "+(E+"X"+m)+(" to "+n+"X"+o+".")),this.computeCanvasDrawConfig(n,o,a,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.createVideoElement=function(n){var o=document.createElement("video");return o.style.width=n+"px",o.style.display="block",o.muted=!0,o.setAttribute("muted","true"),o.playsInline=!0,o},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(o){o.style.backgroundColor=n?cn.BORDER_SHADER_MATCH_COLOR:cn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,o,a){var c=n,d=o,p=document.createElement("canvas");return p.style.width=c+"px",p.style.height=d+"px",p.style.display="none",p.id=zn(a)?"qr-canvas":a,p},e.prototype.getShadedRegionBounds=function(n,o,a){if(a.width>n||a.height>o)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(o-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(n,o,a,c){if(!(o-c.width<1||a-c.height<1)){var d=document.createElement("div");d.style.position="absolute";var p=(o-c.width)/2,E=(a-c.height)/2;if(d.style.borderLeft=p+"px solid rgba(0, 0, 0, 0.48)",d.style.borderRight=p+"px solid rgba(0, 0, 0, 0.48)",d.style.borderTop=E+"px solid rgba(0, 0, 0, 0.48)",d.style.borderBottom=E+"px solid rgba(0, 0, 0, 0.48)",d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id=""+cn.SHADED_REGION_ELEMENT_ID,o-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var m=5,w=40;this.insertShaderBorders(d,w,m,-m,null,0,!0),this.insertShaderBorders(d,w,m,-m,null,0,!1),this.insertShaderBorders(d,w,m,null,-m,0,!0),this.insertShaderBorders(d,w,m,null,-m,0,!1),this.insertShaderBorders(d,m,w+m,-m,null,-m,!0),this.insertShaderBorders(d,m,w+m,null,-m,-m,!0),this.insertShaderBorders(d,m,w+m,-m,null,-m,!1),this.insertShaderBorders(d,m,w+m,null,-m,-m,!1),this.hasBorderShaders=!0}n.append(d)}},e.prototype.insertShaderBorders=function(n,o,a,c,d,p,E){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=cn.BORDER_SHADER_DEFAULT_COLOR,m.style.width=o+"px",m.style.height=a+"px",c!==null&&(m.style.top=c+"px"),d!==null&&(m.style.bottom=d+"px"),E?m.style.left=p+"px":m.style.right=p+"px",this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),n.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),Ic="data:image/svg+xml;base64,",em=Ic+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",tm=Ic+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",d0=Ic+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",nm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",h0=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),rm=function(){function e(){this.data=h0.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=h0.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),im=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid silver",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(248 248 248)",this.infoDiv.innerText=u0.builtUsing();var o=document.createElement("a");o.innerText="html5-qrcode",o.href="https://github.com/mebjas/html5-qrcode",o.target="new",this.infoDiv.appendChild(o);var a=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(c);var d=document.createElement("a");d.innerText=u0.reportIssues(),d.href="https://github.com/mebjas/html5-qrcode/issues",d.target="new",this.infoDiv.appendChild(d),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),om=function(){function e(n,o){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=o,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var o=this;this.infoIcon.alt="Info icon",this.infoIcon.src=d0,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return o.onHoverIn()},this.infoIcon.onmouseout=function(a){return o.onHoverOut()},this.infoIcon.onclick=function(a){return o.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=nm,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=d0,this.infoIcon.style.opacity="0.6")},e}(),sm=function(){function e(){var n=this;this.infoDiv=new im,this.infoIcon=new om(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),g0=function(){function e(){}return e.hasCameraPermissions=function(){return new Promise(function(n,o){navigator.mediaDevices.enumerateDevices().then(function(a){a.forEach(function(c){c.kind==="videoinput"&&c.label&&n(!0)}),n(!1)})})},e}(),hr=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,o=this.supportedScanTypes;n<o.length;n++){var a=o[n];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(n){return n===Dr.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===Dr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return vn.DEFAULT_SUPPORTED_SCAN_TYPE;var o=vn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>o)throw"Max "+o+" values expected for supportedScanTypes";for(var a=0,c=n;a<c.length;a++){var d=c[a];if(!vn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(d))throw"Unsupported scan type "+d}return n},e}(),hn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),wr=function(){function e(){}return e.createElement=function(n,o){var a=document.createElement(n);return a.id=o,a.classList.add(hn.ALL_ELEMENT_CLASS),a},e}(),Qd=function(e,n,o,a){function c(d){return d instanceof o?d:new o(function(p){p(d)})}return new(o||(o=Promise))(function(d,p){function E(S){try{w(a.next(S))}catch(R){p(R)}}function m(S){try{w(a.throw(S))}catch(R){p(R)}}function w(S){S.done?d(S.value):c(S.value).then(E,m)}w((a=a.apply(e,n||[])).next())})},Zd=function(e,n){var o={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(S){return m([w,S])}}function m(w){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,c&&(d=w[0]&2?c.return:w[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,w[1])).done)return d;switch(c=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return o.label++,{value:w[1],done:!1};case 5:o.label++,c=w[1],w=[0];continue;case 7:w=o.ops.pop(),o.trys.pop();continue;default:if(d=o.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){o=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){o.label=w[1];break}if(w[0]===6&&o.label<d[1]){o.label=d[1],d=w;break}if(d&&o.label<d[2]){o.label=d[2],o.ops.push(w);break}d[2]&&o.ops.pop(),o.trys.pop();continue}w=n.call(e,o)}catch(S){w=[6,S],c=0}finally{a=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},lm=function(){function e(n,o,a){this.isTorchOn=!1,this.html5Qrcode=n,this.buttonElement=o,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Qd(this,void 0,void 0,function(){var n,o,a,c;return Zd(this,function(d){switch(d.label){case 0:this.buttonElement.disabled=!0,n=!this.isTorchOn,o={torch:n,advanced:[{torch:n}]},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.html5Qrcode.applyVideoConstraints(o)];case 2:return d.sent(),a=this.html5Qrcode.getRunningTrackSettings(),this.updateUiBasedOnLatestSettings(a,n),[3,4];case 3:return c=d.sent(),this.propagateFailure(n,c),this.buttonElement.disabled=!1,[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,o){n.torch===o?(this.buttonElement.innerText=o?ct.torchOffButton():ct.torchOnButton(),this.isTorchOn=o):this.propagateFailure(o),this.buttonElement.disabled=!1},e.prototype.propagateFailure=function(n,o){var a=n?ct.torchOnFailedMessage():ct.torchOffFailedMessage();o&&(a+="; Error = "+o),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),am=function(){function e(n,o){this.torchButton=n,this.torchController=o}return e.create=function(n,o,a){var c=this,d=wr.createElement("button",hn.TORCH_BUTTON_ID),p=new lm(n,d,a);return d.innerText=ct.torchOnButton(),d.style.display=o.display,d.style.marginLeft=o.marginLeft,d.addEventListener("click",function(E){return Qd(c,void 0,void 0,function(){return Zd(this,function(m){switch(m.label){case 0:return[4,p.flipState()];case 1:return m.sent(),p.isTorchEnabled()?(d.classList.remove(hn.TORCH_BUTTON_CLASS_TORCH_OFF),d.classList.add(hn.TORCH_BUTTON_CLASS_TORCH_ON)):(d.classList.remove(hn.TORCH_BUTTON_CLASS_TORCH_ON),d.classList.add(hn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),new e(d,p)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.reset=function(){this.torchButton.innerText=ct.torchOnButton(),this.torchController.reset()},e}(),um=function(){function e(){}return e.isTorchSupported=function(n){return"torch"in n},e}(),cm=function(){function e(n,o,a){this.fileBasedScanRegion=document.createElement("div"),this.fileBasedScanRegion.style.textAlign="center",this.fileBasedScanRegion.style.display=o?"block":"none",n.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=wr.createElement("button",hn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=wr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var d=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var E=p.target;if(!(E.files&&E.files.length===0)){var m=E.files,w=m[0],S=w.name;d.setImageNameToButton(S),a(w)}}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.setImageNameToButton=function(n){var o=20;if(n.length>o){var a=n.substring(0,8),c=n.length,d=n.substring(c-8,c);n=a+"...."+d}var p=ct.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=p},e.prototype.setInitialValueToButton=function(){var n=ct.fileSelectionChooseImage()+" - "+ct.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,o,a){var c=new e(n,o,a);return c},e}(),Jt;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Jt||(Jt={}));function fm(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function dm(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}var hm=function(){function e(n,o,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(o),this.verbose=a===!0,!document.getElementById(n))throw"HTML Element with id="+n+" not found";this.scanTypeSelector=new hr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Yd(this.verbose),this.persistedDataManager=new rm,o.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(n,o){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(d,p){if(n)n(d,p);else{if(a.lastMatchFound===d)return;a.lastMatchFound=d,a.setHeaderMessage(ct.lastMatch(d),Jt.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(d,p){o&&o(d,p)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id="+this.elementId+" not found";c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new f0(this.getScanRegionId(),dm(this.config,this.verbose))},e.prototype.pause=function(n){if(!this.html5Qrcode)throw"Code scanner not initialized.";(zn(n)||n!==!0)&&(n=!1),this.html5Qrcode.pause(n)},e.prototype.resume=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";this.html5Qrcode.resume()},e.prototype.getState=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getState()},e.prototype.clear=function(){var n=this,o=function(){var a=document.getElementById(n.elementId);a&&(a.innerHTML="",n.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,c){if(!n.html5Qrcode){a();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(d){if(!n.html5Qrcode){a();return}n.html5Qrcode.clear(),o(),a()}).catch(function(d){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",d),c(d)}):(n.html5Qrcode.clear(),o())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.applyVideoConstraints(n)},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=vn.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!vn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=vn.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=vn.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:vn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:vn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:vn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var o=document.createElement("div"),a=this.getScanRegionId();o.id=a,o.style.width="100%",o.style.minHeight="100px",o.style.textAlign="center",n.appendChild(o),hr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),d=this.getDashboardId();c.id=d,c.style.width="100%",n.appendChild(c),this.setupInitialDashboard(c)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var o=document.createElement("div");o.style.textAlign="left",o.style.margin="0px",n.appendChild(o);var a=new sm;a.renderInto(o);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",o.appendChild(c)},e.prototype.createSection=function(n){var o=document.createElement("div");o.id=this.getDashboardSectionId(),o.style.width="100%",o.style.padding="10px 0px 10px 0px",o.style.textAlign="left",n.appendChild(o)},e.prototype.createCameraListUi=function(n,o,a){var c=this;c.setHeaderMessage(ct.cameraPermissionRequesting());var d=function(){a||c.createPermissionButton(n,o)};f0.getCameras().then(function(p){c.persistedDataManager.setHasPermission(!0),c.resetHeaderMessage(),p&&p.length>0?(n.removeChild(o),c.renderCameraSelection(p)):(c.setHeaderMessage(ct.noCameraFound(),Jt.STATUS_WARNING),d())}).catch(function(p){c.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:d(),c.setHeaderMessage(p,Jt.STATUS_WARNING)})},e.prototype.createPermissionButton=function(n,o){var a=this,c=wr.createElement("button",this.getCameraPermissionButtonId());c.innerText=ct.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,a.createCameraListUi(n,o,c)}),o.appendChild(c)},e.prototype.createPermissionsUi=function(n,o){var a=this;if(hr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){g0.hasCameraPermissions().then(function(c){c?a.createCameraListUi(n,o):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(n,o))}).catch(function(c){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(n,o)});return}this.createPermissionButton(n,o)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");n.appendChild(o);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=hr.isCameraScanType(this.currentScanType)?"block":"none",o.appendChild(a);var c=document.createElement("div");c.style.textAlign="center",a.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,c),this.renderFileScanUi(o)},e.prototype.renderFileScanUi=function(n){var o=hr.isFileScanType(this.currentScanType),a=this,c=function(d){if(!a.html5Qrcode)throw"html5Qrcode not defined";hr.isFileScanType(a.currentScanType)&&a.html5Qrcode.scanFileV2(d,!0).then(function(p){a.resetHeaderMessage(),a.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){a.setHeaderMessage(p,Jt.STATUS_WARNING),a.qrCodeErrorCallback(p,Gd.createFrom(p))})};this.fileSelectionUi=cm.create(n,o,c)},e.prototype.renderCameraSelection=function(n){var o=this,a=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var d=document.createElement("span");d.style.marginRight="10px";var p=n.length,E=wr.createElement("select",this.getCameraSelectionId());if(p===1)E.style.display="none";else{var m=ct.selectCamera();d.innerText=m+" ("+n.length+")  "}for(var w=[],S=0,R=n;S<R.length;S++){var M=R[S],F=M.id,b=M.label==null?F:M.label,H=document.createElement("option");H.value=F,H.innerText=b,w.push(H),E.appendChild(H)}d.appendChild(E),c.appendChild(d);var X=document.createElement("span"),N=wr.createElement("button",hn.CAMERA_START_BUTTON_ID);N.innerText=ct.scanButtonStartScanningText(),X.appendChild(N);var v=wr.createElement("button",hn.CAMERA_STOP_BUTTON_ID);v.innerText=ct.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,X.appendChild(v);var _=am.create(a.html5Qrcode,{display:"none",marginLeft:"5px"},function(te){a.setHeaderMessage(te,Jt.STATUS_WARNING)}),V=_.getTorchButton();X.appendChild(V);var Y=function(te){if(!um.isTorchSupported(te)){V.style.display="none";return}V.style.display="inline-block"};c.appendChild(X);var B=function(te){te||(N.style.display="none"),N.innerText=ct.scanButtonStartScanningText(),N.style.opacity="1",N.disabled=!1,te&&(N.style.display="inline-block")};if(N.addEventListener("click",function(te){N.innerText=ct.scanButtonScanningStarting(),E.disabled=!0,N.disabled=!0,N.style.opacity="0.5",o.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var xe=E.value;a.persistedDataManager.setLastUsedCameraId(xe),a.html5Qrcode.start(xe,fm(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(be){v.disabled=!1,v.style.display="inline-block",B(!1),o.config.showTorchButtonIfSupported===!0&&Y(a.html5Qrcode.getRunningTrackSettings())}).catch(function(be){a.showHideScanTypeSwapLink(!0),E.disabled=!1,B(!0),a.setHeaderMessage(be,Jt.STATUS_WARNING)})}),p===1&&N.click(),v.addEventListener("click",function(te){if(!a.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,a.html5Qrcode.stop().then(function(xe){o.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),E.disabled=!1,N.disabled=!1,v.style.display="none",N.style.display="inline-block",_.reset(),V.style.display="none",a.insertCameraScanImageToScanRegion()}).catch(function(xe){v.disabled=!1,a.setHeaderMessage(xe,Jt.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){for(var Z=a.persistedDataManager.getLastUsedCameraId(),P=!1,he=0,se=w;he<se.length;he++){var H=se[he];if(H.value===Z){P=!0;break}}P?(E.value=Z,N.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,o=ct.textIfCameraScanSelected(),a=ct.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");d.style.textAlign="center";var p=wr.createElement("a",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.innerText=hr.isCameraScanType(this.currentScanType)?o:a,p.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,hr.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),p.innerText=a,n.currentScanType=Dr.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),p.innerText=o,n.currentScanType=Dr.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),d.appendChild(p),c.appendChild(d)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,o=this;if(this.persistedDataManager.hasCameraPermissions()){g0.hasCameraPermissions().then(function(a){if(a){var c=document.getElementById(o.getCameraPermissionButtonId());if(!c)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else o.persistedDataManager.setHasPermission(!1)}).catch(function(a){o.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},e.prototype.setHeaderMessage=function(n,o){o||(o=Jt.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=n,a.style.display="block",o){case Jt.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case Jt.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case Jt.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(n){n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none"},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,o=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){o.innerHTML="<br>",o.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){o.innerHTML="<br>",o.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=em},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,o=document.getElementById(this.getScanRegionId());if(this.fileScanImage){o.innerHTML="<br>",o.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){o.innerHTML="<br>",o.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=tm},e.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},e.prototype.getDashboardSectionId=function(){return this.elementId+"__dashboard_section"},e.prototype.getDashboardSectionCameraScanRegionId=function(){return this.elementId+"__dashboard_section_csr"},e.prototype.getDashboardSectionSwapLinkId=function(){return hn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return this.elementId+"__scan_region"},e.prototype.getDashboardId=function(){return this.elementId+"__dashboard"},e.prototype.getHeaderMessageContainerId=function(){return this.elementId+"__header_message"},e.prototype.getCameraSelectionId=function(){return hn.CAMERA_SELECTION_SELECT_ID},e.prototype.getCameraPermissionButtonId=function(){return hn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const gm=()=>{const[e,n]=W.useState("No barcode detected"),o=W.useRef(null);return W.useEffect(()=>{const a=new hm("reader",{fps:5,qrbox:{width:300,height:300}},!1);return a.render((c,d)=>{console.log("Decoded Text:",c,d),n(c)},c=>{console.warn("Scan Error:",c)}),()=>{a.clear()}},[]),ye.jsxs("div",{children:[ye.jsx("h1",{children:"Barcode Scanner"}),ye.jsx("div",{id:"reader",ref:o}),ye.jsxs("p",{children:["Detected Barcode: ",e]})]})},pm=()=>ye.jsx("div",{className:"Container",children:ye.jsx("h1",{children:"PROGRESS"})}),xm="/%20NutriPal/assets/HamburgerIcon-CmrZuiTP.png",mm="/%20NutriPal/assets/CrossIcon-DajNkRk-.png",wm=()=>{const[e,n]=W.useState(!1);return ye.jsxs("div",{className:"hamburger-container",children:[ye.jsx("button",{onClick:()=>n(!e),className:"menu-button",children:e?ye.jsx("img",{src:mm,alt:"Close Menu",className:"icon"}):ye.jsx("img",{src:xm,alt:"Open Menu",className:"icon"})}),e&&ye.jsxs("div",{className:"menu",children:[ye.jsx("a",{href:"/",children:"Home 🏠"}),ye.jsx("a",{href:"/Scanner",children:"Scanner 📷"}),ye.jsx("a",{href:"/Progress",children:"Progress 🏋️"}),ye.jsx("a",{href:"/",children:"About 📝"})]})]})},Em=()=>ye.jsxs("nav",{className:"navbar",children:[ye.jsx("div",{className:"logo",children:"NutriPal"}),ye.jsx(wm,{})]});function ym(){return ye.jsx(Nx,{children:ye.jsxs("div",{children:[ye.jsx(Em,{}),ye.jsxs(rx,{children:[ye.jsx(Vs,{path:"/",element:ye.jsx(Ux,{})}),ye.jsx(Vs,{path:"/scanner",element:ye.jsx(gm,{})}),ye.jsx(Vs,{path:"/progress",element:ye.jsx(pm,{})})]})]})})}Md(document.getElementById("root")).render(ye.jsx(W.StrictMode,{children:ye.jsx(ym,{})}));
